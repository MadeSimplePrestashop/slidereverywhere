(function(e,t,n,r,i,s,o,u,a,f){function E(e){if("azexo_title"in window&&e in window.azexo_title){return window.azexo_title[e]}else{return S(e)}}function S(e){if("azexo_t"in window){return window.azexo_t(e)}else{return e}}function x(){if("azexo_lang"in window){return window.azexo_lang}else{return"en"}}function T(t){if("azexo_editor"in window){t(window.azexo_editor);return}if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_login",url:window.location.href,password:ht("azexo_password")},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"login",password:ht("azexo_password")},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}}else{t(false)}}function N(t){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_types",url:window.location.href},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_types"},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}}function C(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_names",container_type:t,url:window.location.href},dataType:"json",cache:false,context:this}).done(function(e){n(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_names",container_type:t},dataType:"json",cache:false,context:this}).done(function(e){n(e)})}}function k(e){var t="";for(Ct=0;Ct<e.length;Ct++){var n=e.charCodeAt(Ct);var r=n^7;t=t+String.fromCharCode(r)}return t}function L(t,n,r){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_container",type:t,name:n,shortcode:btoa(k(encodeURIComponent(r)))},dataType:"json",cache:false,context:this}).done(function(e){if(e){}})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"container_save",type:t,name:n,shortcode:btoa(k(encodeURIComponent(r)))},dataType:"json",cache:false,context:this}).done(function(e){if(e){}})}}function A(t,n,r){if(f.hasOwnProperty(t+"/"+n)){r(f[t+"/"+n]);return}if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_container",type:t,name:n},cache:!window.azexo_editor}).done(function(e){f[t+"/"+n]=e;r(e)}).fail(function(){r("")})}else{if("azexo_exporter"in window){r("");return}t=t===""?"default":t;var i=window.azexo_baseurl+"../azexo_containers/"+t+"/"+n;e.ajax({url:i,cache:!window.azexo_editor}).done(function(e){f[t+"/"+n]=e;r(e)}).fail(function(){r("")})}}else{if("azexo_exporter"in window){r("");return}t=t===""?"default":t}}function O(t){if("azexo_cms_element_names"in window){t(window.azexo_cms_element_names);return}if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_names",url:window.location.href},dataType:"json",cache:false,context:this}).done(function(e){t(e)}).fail(function(){t(false)})}else{t(false)}}else{t(false)}}function M(t,n,r,i){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_cms_element",name:t,settings:n,container:r},cache:!window.azexo_editor}).done(function(e){i(e)})}}function D(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_settings",name:t,url:window.location.href},cache:!window.azexo_editor}).done(function(e){n(e)})}}function P(t){if("azexo_template_elements"in window){for(var n in window.azexo_template_elements){window.azexo_template_elements[n].html=decodeURIComponent(atob(window.azexo_template_elements[n].html))}t(window.azexo_template_elements);return}if(window.azexo_online){e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_elements",url:window.location.href},dataType:"json",cache:!window.azexo_editor,context:this}).done(function(e){t(e)})}else{azexo_add_js({path:"../azexo_elements/elements.js",callback:function(){for(var e in azexo_template_elements){azexo_template_elements[e].html=decodeURIComponent(atob(azexo_template_elements[e].html))}t(azexo_template_elements)}})}}function H(t){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_templates",url:window.location.href},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_templates"},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}}function B(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_template",url:window.location.href,name:t},cache:false}).done(function(e){n(e)}).fail(function(){n("")})}else{var r=window.azexo_baseurl+"../azexo_templates/"+t;e.ajax({url:r,cache:false}).done(function(e){n(e)}).fail(function(){n("")})}}function j(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_template",url:window.location.href,name:t,template:n},cache:false,context:this}).done(function(e){})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_template",name:t,template:n},cache:false,context:this}).done(function(e){})}}function F(t){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_delete_template",url:window.location.href,name:t},cache:false,context:this}).done(function(e){})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"delete_template",name:t},cache:false,context:this}).done(function(e){})}}function I(t){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_recaptcha_publickey"},cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_recaptcha_publickey"},cache:false,context:this}).done(function(e){t(e)})}}else{t("")}}function q(t,n,r,i,s){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_form",container_type:t,container_name:n,name:r,values:i},dataType:"json",cache:false,context:this}).done(function(e){s(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_form",name:r,values:i},dataType:"json",cache:false,context:this}).done(function(e){s(e)})}}else{s("")}}function R(t,n,r,i){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_submissions",container_type:t,container_name:n,name:r},dataType:"json",cache:false,context:this}).done(function(e){i(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"load_submissions",name:r},dataType:"json",cache:false,context:this}).done(function(e){i(e)})}}else{i("")}}function U(t,n,r){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_submissions",submissions:n},dataType:"json",cache:false,context:this}).done(function(e){r(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_submissions",name:t,submissions:n},dataType:"json",cache:false,context:this}).done(function(e){r(e)})}}else{r("")}}function z(t){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_settings_form",url:window.location.href},cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_settings_form"},cache:false,context:this}).done(function(e){t(e)})}}else{t("")}}function W(t,n){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_settings_form",url:window.location.href,values:t},dataType:"json",cache:false,context:this}).done(function(e){n(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_settings_form",values:t},dataType:"json",cache:false,context:this}).done(function(e){n(e)})}}else{n("")}}function X(t,n){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_export",url:window.location.href,site:t},cache:false,context:this}).done(function(e){n(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"export",url:window.location.href,site:t},cache:false,context:this}).done(function(e){n(e)})}}else{n("")}}function V(t){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_sites",url:window.location.href},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_sites"},dataType:"json",cache:false,context:this}).done(function(e){t(e)})}}function $(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_site",url:window.location.href,name:t},cache:false}).done(function(e){n(e)}).fail(function(){n("")})}else{var r=window.azexo_baseurl+"../azexo_sites/"+t;e.ajax({url:r,cache:false}).done(function(e){n(e)}).fail(function(){n("")})}}function J(t,n){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_site",url:window.location.href,name:t,site:n},cache:false,context:this}).done(function(e){})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_site",name:t,site:n},cache:false,context:this}).done(function(e){})}}function K(t){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_delete_site",url:window.location.href,name:t},cache:false,context:this}).done(function(e){})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"delete_site",name:t},cache:false,context:this}).done(function(e){})}}function Q(t,n,r,i,s){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_ftp_get_list",host:t,username:n,password:r,directory:i},cache:false,dataType:"json",context:this}).done(function(e){s(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"ftp_get_list",host:t,username:n,password:r,directory:i},cache:false,dataType:"json",context:this}).done(function(e){s(e)})}}else{s("")}}function G(t,n,r,i,s,o,u,a){if(window.azexo_online){if("ajaxurl"in window){e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_ftp_upload",url:window.location.href,site:t,site_path:n,files:r,host:i,username:s,password:o,directory:u},cache:false,dataType:"json",context:this}).done(function(e){a(e)})}else{e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"ftp_upload",url:window.location.href,site:t,site_path:n,files:r,host:i,username:s,password:o,directory:u},cache:false,dataType:"json",context:this}).done(function(e){a(e)})}}else{a("")}}function Y(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e;e.baseclass=t}function Z(e,t){var n={};for(var r in t){if(typeof n[r]=="undefined"||n[r]!=t[r]){e[r]=t[r]}}if(document.all&&!document.isOpera){var i=t.toString;if(typeof i=="function"&&i!=e.toString&&i!=n.toString&&i!="\nfunction toString() {\n    [native code]\n}\n"){e.toString=t.toString}}return e}function tt(e,t,n,r){if(n<0){n=n+e.length}r=r!==undefined?r:e.length;if(r<0){r=r+e.length-n}return e.slice(0,n)+t.substr(0,r)+t.slice(r)+e.slice(n+r)}function nt(e){function t(e){return("0"+parseInt(e).toString(16)).slice(-2)}return e.replace(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/g,function(e,n,r,i){return"#"+t(n)+t(r)+t(i)})}function rt(e,t){var r=n+"col-"+t+"-",i=e?e.split("/"):[1,1],s=_.range(1,13),o=!_.isUndefined(i[0])&&_.indexOf(s,parseInt(i[0],10))>=0?parseInt(i[0],10):false,u=!_.isUndefined(i[1])&&_.indexOf(s,parseInt(i[1],10))>=0?parseInt(i[1],10):false;if(o!==false&&u!==false){return r+12*o/u}return r+"12"}function it(e,t){if(e==n+"col-"+t+"-12")return"1/1";else if(e==n+"col-"+t+"-11")return"11/12";else if(e==n+"col-"+t+"-10")return"5/6";else if(e==n+"col-"+t+"-9")return"3/4";else if(e==n+"col-"+t+"-8")return"2/3";else if(e==n+"col-"+t+"-7")return"7/12";else if(e==n+"col-"+t+"-6")return"1/2";else if(e==n+"col-"+t+"-5")return"5/12";else if(e==n+"col-"+t+"-4")return"1/3";else if(e==n+"col-"+t+"-3")return"1/4";else if(e==n+"col-"+t+"-2")return"1/6";else if(e==n+"col-"+t+"-1")return"1/12";return false}function ut(e){return e.replace(/"/g,"``")}function at(e){if(_.isString(e))return e.replace(/(\`{2})/g,'"');else return e}function ft(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}))}function lt(e){e=(e+"").toString();return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function ct(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var i=encodeURIComponent(t)+(n===null?"":"; expires="+r.toUTCString());document.cookie=e+"="+i}function ht(e){var t,n,r,i=document.cookie.split(";");for(t=0;t<i.length;t++){n=i[t].substr(0,i[t].indexOf("="));r=i[t].substr(i[t].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,"");if(n==e){return decodeURIComponent(r)}}}function pt(t,n){var r="<select>";for(var i in t){r=r+'<option value="'+i+'">"'+t[i]+'"</option>'}r=r+"</select>";e(n).css("display","none");var s=e(r).insertAfter(n);if(e(n).val().length){e(s).append('<option value=""></option>');var o=e(n).val();if(!e(s).find('option[value="'+o+'"]').length){e(s).append('<option value="'+o+'">"'+o+'"</option>')}e(s).find('option[value="'+o+'"]').attr("selected","selected")}else{e(s).append('<option value="" selected></option>')}e(s).chosen({search_contains:true,allow_single_deselect:true});e(s).change(function(){e(this).find("option:selected").each(function(){e(n).val(e(this).val())})});e(s).parent().find(".chosen-container").width("100%");e('<div><a class="direct-input" href="#">'+S("Direct input")+"</a></div>").insertBefore(s).click(function(){e(n).css("display","block");e(s).parent().find(".chosen-container").remove();e(s).remove();e(this).remove()});return s}function dt(t,n,r){var i='<select multiple="multiple">';var s="";for(var o in t){if(o.indexOf("optgroup")>=0){if(s==""){i=i+"</optgroup>"}i=i+'<optgroup label="'+t[o]+'">';s=t[o];continue}i=i+'<option value="'+o+'">"'+t[o]+'"</option>'}if(s!=""){i=i+"</optgroup>"}i=i+"</select>";e(n).css("display","none");var u=e(i).insertAfter(n);if(e(n).val().length){var a=e(n).val().split(r);for(var f=0;f<a.length;f++){if(!e(u).find('option[value="'+a[f]+'"]').length){e(u).append('<option value="'+a[f]+'">"'+a[f]+'"</option>')}e(u).find('option[value="'+a[f]+'"]').attr("selected","selected")}}e(u).chosen({search_contains:true});e(u).change(function(){var t=[];e(this).find("option:selected").each(function(){t.push(e(this).val())});e(n).val(t.join(r))});e(u).parent().find(".chosen-container").width("100%");e('<div><a class="direct-input" href="#">'+S("Direct input")+"</a></div>").insertBefore(u).click(function(){e(n).css("display","block");e(u).parent().find(".chosen-container").remove();e(u).remove();e(this).remove()});return u}function vt(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var n=e.match(t);if(n&&n[7].length==11){return n[7]}else{return false}}function mt(e){var t=e.match(/^.+vimeo.com\/(.*\/)?([^#\?]*)/);return t?t[2]||t[1]:false}function gt(e){if(e.search(/^\/\//)!=-1){return window.location.protocol+e}if(e.search(/:\/\//)!=-1){return e}if(e.search(/^\//)!=-1){return window.location.origin+e}var t=window.location.href.match(/(.*\/)/)[0];return t+e}function yt(e,t,r){var i='<select name="'+t+'" class="'+n+'form-control">';i+='<option value="">'+S("Please select")+"</option>";for(var s in e){if(s==r)i+='<option value="'+s+'" selected>'+e[s]+"</option>";else i+='<option value="'+s+'">'+e[s]+"</option>"}i+="/<select>";return i}function bt(e){return'<div class="'+n+"alert "+n+"alert-warning "+n+"fade "+n+'in" role="alert"><button type="button" class="'+n+'close" data-dismiss="alert"><span aria-hidden="true">×</span><span class="'+n+'sr-only">'+S("Close")+"</span></button>"+e+"</div>"}function wt(){this.dom_element=null;this.heading="";this.description="";this.param_name="";this.required=false;this.admin_label="";this.holder="";this.wrapper_class="";this.value=null;this.can_be_empty=false;this.hidden=false;this.tab="";this.dependency={};if("create"in this){this.create()}}function Et(e,t){Y(t,wt);t.prototype.type=e;wt.prototype.param_types[e]=t}function St(e){if(e.type in wt.prototype.param_types){var t=new wt.prototype.param_types[e.type];Z(t,e);return t}else{var t=new wt;Z(t,e);return t}}function xt(){xt.baseclass.apply(this,arguments)}function Tt(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes.length===0?"":t.childNodes[0].nodeValue}function Nt(){Nt.baseclass.apply(this,arguments)}function At(){}function Ot(e,n){if(t)this.id=_.uniqueId("f");else this.id=_.uniqueId("b");if(e!=null){this.parent=e;if(typeof n==="boolean"){if(n)e.children.push(this);else e.children.unshift(this)}else{e.children.splice(n,0,this)}}this.children=[];this.dom_element=null;this.dom_content_element=null;this.attrs={};for(var r=0;r<this.params.length;r++){if(_.isString(this.params[r].value))this.attrs[this.params[r].param_name]=this.params[r].value;else{if(!this.params[r].hidden)this.attrs[this.params[r].param_name]=""}}this.controls=null;o.add_element(this.id,this,n)}function _t(e,t,n){Y(n,Ot);n.prototype.base=e;n.prototype.is_container=t;Ot.prototype.elements[e]=n;Ot.prototype.tags[e]=n;if(t){for(var r=1;r<Ot.prototype.max_nested_depth;r++){Ot.prototype.tags[e+"_"+r]=n}}}function Dt(e,t){Dt.baseclass.apply(this,arguments)}function Ht(){if(window.azexo_editor){azexo_add_css("css/font-awesome.css",function(){});if(e("#azexo-clipboard").length==0){e("body").prepend('<div id="azexo-clipboard" style="display:none"></div>')}azexo_add_js({path:"chosen/chosen.jquery.min.js"});azexo_add_css("chosen/chosen.min.css",function(){});for(var t in o.elements_instances){var n=o.elements_instances[t];if(n instanceof on){e(n.dom_element).addClass("azexo-editor")}if(n.controls==null){n.show_controls()}n.update_sortable()}e("#az-exporter").show()}else{for(var t in o.elements_instances){var n=o.elements_instances[t];if(n instanceof on){e(n.dom_element).removeClass("azexo-editor")}if(n.controls!=null){e(n.controls).remove()}n.update_empty()}e("#az-exporter").hide()}}function Bt(){if(!("ajaxurl"in window))if(!window.azexo_editor||window.azexo_online)delete window.azexo_editor;T(function(e){window.azexo_editor=e;Ht();if(!e&&"azexo_exporter"in window)qt()})}function jt(t){e.holdReady(true);if(document.readyState==="complete"){setTimeout(t)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false);window.addEventListener("load",t,false)}else{document.attachEvent("onreadystatechange",t);window.attachEvent("onload",t)}}function Ft(i){if(e(i).length>0){var s=e(i).html();var o=/^\s*\<[\s\S]*\>\s*$/.exec(s);if(o||s==""&&"ajaxurl"in window){e(i).find("> script").detach().appendTo("head");e(i).find("> link[href]").detach().appendTo("head");var u=new on(null,false);u.attrs["container"]=e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name");u.dom_element=e(i);e(u.dom_element).attr("data-az-id",u.id);u.dom_content_element=e(i);e(u.dom_element).css("display","");e(u.dom_element).addClass("azexo");u.parse_html(u.dom_content_element);u.html_content=true;u.loaded_container=u.attrs["container"];for(var a=0;a<u.children.length;a++){u.children[a].recursive_render()}if(!t){u.dom_content_element.empty();if(window.azexo_editor){u.show_controls();u.update_sortable()}u.attach_children()}u.rendered=true;for(var a=0;a<u.children.length;a++){u.children[a].recursive_showed()}}else{if(s.replace(/^\s+|\s+$/g,"")!="")f[e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name")]=s.replace(/^\s+|\s+$/g,"");var u=new on(null,false);u.attrs["container"]=e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name");u.render(e,n,r);var l=e(u.dom_element).attr("class")+" "+e(i).attr("class");l=e.unique(l.split(" ")).join(" ");e(u.dom_element).attr("class",l);e(u.dom_element).attr("style",e(i).attr("style"));e(u.dom_element).css("display","");e(u.dom_element).addClass("azexo");var c=e(i).attr("data-az-type");var h=e(i).attr("data-az-name");e(i).replaceWith(u.dom_element);e(u.dom_element).attr("data-az-type",c);e(u.dom_element).attr("data-az-name",h);u.showed(e,n,r);if(window.azexo_editor)u.show_controls()}if(window.azexo_editor){e(u.dom_element).addClass("azexo-editor")}return u}return null}function qt(){e("#az-admin-modal").remove();var t='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+S("Azexo Composer")+"</h4></div>";var i='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+S("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+S("Save changes")+"</button></div>";var s=e('<div id="az-admin-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+t+'<div class="'+n+'modal-body"></div>'+i+"</div></div></div>").prependTo("body");var o=null;z(function(t){if(t.length>0&&t!="0"&&t!="false"){o=e(t).on("keydown.azexo",function(t){if(t.keyCode==13){e("#az-admin-modal").find(".save").click()}});e(s).find("."+n+"modal-body").append(o);if(window.azexo_editor){e('<button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+S("Logout")+"</button>").appendTo("#az-admin-modal .modal-footer").click(function(){ct("azexo_password","",null);window.location.reload()})}e("#az-admin-modal").find(".save").click(function(){W(o.serialize(),function(t){if(t)window.location.reload();e("#az-admin-modal")[r+"modal"]("hide")});return false});e("#az-admin-modal")[r+"modal"]("show")}})}function Rt(){if(It)return;It=true;e(".az-container").each(function(){var e=Ft(this);if(e)a.push(e)});if(window.azexo_editor){if(e("#azexo-clipboard").length==0){e("body").prepend('<div id="azexo-clipboard" style="display:none"></div>')}}e("body").on("keydown.azexo",function(e){if(e.ctrlKey&&e.altKey){qt()}})}function zt(e,t){zt.baseclass.apply(this,arguments)}function Wt(e,t,n){Y(n,zt);n.prototype.base=e;n.prototype.is_container=t;zt.prototype.elements[e]=n;zt.prototype.tags[e]=n;if(t){for(var r=1;r<zt.prototype.max_nested_depth;r++){zt.prototype.tags[e+"_"+r]=n}}}function Xt(e,t){Xt.baseclass.apply(this,arguments)}function Vt(e,t){Vt.baseclass.apply(this,arguments);this.columns="";if(!t||typeof t!=="boolean"){this.set_columns("1/1")}this.attrs["device"]="sm"}function $t(e,t){$t.baseclass.call(this,e,t)}function Jt(e,t){Jt.baseclass.apply(this,arguments);this.linked_elements_index={};if(!t||typeof t!=="boolean"){this.add_item()}this.attach_events()}function Kt(e,t){Kt.baseclass.apply(this,arguments)}function Qt(e,t){Qt.baseclass.apply(this,arguments)}function Gt(e,t){Gt.baseclass.apply(this,arguments);if(!t||typeof t!=="boolean"){this.add_tab()}}function Yt(e,t){Yt.baseclass.apply(this,arguments)}function Zt(e,t){Zt.baseclass.apply(this,arguments);if(!t||typeof t!=="boolean"){this.add_toggle()}}function en(e,t){en.baseclass.apply(this,arguments)}function tn(e,t){tn.baseclass.apply(this,arguments);if(!t||typeof t!=="boolean"){this.add_slide()}}function nn(e,t){nn.baseclass.apply(this,arguments)}function rn(e,t){rn.baseclass.apply(this,arguments);if(!t||typeof t!=="boolean"){this.add_step()}if(window.azexo_editor){this.init_scroll_variables()}}function sn(e,t){sn.baseclass.apply(this,arguments)}function on(e,t){on.baseclass.apply(this,arguments);this.rendered=false;this.loaded_container=null;this.js={};this.css={}}function un(t,i){un.baseclass.apply(this,arguments);this.menu_items={};for(var s in o.elements_instances){var u=o.elements_instances[s];if(u instanceof Xt){if(u.attrs["menu_item_title"]!=""){this.menu_items[s]=u.attrs["menu_item_title"]}}}var a=this;var f=function(t,i){e("body")[r+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height});var s=o.get_element(i);if(s instanceof Xt){if(s.attrs["menu_item_title"]!=""){a.menu_items[i]=s.attrs["menu_item_title"];a.replace_render();a.showed(e,n,r)}else{if(i in a.menu_items){delete a.menu_items[i];a.replace_render();a.showed(e,n,r)}}}};e(document).on("azexo_add_element",function(e,t){f(e,t.id)});e(document).on("azexo_edited_element",f);e(document).on("azexo_delete_element",function(t,i){e("body")[r+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height});var s=o.get_element(i);if(s instanceof Xt){delete a.menu_items[i];a.replace_render();a.showed(e,n,r)}});e(document).on("azexo_update_sorting",function(t,i){e("body")[r+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height});var s=e(i.item).closest("[data-az-id]").attr("data-az-id");var u=o.get_element(s);if(a.id==s){e(u.dom_element).find("."+n+"navbar")[r+"affix"]({offset:{top:e(u.dom_element).find("."+n+"navbar").offset().top,bottom:0}})}})}function an(e,t){an.baseclass.apply(this,arguments)}function fn(e,t){fn.baseclass.apply(this,arguments)}function ln(e,t){Y(t,fn);t.prototype.base=e;fn.prototype.elements[e]=t;fn.prototype.tags[e]=t;fn.prototype.form_elements[e]=t}function cn(){if("azexo_elements"in window){var e=0;for(var t in window.azexo_elements){if(window.azexo_elements[t-e]["base"]=="az_jumbotron"||window.azexo_elements[t-e]["base"]=="az_panel"||window.azexo_elements[t-e]["base"]=="az_gallery"||window.azexo_elements[t-e]["base"]=="az_images_carousel"||window.azexo_elements[t-e]["base"]=="az_separator"||window.azexo_elements[t-e]["base"]=="az_scroll_menu"){window.azexo_elements.splice(t-e,1);e++}}for(var e=0;e<window.azexo_elements.length;e++){var n=window.azexo_elements[e];var r=function(e,t){r.baseclass.apply(this,arguments)};Wt(n.base,n.is_container,r);n.baseclass=r.baseclass;n.params=n.params.concat(r.prototype.params);Z(r.prototype,n);for(var i=0;i<r.prototype.params.length;i++){var s=r.prototype.params[i];var o=St(s);r.prototype.params[i]=o}}}}function hn(){if("azexo_form_elements"in window){for(var e=0;e<window.azexo_form_elements.length;e++){var t=window.azexo_form_elements[e];var n=function(e,t){n.baseclass.apply(this,arguments)};ln(t.base,n);t.baseclass=n.baseclass;t.params=t.params.concat(n.prototype.params);Z(n.prototype,t);for(var r=0;r<n.prototype.params.length;r++){var i=n.prototype.params[r];var s=St(i);n.prototype.params[r]=s}}}}function pn(){if("azexo_extend"in window){for(var e in window.azexo_extend){var t=window.azexo_extend[e];var n={};if("params"in t)n=t.params;t.params={};var r=Ot.prototype.elements[e];if(!("extended"in r)){r.extended=true;Z(r.prototype,t);for(var i=0;i<n.length;i++){var s=St(n[i]);r.prototype.params.push(s)}}}}}function dn(){if(!window.azexo_editor||window.azexo_online)P(function(e){if(_.isObject(e)){o.create_template_elements(e)}})}function vn(){O(function(e){if(_.isObject(e)){o.create_cms_elements(e)}else{o.cms_elements_loaded=true}})}function Sn(){function t(t){e(t).find("link[href]").each(function(){e(this).attr("href",gt(e(this).attr("href")))});e(t).find("script[src]").each(function(){e(this).attr("src",gt(e(this).attr("src")))});e(t).find("img[src]").each(function(){e(this).attr("src",gt(e(this).attr("src")))})}function i(n,r,i){var s={};var o={};var u=e("<div>"+gn+"</div>");for(var a=0;a<n.length;a++){var f=n[a];var l=f.attrs["container"].split("/")[0];var c=f.attrs["container"].split("/")[1];var h=e(u).find('.az-container[data-az-type="'+l+'"][data-az-name="'+c+'"]');e(h).empty();e(h).append(f.get_hover_styles(f));if(r){var p=window.azexo_online;window.azexo_online=false;e(h).append(f.get_loader());window.azexo_online=p}e(h).append(f.get_html());s=e.extend(s,n[a].js);o=e.extend(o,n[a].css)}var d="";e.each(yn,function(){d=d+this.name+'"'+this.value+'" '});t(u);e(u).find(".azexo-backend").remove();var v="<body "+d+">"+e(u).html()+"</body>";var u=e("<div>"+mn+"</div>");e(u).find(".azexo-backend").remove();e(u).find("title").text(i);t(u);for(var m in s){e(u).append('<script src="'+gt(m)+'"></script>')}for(var m in o){e(u).append('<link rel="stylesheet" type="text/css" href="'+gt(m)+'">')}var g="<head>"+e(u).html()+"</head>";return"<!DOCTYPE html><html>"+g+v+"</html>"}if(e("#az-exporter").length==0){window.links_select=function(e,t){var n={};for(var r in wn){n[r+".html"]=wn[r].title}pt(n,e)};for(var s=0;s<a.length;s++){a[s].saveable=false}mn=e("head").html();gn=e("body").html();yn=e("body").prop("attributes");var o=e('<div id="az-exporter" class="az-right-sidebar '+n+'text-center"></div>').appendTo("body");var u=e('<div id="az-exporter-welcome">'+S("Manage and export your site via right panel.")+"</div>").appendTo(o);e(o).hover(function(){e(u).remove()});e("<hr>").appendTo(o);e("<h4>"+S("Current site")+"</h4>").appendTo(o);var f=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(o);e("<hr>").appendTo(o);function l(t){for(var n=0;n<a.length;n++){var r=e(a[n].dom_element).parent();e(a[n].dom_element).detach();e(bn[t][n].dom_element).appendTo(r)}a=bn[t];for(var n=0;n<a.length;n++){if("to_recursive_showed"in a[n]){a[n].recursive_showed();delete a[n].to_recursive_show}}e(v).val(t);e(m).val(wn[t].title)}function c(t){var i=new on(null,false);i.saveable=false;i.rendered=true;i.attrs["container"]=t;i.html_content=true;i.loaded_container=i.attrs["container"];i.render(e,n,r);e(i.dom_element).attr("data-az-id",i.id);e(i.dom_element).addClass("azexo-editor");e(i.dom_element).addClass("azexo");i.show_controls();i.update_sortable();i.showed(e,n,r);return i}e('<button class="'+n+"btn "+n+'btn-default">'+S("Add page")+"</button>").appendTo(f).click(function(){var e=window.prompt(S("Please enter page name"),"");if(e!=""&&e!=null){bn[e]=[];for(var t=0;t<a.length;t++){bn[e].push(c(a[t].attrs["container"]))}g(e,e);l(e)}return false});e('<button class="'+n+"btn "+n+'btn-danger">'+S("Remove page")+"</button>").appendTo(f).click(function(){if(e(p).find("a").length>1){var t=e(p).find("."+n+"active").text();e(p).find("."+n+"active").remove();var r=e(p).find("a:first-child").addClass(n+"active").text();l(r);delete bn[t];bn[t]=null}return false});function h(){var e={};for(var t in bn){var n=i(bn[t],true,wn[t].title);e[t]=btoa(k(encodeURIComponent(n)))}return e}e('<button class="'+n+"btn "+n+'btn-success">'+S("ZIP download")+"</button>").appendTo(f).click(function(){var e=h();azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){X(JSON.stringify(e),function(e){if(e)window.location=e})}});return false});e("<h4>"+S("Current site pages")+"</h4>").appendTo(o);var p=e('<div class="'+n+'list-group"></div>').appendTo(o);e("<hr>").appendTo(o);var d=e('<div class="'+n+'text-left"></div>').appendTo(o);e("<h4>"+S("Current page settings")+"</h4>").appendTo(d);var v=e('<div class="'+n+'form-group"><label>'+S("File name")+'</label><div><input class="'+n+'form-control" name="name" type="text"></div><p class="'+n+'help-block">'+S('"html"-extension will be added during export process')+"</p></div>").appendTo(d).find("input").change(function(){var t=e(p).find("."+n+"active").text();var r=e(this).val();bn[r]=bn[t];bn[t]=null;wn[r]=wn[t];wn[t]=null;e(p).find("a."+n+'active:contains("'+t+'")').text(r)});var m=e('<div class="'+n+'form-group"><label>'+S("Title")+'</label><div><input class="'+n+'form-control" name="title" type="text"></div><p class="'+n+'help-block">'+S("")+"</p></div>").appendTo(d).find("input").change(function(){var t=e(p).find("."+n+"active").text();wn[t].title=e(this).val()});bn["index"]=a;g("index","Home");e(v).val("index");e(m).val("Home");function g(t,r){e(p).find("a").removeClass(n+"active");wn[t]={title:r};e('<a href="#" class="'+n+"list-group-item "+n+'active">'+t+"</a>").appendTo(p).click(function(){if(!e(this).hasClass(n+"active")){e(p).find("a").removeClass(n+"active");e(this).addClass(n+"active");l(e(this).text())}return false})}var y=e('<div class="panel panel-default"><div class="panel-heading" role="tab" id="sites-heading"><h4 class="panel-title"><a data-toggle="collapse" href="#sites-collapse" aria-expanded="false" aria-controls="collapseOne" class="collapsed">'+S("Choose a site for edit")+'</a></h4></div><div id="sites-collapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="sites-heading" aria-expanded="false"><div class="panel-body"></div></div></div>').prependTo(o).find(".panel-body");e("<hr>").appendTo(y);var b=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(y);e('<button class="'+n+"btn "+n+'btn-default">'+S("New")+"</button>").appendTo(b).click(function(){var t=window.prompt(S("Please enter site name"),"");if(t!=""&&t!=null){e('<option value="'+t+'">'+t+"</option>").appendTo(E);e(E).find('option[value="'+t+'"]').prop("selected","selected");bn={};wn={};e(p).empty();bn["index"]=[];for(var n=0;n<a.length;n++){bn["index"].push(c(a[n].attrs["container"]))}g("index","Home");l("index");e(w).click()}});e('<button class="'+n+"btn "+n+'btn-danger">'+S("Delete")+"</button>").appendTo(b).click(function(){K(e(E).find("option:selected").val());e(E).find("option:selected").remove();e(E).trigger("change")});var w=e('<button class="'+n+"btn "+n+'btn-primary">'+S("Save")+"</button>").appendTo(f).click(function(){var t={};t.settings=En;t.current_page=e(v).val();t.pages={};for(var n in bn){if(wn[n]!=null&&bn[n]!=null){t.pages[n]=wn[n];wn[n].containers={};for(var r=0;r<bn[n].length;r++){var i=bn[n][r].attrs["container"];wn[n].containers[i]=btoa(k(encodeURIComponent(bn[n][r].get_children_shortcode())))}}}azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){J(e(E).find("option:selected").val(),JSON.stringify(t))}})});e('<button class="'+n+"btn "+n+'btn-success">'+S("FTP upload")+"</button>").appendTo(f).click(function(){e("#az-ftp-modal").remove();var t='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+S("FTP upload")+"</h4></div>";var i='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+S("Close")+"</button></div>";var s=e('<div id="az-ftp-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-sm"><div class="'+n+'modal-content">'+t+'<div class="'+n+'modal-body"></div>'+i+"</div></div></div>").prependTo("body");var o=e(s).find("."+n+"modal-body");var u=e('<div class="'+n+'form-group"><label>'+S("Host")+'</label><div><input class="'+n+'form-control" name="host" type="text" value="'+En["host"]+'"></div><p class="'+n+'help-block"></p></div>').appendTo(o).find("input");var a=e('<div class="'+n+'form-group"><label>'+S("Username")+'</label><div><input class="'+n+'form-control" name="username" type="text" value="'+En["username"]+'"></div><p class="'+n+'help-block"></p></div>').appendTo(o).find("input");var f=e('<div class="'+n+'form-group"><label>'+S("Password")+'</label><div><input class="'+n+'form-control" name="password" type="text" value="'+En["password"]+'"></div><p class="'+n+'help-block"></p></div>').appendTo(o).find("input");var l=e('<div class="'+n+'form-group"><label>'+S("Directory")+'</label><div><input class="'+n+'form-control" name="directory" type="text" value="'+En["directory"]+'"></div><p class="'+n+'help-block"></p></div>').appendTo(o).find("input");var c=e('<button class="'+n+"btn "+n+'btn-primary">'+S("Choose upload directory")+"</button>").appendTo(o).click(function(){function t(n,r){e(p).empty().show();e(v).empty().hide();e(l).val(n);En["directory"]=n;if(n!="."){var i=n.split("/");i.pop();var s=i.join("/");e('<li class="az-directory">..</li>').appendTo(p).click(function(){Q(En["host"],En["username"],En["password"],s,function(e){t(s,e)})});for(var o=0;o<r.length;o++){r[o]=r[o].replace(n+"/","")}}for(var o=0;o<r.length;o++){var u=n+"/"+r[o];(function(n){e('<li class="glyphicon glyphicon-folder-close">'+r[o]+"</li>").appendTo(p).click(function(){Q(En["host"],En["username"],En["password"],n,function(e){t(n,e)})})})(u)}}En["host"]=e(u).val();En["username"]=e(a).val();En["password"]=e(f).val();Q(En["host"],En["username"],En["password"],En["directory"],function(n){if(_.isArray(n)){e(c).hide();t(En["directory"],n)}else{alert(n)}})});e(o).find("input").change(function(){En["host"]=e(u).val();En["username"]=e(a).val();En["password"]=e(f).val();En["directory"]=e(l).val();if(En["host"]!=""&&En["username"]!=""&&En["password"]!=""){e(c).show();e(d).show()}else{e(c).hide();e(d).hide()}});var p=e('<ul class="az-browser"></ul>').appendTo(o).hide();e("<hr>").appendTo(o);var d=e('<button class="'+n+"btn "+n+'btn-success">'+S("Upload current site")+"</button>").appendTo(o).click(function(){var t=h();e(p).empty().hide();e(v).empty().show();azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var r=function(t){if(t["errors"].length>0){for(var i=0;i<t["errors"].length;i++)e(v).append('<div class="'+n+"alert "+n+'alert-danger" >'+t["errors"][i]+"</div>")}else{if(t["uploaded"].length>0){e(v).append('<div class="'+n+"alert "+n+'alert-info">'+t["uploaded"][0]+" uploaded</div>")}if(t["count"]>0){G(JSON.stringify({}),t["site_path"],JSON.stringify(t["files"]),En["host"],En["username"],En["password"],En["directory"],r)}else{e(v).append('<div class="'+n+"alert "+n+'alert-success">'+S("Done")+"</div>")}}};G(JSON.stringify(t),"",JSON.stringify([]),En["host"],En["username"],En["password"],En["directory"],r)}})});e(o).find("input").trigger("change");e("<hr>").appendTo(o);var v=e('<div class="az-messages"></div>').appendTo(o).hide();e("#az-ftp-modal")[r+"modal"]("show")});var E=e('<select class="'+n+'form-control"></select>').prependTo(y).change(function(){x(e(this).find("option:selected").val())});function x(t){$(t,function(t){var r=e.parseJSON(t);bn={};wn=r.pages;En=r.settings;e(p).empty();for(var i in r.pages){bn[i]=new Array(a.length);for(var s in r.pages[i].containers){var o=c(s);o.parse_shortcode(decodeURIComponent(k(atob(r.pages[i].containers[s]))));for(var u=0;u<o.children.length;u++){o.children[u].recursive_render()}e(o.dom_content_element).empty();o.attach_children();o.update_empty();o.update_sortable();o.to_recursive_showed=true;for(var u=0;u<a.length;u++){if(a[u].attrs["container"]==s){bn[i][u]=o;break}}}g(i,r.pages[i].title)}l(r.current_page);e(p).find("a").removeClass(n+"active");e(p).find('a:contains("'+r.current_page+'")').addClass(n+"active")})}V(function(t){if(t==null)return;for(var n=0;n<t.length;n++){e('<option value="'+t[n]+'">'+t[n]+"</option>").appendTo(E)}if(t.length==0){e('<option value="My site">My site</option>').appendTo(E)}else{x(e(E).find("option:selected").val())}});if(!window.azexo_editor)e(o).hide()}}window.azexo_backend=true;var l=arguments.callee.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/mg,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);var c=l[0];var h=l[1];var p=l[2];var d=l[3];var v=l[4];var m=l[5];var g=l[6];var y=l[7];var b=l[8];var w=l[9];if("azexo_prefix"in window){n=window.azexo_prefix;r=window.azexo_prefix.replace("-","_")}window.azexo_title={"Drag and drop":S("Drag and drop element."),Add:S("Add new element into current element area."),Edit:S("Open settings form to change element properties, set CSS styles and add CSS classes."),Paste:S("Paste elements into current element area from clipboard copied into it before."),Copy:S("Copy element or contained elements to clipboard."),Clone:S("Clone current element."),Remove:S("Delete current element"),"Save as template":S("Save element or contained elements as template to template library."),"Save container":S("Save to server all elements which placed in current container element.")};var et={};et.shortcode={next:function(e,t,n){var r=et.shortcode.regexp(e),i,s;r.lastIndex=n||0;i=r.exec(t);if(!i){return}if("["===i[1]&&"]"===i[7]){return et.shortcode.next(e,t,r.lastIndex)}s={index:i.index,content:i[0],shortcode:et.shortcode.fromMatch(i)};if(i[1]){s.match=s.match.slice(1);s.index++}if(i[7]){s.match=s.match.slice(0,-1)}return s},replace:function(e,t,n){return t.replace(et.shortcode.regexp(e),function(e,t,r,i,s,o,u,a){if(t==="["&&a==="]"){return e}var f=n(et.shortcode.fromMatch(arguments));return f?t+f+a:e})},string:function(e){return(new et.shortcode(e)).string()},regexp:_.memoize(function(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),attrs:_.memoize(function(e){var t={},n=[],r,i;r=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g;e=e.replace(/[\u00a0\u200b]/g," ");while(i=r.exec(e)){if(i[1]){t[i[1].toLowerCase()]=i[2]}else if(i[3]){t[i[3].toLowerCase()]=i[4]}else if(i[5]){t[i[5].toLowerCase()]=i[6]}else if(i[7]){n.push(i[7])}else if(i[8]){n.push(i[8])}}return{named:t,numeric:n}}),fromMatch:function(e){var t;if(e[4]){t="self-closing"}else if(e[6]){t="closed"}else{t="single"}return new et.shortcode({tag:e[2],attrs:e[3],type:t,content:e[5]})}};et.shortcode=_.extend(function(e){_.extend(this,_.pick(e||{},"tag","attrs","type","content"));var t=this.attrs;this.attrs={named:{},numeric:[]};if(!t){return}if(_.isString(t)){this.attrs=et.shortcode.attrs(t)}else if(_.isEqual(_.keys(t),["named","numeric"])){this.attrs=t}else{_.each(e.attrs,function(e,t){this.set(t,e)},this)}},et.shortcode);_.extend(et.shortcode.prototype,{get:function(e){return this.attrs[_.isNumber(e)?"numeric":"named"][e]},set:function(e,t){this.attrs[_.isNumber(e)?"numeric":"named"][e]=t;return this},string:function(){var e="["+this.tag;_.each(this.attrs.numeric,function(t){if(/\s/.test(t)){e+=' "'+t+'"'}else{e+=" "+t}});_.each(this.attrs.named,function(t,n){e+=" "+n+'="'+t+'"'});if("single"===this.type){return e+"]"}else if("self-closing"===this.type){return e+" /]"}e+="]";if(this.content){e+=this.content}return e+"[/"+this.tag+"]"}});et.html=_.extend(et.html||{},{attrs:function(e){var t,n;if("/"===e[e.length-1]){e=e.slice(0,-1)}t=et.shortcode.attrs(e);n=t.named;_.each(t.numeric,function(e){if(/\s/.test(e)){return}n[e]=""});return n},string:function(e){var t="<"+e.tag,n=e.content||"";_.each(e.attrs,function(e,n){t+=" "+n;if(""===e){return}if(_.isBoolean(e)){e=e?"true":"false"}t+='="'+e+'"'});if(e.single){return t+" />"}t+=">";t+=_.isObject(n)?et.html.string(n):n;return t+"</"+e.tag+">"}});var st=_.memoize(function(e){return new RegExp("(\\[(\\[?)["+e+"]+"+"(?![\\w-])"+"[^\\]\\/]*"+"[\\/"+"(?!\\])"+"[^\\]\\/]*"+"]?"+"(?:"+"\\/]"+"\\]|\\]"+"(?:"+"[^\\[]*"+"(?:\\["+"(?!\\/"+e+"\\])[^\\[]*"+")*"+""+"\\[\\/"+e+"\\]"+")?"+")"+"\\]?)","g")});var ot=_.memoize(function(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)")});e.fn.closest_descendents=function(t){var n=e(),r=this;while(r.length){n=e.merge(n,r.filter(t));r=r.not(t);r=r.children()}return n};wt.prototype={safe:true,param_types:{},show_editor:function(t,i,s){e("#az-editor-modal").remove();var u='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+i.name+" "+S("settings")+"</h4></div>";var a='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+S("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+S("Save changes")+"</button></div>";var f=e('<div id="az-editor-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+u+'<div class="'+n+'modal-body"></div>'+a+"</div></div></div>").prependTo("body");var l={};for(var c=0;c<t.length;c++){if(t[c].hidden)continue;t[c].element=i;if(t[c].tab in l){l[t[c].tab].push(t[c])}else{l[t[c].tab]=[t[c]]}}var h=e('<div id="az-editor-tabs"></div>');var c=0;var p='<ul class="'+n+"nav "+n+'nav-tabs">';for(var d in l){c++;if(d==="")d=S("General");p+='<li><a href="#az-editor-tab-'+c+'" data-toggle="tab">'+d+"</a></li>"}p+="</ul>";e(h).append(p);c=0;var v=e('<form role="form" class="'+n+'tab-content"></form>');for(var d in l){c++;var m=e('<div id="az-editor-tab-'+c+'" class="'+n+'tab-pane"></div>');for(var g=0;g<l[d].length;g++){l[d][g].render(i.attrs[l[d][g].param_name]);e(m).append(l[d][g].dom_element)}e(v).append(m)}e(h).append(v);e(f).find("."+n+"modal-body").append(h);e('#az-editor-tabs a[href="#az-editor-tab-1"]')[r+"tab"]("show");e('#az-editor-modal input[name="el_class"]').each(function(){dt(Ot.prototype.el_classes,this," ")});for(var c=0;c<t.length;c++){if("element"in t[c].dependency){var y=null;for(var g=0;g<t.length;g++){if(t[g].param_name===t[c].dependency.element){y=t[g];break}}if("is_empty"in t[c].dependency){(function(n,r){e(r.dom_element).find('[name="'+r.param_name+'"]').on("keyup change",function(){if(r.get_value()===""){t[n].display_none=false;e(t[n].dom_element).css("display","block");if("callback"in t[n].dependency){t[n].dependency.callback.call(t[n],r)}}else{t[n].display_none=true;e(t[n].dom_element).css("display","none")}}).trigger("change")})(c,y)}if("not_empty"in t[c].dependency){(function(n,r){e(r.dom_element).find('[name="'+r.param_name+'"]').on("keyup change",function(){if(r.get_value()!==""){t[n].display_none=false;e(t[n].dom_element).css("display","block");if("callback"in t[n].dependency){t[n].dependency.callback.call(t[n],r)}}else{t[n].display_none=true;e(t[n].dom_element).css("display","none")}}).trigger("change")})(c,y)}if("value"in t[c].dependency){(function(n,r){e(r.dom_element).find('[name="'+r.param_name+'"]').on("keyup change",function(){if(_.indexOf(t[n].dependency.value,r.get_value())>=0){t[n].display_none=false;e(t[n].dom_element).css("display","block");if("callback"in t[n].dependency){t[n].dependency.callback.call(t[n],r)}}else{t[n].display_none=true;e(t[n].dom_element).css("display","none")}}).trigger("change")})(c,y)}}}e("#az-editor-modal").one("shown."+r+"bs.modal",function(e){for(var n=0;n<t.length;n++){if(!t[n].hidden)t[n].opened()}});e("#az-editor-modal").one("hidden."+r+"bs.modal",function(e){for(var n=0;n<t.length;n++){t[n].closed()}});e("#az-editor-modal").find(".save").click(function(){var n={};for(var o=0;o<t.length;o++){if(t[o].hidden)continue;if(!("display_none"in t[o])||"display_none"in t[o]&&!t[o].display_none)n[t[o].param_name]=t[o].get_value();if(t[o].required&&n[t[o].param_name]==""){e(t[o].dom_element).addClass("has-error");return false}}e("#az-editor-modal")[r+"modal"]("hide");s.call(i,n);return false});e("#az-editor-modal").find('[data-dismiss="modal"]').click(function(){o.edit_stack=[]});e("#az-editor-modal")[r+"modal"]("show")},opened:function(){},closed:function(){},render:function(e){}};Et("container",xt);Z(xt.prototype,{get_value:function(){return e(this.dom_element).find('input[name="'+this.param_name+'_type"]').val()+"/"+e(this.dom_element).find('input[name="'+this.param_name+'_name"]').val()},render:function(t){var r=t.split("/")[0];var i=t.split("/")[1];this.dom_element=e('<div class="'+n+'form-group"><label>'+this.heading+"</label><div><label>"+S("Type")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_type" type="text" value="'+r+'"></div><div><label>'+S("Name")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_name" type="text" value="'+i+'"></div><p class="'+n+'help-block">'+this.description+"</p></div>")},opened:function(){var t=this.get_value();var n=null;var r=null;var i=this;N(function(t){n=pt(t,e(i.dom_element).find('input[name="'+i.param_name+'_type"]'));e(n).chosen().change(function(){C(e(this).val(),function(t){e(r).parent().find(".direct-input").click();e(i.dom_element).find('input[name="'+i.param_name+'_name"]').val("");r=pt(t,e(i.dom_element).find('input[name="'+i.param_name+'_name"]'))})})});C(t.split("/")[0],function(t){r=pt(t,e(i.dom_element).find('input[name="'+i.param_name+'_name"]'))})}});e.fn.deserialize=function(t){var n=e(this),r={};e.each(t.split("&"),function(){var e=this.split("="),t=ft(e[0]),n=e.length>1?ft(e[1]):null;if(!(t in r)){r[t]=[]}r[t].push(n)});e.each(r,function(e,t){n.find("[name='"+e+"']").val(t[0].replace(/\+/g," "));if(t[0].replace(/\+/g," ")=="on"){n.find("[type='checkbox'][name='"+e+"']").attr("checked","checked")}n.find("select[name='"+e+"'] > option").removeAttr("selected");for(var r=0;r<t.length;r++){n.find("select[name='"+e+"'] > option[value='"+t[r]+"']").prop("selected","selected")}});e("input:checkbox:checked,input:radio:checked").each(function(){if(!(e(this).attr("name")in r)){this.checked=false}});return this};Et("cms_settings",Nt);Z(Nt.prototype,{get_value:function(){return e(this.dom_element).find("form").serialize()},render_form:function(t){var n=this;D(t,function(t){e(n.dom_element).empty();e(t).appendTo(n.dom_element);e(n.dom_element).find('[type="submit"]').remove();if(n.form_value.length>0){e(n.dom_element).deserialize(Tt(n.form_value))}})},get_form:function(e){var t=e.get_value();if(t.length>0){this.render_form(t)}},render:function(t){this.form_value=t;this.dom_element=e('<div class="'+n+'form-group"></div>')},opened:function(){if("instance"in this){this.render_form(this.instance)}}});if("azexo_param_types"in window){for(var Ct=0;Ct<window.azexo_param_types.length;Ct++){var kt=window.azexo_param_types[Ct];var Lt=function(){Lt.baseclass.apply(this,arguments)};Et(kt.type,Lt);kt.baseclass=Lt.baseclass;Z(Lt.prototype,kt)}}window.azexo_add_css=function(t,n){var r=window.azexo_baseurl+t;if(e('link[href*="'+r+'"]').length||"azexo_exported"in window){n();return}var i=document.getElementsByTagName("head")[0];var s=document.createElement("link");s.rel="stylesheet";s.type="text/css";s.href=r;s.onload=n;i.appendChild(s)};window.azexo_add_js_list=function(e){if("loaded"in e&&e.loaded){e.callback()}else{var t=0;for(var n=0;n<e.paths.length;n++){azexo_add_js({path:e.paths[n],callback:function(){t++;if(t==e.paths.length){e.callback()}}})}}};window.azexo_add_js=function(e){if("loaded"in e&&e.loaded||"azexo_exported"in window){e.callback()}else{azexo_add_external_js(window.azexo_baseurl+e.path,"callback"in e?e.callback:function(){})}};window.azexo_add_external_js=function(e,t){if(e in i){i[e].push(t);return}else{if(e in s){t();return}}i[e]=[t];var n=document.getElementsByTagName("head")[0];var r=document.createElement("script");r.type="text/javascript";r.src=e;r.onload=function(){s[e]=true;while(e in i){var t=i[e];i[e]=undefined;delete i[e];for(var n=0;n<t.length;n++){t[n]()}}};n.appendChild(r)};Z(At.prototype,{elements_instances:{},elements_instances_by_an_name:{},template_elements_loaded:false,cms_elements_loaded:false,edit_stack:[],try_render_unknown_elements:function(){if(this.template_elements_loaded&&this.cms_elements_loaded){for(var t in o.elements_instances){var n=o.elements_instances[t];if(n instanceof Dt){var r=n.attrs["content"];var i=/^\s*\<[\s\S]*\>\s*$/.exec(r);if(i)Ot.prototype.parse_html.call(n,r);else Ot.prototype.parse_shortcode.call(n,r);for(var s=0;s<n.children.length;s++){n.children[s].recursive_render()}e(n.dom_content_element).empty();n.attach_children();if(window.azexo_editor)n.update_sortable();n.recursive_showed()}}}},create_template_elements:function(t){var r=[];if("azexo_editable"in window)r=window.azexo_editable;var i=[];if("azexo_styleable"in window)i=window.azexo_styleable;var s=wt.prototype.param_types["icon"].prototype.icons.map(function(e,t,n){return e.replace(/^/,".").replace(/ /,".")});var u=s.join(", ");for(var a in t){var f=t[a].name;var l=t[a].html;var c="";if("thumbnail"in t[a])c=t[a].thumbnail;var h=function(e,t){h.baseclass.apply(this,arguments)};_t(f,false,h);var p=e("<div>"+l+"</div>");var d=e(p).find("."+n+"container, ."+n+"container-fluid").length>0;Z(h.prototype,{name:f,icon:"fa fa-cube",description:S(""),thumbnail:c,params:[St({type:"html",heading:S("Content"),param_name:"content",value:l})].concat(h.prototype.params),show_settings_on_create:false,is_container:true,has_content:true,section:d,category:"Template-elements",is_template_element:true,editable:[".az-editable"].concat(r),styleable:[".az-styleable"].concat(i),show_controls:function(){if(window.azexo_editor){var t=this;h.baseclass.prototype.show_controls.apply(this,arguments);var n=function(){if(o.edit_stack.length>0){var t=o.edit_stack.shift();e(t.node).css("outline-width","2px");e(t.node).css("outline-style","dashed");var i=setInterval(function(){if(e(t.node).css("outline-color")!="rgb(255, 0, 0)")e(t.node).css("outline-color","rgb(255, 0, 0)");else e(t.node).css("outline-color","rgb(255, 255, 255)")},100);setTimeout(function(){clearInterval(i);e(t.node).css("outline-color","");e(t.node).css("outline-width","");e(t.node).css("outline-style","");r(t.node,t.edit,t.style,n)},500)}};function r(n,r,i,o){var a=[];var f="";var l="";var c="";var h=e.trim(e(n).text());if(h!=""){h=e(n).html()}if(r){if(e(n).is(u)){for(var p=0;p<s.length;p++){if(e(n).is(s[p])){c=s[p].split(".");c.shift();c=c.join(" ");break}}a.push(St({type:"icon",heading:S("Icon"),param_name:"icon"}))}if(e(n).prop("tagName")!="IMG"){if(h!=""){a.push(St({type:"textarea",heading:S("Content"),param_name:"content"}))}}else{f=e(n).attr("src");a.push(St({type:"image",heading:S("Image"),param_name:"image",description:S("Select image from media library.")}))}if(e(n).prop("tagName")=="A"){l=e(n).attr("href");a.push(St({type:"link",heading:S("Link"),param_name:"link",description:S("Conent link (url).")}))}}if(i){a.push(St({type:"textfield",heading:S("Content classes"),param_name:"el_class",description:S("If you wish to style particular content element differently, then use this field to add a class name and then refer to it in your css file.")}));a.push(St({type:"style",heading:S("Content style"),param_name:"style",description:S("Style options."),tab:S("Style")}))}e(n).removeClass("editable-highlight");e(n).removeClass("styleable-highlight");e(n).removeClass(c);var d=e(n).attr("class");e(n).addClass(c);if(typeof d===typeof undefined||d===false){d=""}var v=e(n).attr("style");if(typeof v===typeof undefined||v===false){v=""}v=nt(v);wt.prototype.show_editor(a,{name:"Content",attrs:{content:h,link:l,image:f,el_class:d,style:v,icon:c}},function(s){if(r){if(c!=""){e(n).removeClass(c);s["el_class"]=s["el_class"]+" "+s["icon"]}if(e(n).prop("tagName")=="A"){e(n).attr("href",s["link"])}if(e(n).prop("tagName")=="IMG"){e(n).attr("src",s["image"])}else{if(h!=""&&s["content"]!=""){e(n).html(s["content"])}}}if(i){e(n).attr("class",s["el_class"]);e(n).attr("style",s["style"])}t.attrs["content"]=e(t.dom_content_element).html();o()})}for(var i=0;i<this.styleable.length;i++){e(this.dom_element).find(this.styleable[i]).mouseenter(function(){e(this).addClass("styleable-highlight")});e(this.dom_element).find(this.styleable[i]).mouseleave(function(){e(this).removeClass("styleable-highlight")});e(this.dom_element).find(this.styleable[i]).click(function(t){if(e(this).parent().closest(".styleable-highlight, .editable-highlight").length==0){o.edit_stack.push({node:this,edit:false,style:true});n();return false}else{o.edit_stack.push({node:this,edit:false,style:true})}})}for(var i=0;i<this.editable.length;i++){e(this.dom_element).find(this.editable[i]).mouseenter(function(){e(this).addClass("editable-highlight")});e(this.dom_element).find(this.editable[i]).mouseleave(function(){e(this).removeClass("editable-highlight")});e(this.dom_element).find(this.editable[i]).click(function(t){if(e(this).parent().closest(".styleable-highlight, .editable-highlight").length==0){o.edit_stack.push({node:this,edit:true,style:true});n();return false}else{o.edit_stack.push({node:this,edit:true,style:true})}})}}},showed:function(e,t,n){h.baseclass.prototype.showed.apply(this,arguments);var r=this;if(r.section){var i=e(r.dom_element).parent().closest("."+t+"container, ."+t+"container-fluid");var s=e(r.dom_element).parentsUntil("."+t+"container, ."+t+"container-fluid");var o=e(r.dom_element).parent().closest(".az-popup-ctnr");var u=e(r.dom_element).parentsUntil(".az-popup-ctnr");if(i.length>0&&o.length==0||i.length>0&&o.length>0&&s.length<u.length)e(r.dom_content_element).find("."+t+"container, ."+t+"container-fluid").each(function(){e(this).removeClass(t+"container");e(this).removeClass(t+"container-fluid");r.attrs["content"]=e(r.dom_content_element).html();r.section=false})}},render:function(e,t,n){this.dom_element=e('<div class="az-element az-template '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=e("<div></div>").appendTo(this.dom_element);e(this.attrs["content"]).appendTo(this.dom_content_element);h.baseclass.prototype.render.apply(this,arguments)}})}this.template_elements_loaded=true;pn();this.try_render_unknown_elements();if(window.azexo_editor&&Object.keys(t).length>0){var v={_:[]};for(var a in t){var m=a.split("|");m.pop();var g=v;for(var y=0;y<m.length;y++){if(!(m[y]in g))g[m[y]]={_:[]};g=g[m[y]]}g["_"].push(t[a])}var b=e('<div id="az-template-elements" class="az-left-sidebar"></div>').appendTo("body");var w=e('<div id="az-template-elements-welcome">'+S("For adding elements: click on plus-buttons or drag and drop elements from left panel.")+"</div>").appendTo(b);e(b).hover(function(){e(w).remove()});e("<h3>"+S("Elements")+"</h3>").appendTo(b);e("<hr>").appendTo(b);function E(t){if(Object.keys(t).length===1&&"_"in t)return null;var r=e('<ul class="'+n+'nav az-nav-list"></ul>');for(var i in t){if(i!="_"){var s=e("<li></li>").appendTo(r);var u=t[i];(function(t){e('<a href="#">'+i+"</a>").appendTo(s).click(function(){var n=this;e(x).empty();e(x).css("display","block");e(b).addClass("az-thumbnails");for(var r=0;r<t["_"].length;r++){e('<div class="az-thumbnail" data-az-base="'+t["_"][r].name+'" style="background-image: url('+encodeURI(t["_"][r].thumbnail)+'); background-position: center center; background-size: cover;"></div>').appendTo(x)}e(x).sortable({items:".az-thumbnail",connectWith:".az-ctnr",start:function(t,n){e(b).css("left","0px");e(x).css("overflow-y","visible")},stop:function(t,n){e(b).css("left","");e(b).removeClass("az-thumbnails");e(x).css("overflow-y","scroll");e(x).css("display","none")},update:function(t,r){var i=o.get_element(e(r.item).parent().closest("[data-az-id]").attr("data-az-id"));var s=0;var u=e(r.item).parent().find("[data-az-id], .az-thumbnail");for(var a=0;a<u.length;a++){if(e(u[a]).hasClass("az-thumbnail")){s=a;break}}var f=o.create_element(i,e(r.item).attr("data-az-base"),s,function(){});e(r.item).detach();e(n).click()},placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}});return false})})(u);e(s).append(E(t[i]))}}return r}e(b).append(E(v));var x=e('<div id="az-thumbnails"></div>').appendTo(b)}},create_cms_elements:function(e){for(var t in e){var r="az_"+t;var i=function(e,t){i.baseclass.apply(this,arguments)};_t(r,false,i);Z(i.prototype,{name:e[t],icon:"fa fa-cube",description:S(""),category:"CMS",instance:t,params:[St({type:"cms_settings",heading:S("Settings"),param_name:"settings",instance:t})].concat(i.prototype.params),show_settings_on_create:true,is_container:true,has_content:true,is_cms_element:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div class="'+n+'small">'+this.name+"</div></div>"},get_content:function(){return""},showed:function(e,t,n){i.baseclass.prototype.showed.apply(this,arguments);if("content"in this.attrs&&this.attrs["content"]!=""){e(this.dom_content_element).append(this.attrs["content"]);this.attrs["content"]=""}else{var r=this;azexo_add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(r.dom_element).waypoint(function(t){var n=r.parent.get_my_container();M(r.instance,r.attrs["settings"],n.attrs["container"],function(t){e(r.dom_content_element).empty();e(r.dom_content_element).append(t)})},{offset:"100%",triggerOnce:true});e(document).trigger("scroll")}})}},render:function(e,t,n){this.dom_element=e('<div class="az-element az-cms-element '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=e("<div></div>").appendTo(this.dom_element);i.baseclass.prototype.render.apply(this,arguments)}})}this.cms_elements_loaded=true;pn();this.try_render_unknown_elements()},create_element:function(e,t,n,r){var i=e.get_nested_depth(t);if(i<Ot.prototype.max_nested_depth){var s=Ot.prototype.elements[t];if(e instanceof on&&e.parent==null&&!s.prototype.section){var o=new Xt(e,n);o.update_dom();var u=new s(o,false);r(u);u.update_dom();e.update_empty();o.update_empty()}else{var u=new s(e,n);r(u);u.update_dom();e.update_empty()}return u}else{alert(S("Element can not be added. Max nested depth reached."))}return false},make_elements_modal:function(t,i){var s=t.get_all_disallowed_elements();var u={};for(var a in Ot.prototype.elements){if(Ot.prototype.elements[a].prototype.hidden)continue;if(t.base!="az_popup"){if(s.indexOf(Ot.prototype.elements[a].prototype.base)>=0)continue}if(Ot.prototype.elements[a].prototype.category in u){u[Ot.prototype.elements[a].prototype.category].push(Ot.prototype.elements[a])}else{u[Ot.prototype.elements[a].prototype.category]=[Ot.prototype.elements[a]]}}var f=e('<div id="az-elements-tabs"></div>');var l=0;var c='<ul class="'+n+"nav "+n+'nav-tabs">';delete u["Layout"];delete u["Wizard"];for(var h in u){l++;if(h==="")h=S("Content");c+='<li><a href="#az-elements-tab-'+l+'" data-toggle="tab">'+h+"</a></li>"}if(window.azexo_online)c+='<li><a href="#az-elements-tab-templates" data-toggle="tab">'+S("Saved templates")+"</a></li>";c+="</ul>";e(f).append(c);l=0;var p=e('<div class="'+n+'tab-content"></div>');for(var h in u){l++;var d=e('<div id="az-elements-tab-'+l+'" class="'+n+"tab-pane "+n+'clearfix"></div>');for(var v=0;v<u[h].length;v++){e(d).append(u[h][v].prototype.get_button())}e(p).append(d)}if(window.azexo_online)d=e('<div id="az-elements-tab-templates" class="'+n+"tab-pane "+n+'clearfix"></div>');e(p).append(d);e(f).append(p);e("#az-elements-modal").remove();var m='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+S("Elements list")+"</h4></div>";var g=e('<div id="az-elements-modal" class="'+n+'modal azexo" style="display:none"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+m+'<div class="'+n+'modal-body"></div></div></div></div>');e("body").prepend(g);e(g).find("."+n+"modal-body").append(f);e(f).find("> ul a:first")[r+"tab"]("show");e(g).find("[data-az-element]").click(function(){var n=e(this).attr("data-az-element");var s=o.create_element(t,n,false,i);if(s){e("#az-elements-modal")[r+"modal"]("hide");if(s.show_settings_on_create){s.edit()}}});if(window.azexo_online)e(f).find('a[href="#az-elements-tab-templates"]').on("shown."+r+"bs.tab",function(i){H(function(i){var s=e(f).find("#az-elements-tab-templates");e(s).empty();for(var o=0;o<i.length;o++){var u=i[o];var a='<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-template="'+u+'"><i class="'+n+'text-primary fa fa-cubes"></i><h4>'+u+"</h4></div>";a=e(a).appendTo(s).click(function(){var n=e(this).attr("data-az-template");B(n,function(n){var i=t.children.length;Ot.prototype.parse_shortcode.call(t,n);for(var s=i;s<t.children.length;s++){t.children[s].recursive_render()}for(var s=i;s<t.children.length;s++){e(t.dom_content_element).append(t.children[s].dom_element)}if(window.azexo_editor){t.update_empty();t.update_sortable()}t.recursive_showed();e("#az-elements-modal")[r+"modal"]("hide")})});e('<span class="fa fa-trash-o" data-az-template="'+u+'"></span>').appendTo(a).click(function(){var t=e(this).attr("data-az-template");F(t);e(s).find('[data-az-template="'+t+'"]').remove()})}})})},show:function(t,n){e("#az-elements-modal").remove();this.make_elements_modal(t,n);e("#az-elements-modal")[r+"modal"]("show");e("#az-elements-modal #az-elements-tabs").find("> ul a:first")[r+"tab"]("show")},get_element:function(e){return this.elements_instances[e]},delete_element:function(t){e(document).trigger("azexo_delete_element",t);delete this.elements_instances[t]},add_element:function(t,n,r){this.elements_instances[t]=n;e(document).trigger("azexo_add_element",{id:t,position:r})}});var Mt={};if("azexo_classes"in window)Mt=window.azexo_classes;Ot.prototype={el_classes:e.extend(_.object([n+"optgroup-bootstrap",n+"bg-primary",n+"text-primary",n+"bg-success",n+"text-success",n+"bg-default",n+"text-default",n+"text-muted",n+"small",n+"text-left",n+"text-right",n+"text-center",n+"text-justify",n+"pull-left",n+"pull-right",n+"center-block",n+"well",n+"visible-xs-block",n+"visible-sm-block",n+"visible-md-block",n+"visible-lg-block",n+"hidden-xs",n+"hidden-sm",n+"hidden-md",n+"hidden-lg"],[S("Bootstrap classes"),S("Background primary style"),S("Text primary style"),S("Background success style"),S("Text success style"),S("Background default style"),S("Text default style"),S("Text muted style"),S("Text small style"),S("Text align left"),S("Text align right"),S("Text align center"),S("Text align justify"),S("Pull left"),S("Pull right"),S("Block align center"),S("Well"),S("Visible on extra small devices, phones (<768px)"),S("Visible on small devices, tablets (≥768px)"),S("Visible on medium devices, desktops (≥992px)"),S("Visible on large devices, desktops (≥1200px)"),S("Hidden on extra small devices, phones (<768px)"),S("Hidden on small devices, tablets (≥768px)"),S("Hidden on medium devices, desktops (≥992px)"),S("Hidden on large devices, desktops (≥1200px)")]),Mt),elements:{},tags:{},max_nested_depth:3,name:"",category:"",description:"",params:[St({type:"textfield",heading:S("Element classes"),param_name:"el_class",description:S("If you wish to style particular content element differently, then use this field to add a class name and then refer to it in your css file.")}),St({type:"style",heading:S("Style"),param_name:"style",description:S("Style options."),tab:S("Style")}),St({type:"style",heading:S("Hover style"),param_name:"hover_style",important:true,description:S("Hover style options."),tab:S("Hover style")}),St({type:"integer_slider",heading:S("Left"),param_name:"pos_left",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Right"),param_name:"pos_right",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Top"),param_name:"pos_top",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Bottom"),param_name:"pos_bottom",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Width"),param_name:"pos_width",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Height"),param_name:"pos_height",tab:S("Placement"),max:"1",step:"0.01",hidden:true}),St({type:"integer_slider",heading:S("Z-index"),param_name:"pos_zindex",tab:S("Placement"),hidden:true})],icon:"",thumbnail:"",is_container:false,has_content:false,frontend_render:false,show_settings_on_create:false,wrapper_class:"",weight:0,hidden:false,disallowed_elements:[],show_parent_controls:false,highlighted:true,style_selector:"",section:false,controls_position:function(){if(!this.is_container||this.has_content){var t=e(this.dom_element).height();var n=e(window).height();if(t>n){var r=e(window).scrollTop();var i=e(this.controls).offset().top;var s=e(this.dom_element).offset().top;var o=r-s+n/2;if(o>40&&o<t){e(this.controls).css("top",o)}else if(o>t){e(this.controls).css("top",t-40)}else{e(this.controls).css("top",40)}}}},show_controls:function(){if(window.azexo_editor){this.controls=e('<div class="controls '+n+"btn-group "+n+'btn-group-xs"></div>').prependTo(this.dom_element);e('<span title="'+E("Drag and drop")+'" class="control drag-and-drop '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-move">'+this.name+"</span>").appendTo(this.controls);if(this.is_container&&!this.has_content){e('<button title="'+E("Add")+'" type="button" class="control add '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-plus"> </button>').appendTo(this.controls).click({object:this},this.click_add);e('<button title="'+E("Paste")+'" type="button" class="control paste '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-hand-down"> </button>').appendTo(this.controls).click({object:this},this.click_paste)}e('<button title="'+E("Edit")+'" type="button" class="control edit '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-pencil"> </button>').appendTo(this.controls).click({object:this},this.click_edit);e('<button title="'+E("Copy")+'" type="button" class="control copy '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-briefcase"> </button>').appendTo(this.controls).click({object:this},this.click_copy);e('<button title="'+E("Clone")+'" type="button" class="control clone '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-repeat"> </button>').appendTo(this.controls).click({object:this},this.click_clone);e('<button title="'+E("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button>').appendTo(this.controls).click({object:this},this.click_remove);if(window.azexo_online)e('<button title="'+E("Save as template")+'" type="button" class="control save-template '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-floppy-save"> </button>').appendTo(this.controls).click({object:this},this.click_save_template);this.update_empty();var t=this;setTimeout(function(){t.controls_position()},1e3);e(window).scroll(function(){t.controls_position()});var t=this;if(this.highlighted){t.middle_click_number=0;e(this.dom_element).on("mousedown",function(n){if(n.which==2){t.middle_click_number++;var r=1;var i=t;var s=false;while(r<t.middle_click_number){if(e(i.dom_element).parent().closest("[data-az-id]").length>0){var u=e(i.dom_element).parent().closest("[data-az-id]").attr("data-az-id");i=o.get_element(u);r++}else{s=true;break}}e(".controls").css("visibility","hidden").css("opacity","0");e(".control").css("opacity","0");e(".az-element").removeClass("az-highlight");if(!s){if(i instanceof Qt){if(i.layer_number<i.children.length){var a=i.children[i.layer_number];e(a.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1");e(a.dom_element).addClass("az-highlight");t.middle_click_number--;i.layer_number++}else{e(i.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1");e(i.dom_element).addClass("az-highlight");i.layer_number=0}}else{e(i.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1");e(i.dom_element).addClass("az-highlight")}}else{t.middle_click_number=0}return false}});e(this.dom_element).mouseenter(function(e){t.middle_click_number=0;if(t instanceof Qt)t.layer_number=0});e(this.dom_element).mouseleave(function(n){if(e(t.dom_element).hasClass("az-highlight")){e(".controls").css("visibility","").css("opacity","");e(".control").css("opacity","");e(".az-element").removeClass("az-highlight")}})}if(t.show_parent_controls){_.defer(function(){function r(t){if(e(t.parent.controls).find("."+n+"btn:not(span)").css("display")=="none"){e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block")}else{e(t.controls).find("."+n+"btn:not(span)").css("display","none")}if(e(t.controls).find("."+n+"btn:not(span)").css("display")=="none"){e(t.parent.controls).find("."+n+"btn:not(span)").css("display","inline-block")}else{e(t.parent.controls).find("."+n+"btn:not(span)").css("display","none")}e(t.parent.controls).attr("data-az-cid",e(t.dom_element).attr("data-az-id"));var r=e(t.dom_element).offset();r.top=r.top-parseInt(e(t.dom_element).css("margin-top"));e(t.parent.controls).offset(r);r.left=r.left+e(t.parent.controls).width();e(t.controls).offset(r)}e(t.dom_element).off("mouseenter").on("mouseenter",function(){if(e(t.dom_element).parents(".azexo-editor").length>0){e(t.parent.controls).css("display","block");r(t)}});e(t.dom_element).off("mouseleave").on("mouseleave",function(){if(e(t.dom_element).parents(".azexo-editor").length>0){e(t.controls).css("display","")}});setInterval(function(){if(e(t.dom_element).parents(".azexo-editor").length>0){if(!e(t.dom_element).is(":hover")&&!e(t.parent.controls).is(":hover")){e(t.controls).css("display","")}if(e(t.dom_element).is(":hover")){r(t);e(t.controls).css("visibility","visibile");e(t.controls).css("opacity","1")}var n=o.get_element(e(t.parent.controls).attr("data-az-cid"));if(!_.isUndefined(n))e(t.parent.controls).css("display",e(n.controls).css("display"));if(_.isUndefined(e(t.parent.controls).data("spc"))){e(t.parent.controls).off("mouseenter").on("mouseenter",function(){var t=o.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"));if(!_.isUndefined(t))e(t.controls).css("display","block")});e(t.parent.controls).data("spc",true)}}},100);e(t.controls).find("span").off("click").on("click",function(){e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block");e(t.parent.controls).find("."+n+"btn:not(span)").css("display","none");r(t);return false});e(t.parent.controls).find("span").off("click").on("click",function(){e(t.parent.controls).find("."+n+"btn:not(span)").css("display","inline-block");var i=o.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"));if(!_.isUndefined(i)){e(i.controls).find("."+n+"btn:not(span)").css("display","none");r(i)}return false});e(t.controls).find("span").trigger("click")})}}},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+S("Click to put an element here.")+"</strong></div></div>"},update_empty:function(){if(window.azexo_editor){if(this.children.length==0&&this.is_container&&!this.has_content||this.has_content&&this.attrs["content"]==""){e(this.dom_content_element).find("> .az-empty").remove();var t=e(this.get_empty()).appendTo(this.dom_content_element);var r="";if(e(t).find(".bottom").length==0)r="bottom";if(e(t).find(".top").length==0)r="top";if(r!="")e(t).append('<div class="'+r+" "+n+'well">'+S("Mouse over highlights the boundaries of the elements and its controls.")+"</div>");e(t).click(function(t){if(t.which==1){var n=e(this).closest("[data-az-id]").attr("data-az-id");o.show(o.get_element(n),function(e){})}})}else{e(this.dom_content_element).find("> .az-empty").remove()}}},get_button:function(){if(this.thumbnail==""){return'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"}else{return'<div class="'+n+"well "+n+'pull-left" data-az-element="'+this.base+'" style="background-image: url('+encodeURI(this.thumbnail)+'); background-position: center center; background-size: cover;"></div>'}},click_add:function(e){e.data.object.add();return false},add:function(){o.show(this,function(e){})},update_sortable:function(){if(window.azexo_editor){if(this.is_container&&!this.has_content||this instanceof Dt){e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}})}}},replace_render:function(){var t=this.dom_element;var i=this.dom_content_element;if(t!=null){this.render(e,n,r);e(t).replaceWith(this.dom_element);if(i!=null){e(this.dom_content_element).replaceWith(i)}}if(window.azexo_editor)this.show_controls()},update_dom:function(){this.detach_children();e(this.dom_element).remove();this.parent.detach_children();this.render(e,n,r);this.attach_children();if(window.azexo_editor)this.show_controls();this.parent.attach_children();if(window.azexo_editor){this.update_sortable();this.update_empty()}this.showed(e,n,r)},get_hover_style:function(){if("hover_style"in this.attrs)return'<style id="hover-style-'+this.id+'">.hover-style-'+this.id+":hover "+this.style_selector+" { "+this.attrs["hover_style"]+"} </style>";else return""},showed:function(e,t,n){if("pos_left"in this.attrs&&this.attrs["pos_left"]!="")e(this.dom_element).css("left",this.attrs["pos_left"]);if("pos_right"in this.attrs&&this.attrs["pos_right"]!="")e(this.dom_element).css("right",this.attrs["pos_right"]);if("pos_top"in this.attrs&&this.attrs["pos_top"]!="")e(this.dom_element).css("top",this.attrs["pos_top"]);if("pos_bottom"in this.attrs&&this.attrs["pos_bottom"]!="")e(this.dom_element).css("bottom",this.attrs["pos_bottom"]);if("pos_width"in this.attrs&&this.attrs["pos_width"]!="")e(this.dom_element).css("width",this.attrs["pos_width"]);if("pos_height"in this.attrs&&this.attrs["pos_height"]!="")e(this.dom_element).css("height",this.attrs["pos_height"]);if("pos_zindex"in this.attrs&&this.attrs["pos_zindex"]!="")e(this.dom_element).css("z-index",this.attrs["pos_zindex"]);if("hover_style"in this.attrs&&this.attrs["hover_style"]!=""){e("head").find("#hover-style-"+this.id).remove();e("head").append(this.get_hover_style());e(this.dom_element).addClass("hover-style-"+this.id)}},render:function(e,t,n){e(this.dom_element).attr("data-az-id",this.id)},trigger_start_in_animation:function(){for(var e=0;e<this.children.length;e++){if("trigger_start_in_animation"in this.children[e]){this.children[e].trigger_start_in_animation()}}},trigger_start_out_animation:function(){for(var e=0;e<this.children.length;e++){if("trigger_start_out_animation"in this.children[e]){this.children[e].trigger_start_out_animation()}}},update_data:function(){e(this.dom_element).attr("data-azb",this.base);for(var t=0;t<this.params.length;t++){var n=this.params[t];if(n.param_name in this.attrs){var r=this.attrs[n.param_name];if((r==""&&n.can_be_empty||r!="")&&n.param_name!=="content"&&r!==n.value){if(!n.safe){r=btoa(encodeURIComponent(r))}e(this.dom_element).attr("data-azat-"+n.param_name,r)}}}if(this.dom_content_element!=null){e(this.dom_content_element).attr("data-azcnt","true")}},recursive_update_data:function(){this.update_data();for(var e=0;e<this.children.length;e++){this.children[e].recursive_update_data()}},recursive_clear_animation:function(){if("clear_animation"in this)this.clear_animation();for(var e=0;e<this.children.length;e++){this.children[e].recursive_clear_animation()}},recursive_showed:function(){this.showed(e,n,r);for(var t=0;t<this.children.length;t++){this.children[t].recursive_showed()}},update_sorting_children:function(){var t=e(this.dom_content_element).sortable("option");var n=[];e(this.dom_content_element).find(t.items).each(function(){n.push(o.get_element(e(this).attr("data-az-id")))});this.children=n;for(var r=0;r<this.children.length;r++)this.children[r].parent=this;this.update_empty()},update_sorting:function(t,n){var r=o.get_element(e(n.item).closest("[data-az-id]").attr("data-az-id"));if(r){n.source=o.get_element(e(this).closest("[data-az-id]").attr("data-az-id"));n.from_pos=r.get_child_position();n.source.update_sorting_children();n.target=o.get_element(e(n.item).parent().closest("[data-az-id]").attr("data-az-id"));if(n.source.id!=n.target.id)n.target.update_sorting_children();n.to_pos=r.get_child_position();e(document).trigger("azexo_update_sorting",n)}},click_edit:function(e){e.data.object.edit();return false},edit:function(){wt.prototype.show_editor(this.params,this,this.edited)},edited:function(t){for(var n in t){this.attrs[n]=at(t[n])}this.update_dom();e(document).trigger("azexo_edited_element",this.id)},attrs2string:function(){var e="";for(var t=0;t<this.params.length;t++){var n=this.params[t];if(n.param_name in this.attrs){var r=this.attrs[n.param_name];if((r==""&&n.can_be_empty||r!="")&&n.param_name!=="content"&&r!==n.value){if(!n.safe){r=btoa(encodeURIComponent(r))}e+=n.param_name+'="'+r+'" '}}}return e},get_content:function(){for(var e=0;e<this.params.length;e++){var t=this.params[e];if(t.param_name==="content"){if(t.type=="html"){return btoa(encodeURIComponent(this.attrs["content"]))}}}return this.attrs["content"]},set_content:function(e){var t=at(e);for(var n=0;n<this.params.length;n++){var r=this.params[n];if(r.param_name==="content"){if(r.type=="html"){t=decodeURIComponent(atob(t.replace(/^#E\-8_/,"")));this.attrs["content"]=t;return}}}this.attrs["content"]=t},parse_attrs:function(t){for(var n=0;n<this.params.length;n++){var r=this.params[n];if(r.param_name in t){if(!r.safe){var i=at(t[r.param_name]);this.attrs[r.param_name]=decodeURIComponent(atob(i.replace(/^#E\-8_/,"")))}else{this.attrs[r.param_name]=at(t[r.param_name])}}else{if("value"in r&&_.isString(r.value)){this.attrs[r.param_name]=r.value}}}for(var s in t){if(!(s in this.attrs)){this.attrs[s]=t[s]}}e(document).trigger("azexo_edited_element",this.id)},get_nested_depth:function(e){var t=0;if(this.parent!=null){t+=this.parent.get_nested_depth(e)}if(this.base==e){t++}return t},get_my_shortcode:function(){var e=_.keys(Ot.prototype.elements);var t=_.object(e,Array.apply(null,new Array(e.length)).map(Number.prototype.valueOf,0));var n=this.get_shortcode(t);return n},get_children_shortcode:function(){var e=_.keys(Ot.prototype.elements);var t=_.object(e,Array.apply(null,new Array(e.length)).map(Number.prototype.valueOf,0));var n="";for(var r=0;r<this.children.length;r++){n+=this.children[r].get_shortcode(t)}return n},get_shortcode:function(e){e[this.base]++;var t="";for(var n=0;n<this.children.length;n++){t+=this.children[n].get_shortcode(e)}if(this.base=="az_unknown"){o=t}else{var r="";if(e[this.base]==1){r=this.base}else{var i=e[this.base]-1;r=this.base+"_"+i}var s=this.attrs2string();var o="["+r+" "+s+"]";if(this.is_container){if(this.has_content){o+=this.get_content()+"[/"+r+"]"}else{o+=t+"[/"+r+"]"}}}e[this.base]--;return o},parse_shortcode:function(t){var n=_.keys(Ot.prototype.tags).join("|"),r=et.shortcode.regexp(n),i=e.trim(t).match(r);if(_.isNull(i)){if(t.length==0){return}else{if(t.substring(0,1)=="["&&t.slice(-1)=="]")this.parse_shortcode("[az_unknown]"+t+"[/az_unknown]");else this.parse_shortcode('[az_row][az_column width="1/1"][az_text]'+t+"[/az_text][/az_column][/az_row]")}}_.each(i,function(e){var r=e.match(ot(n));var i=r[5];var s=new RegExp("^[\\s]*\\[\\[?("+_.keys(Ot.prototype.tags).join("|")+")(?![\\w-])");var o=et.shortcode.attrs(r[3]);var u=r[2];if(this.get_nested_depth(u)>Ot.prototype.max_nested_depth)return;var a=Dt;if(u in Ot.prototype.tags){a=Ot.prototype.tags[u]}if(this instanceof on&&this.parent==null&&!a.prototype.section){this.parse_shortcode("[az_section]"+t+"[/az_section]");return}var f=new a(this,true);f.parse_attrs(o.named);var l=Ot.prototype.tags[u].prototype;if(_.isString(i)&&i.match(s)&&l.is_container===true){f.parse_shortcode(i)}else if(_.isString(i)&&i.length&&u==="az_row"){f.parse_shortcode('[az_column width="1/1"][az_text]'+i+"[/az_text][/az_column]")}else if(_.isString(i)&&i.length&&u==="az_column"&&!(i.substring(0,1)=="["&&i.slice(-1)=="]")){f.parse_shortcode("[az_text]"+i+"[/az_text]")}else if(_.isString(i)){if(l.has_content===true){f.set_content(i)}else{if(i!="")f.parse_shortcode("[az_unknown]"+i+"[/az_unknown]")}}},this)},parse_html:function(n){var r=this;if(e(n).children().closest_descendents("[data-azb]").length==0&&e.trim(e(n).html()).length>0){var i=new Vt(r,false);i.children=[];var s=new $t(i,false);var u=Ot.prototype.elements["az_text"];var a=new u(s,false);a.attrs["content"]=e(n).html();a.update_dom();if("update_empty"in r)r.update_empty();if("update_empty"in s)s.update_empty();if("update_empty"in i)i.update_empty()}else{e(n).children().closest_descendents("[data-azb]").each(function(){var n=e(this).attr("data-azb");var i=Dt;if(n in Ot.prototype.tags){i=Ot.prototype.tags[n]}var s=new i(r,true);if(t){o.elements_instances[s.id]=null;delete o.elements_instances[s.id];s.id=e(this).attr("data-az-id");o.elements_instances[s.id]=s}s.dom_element=e(this);var u={};e(e(this)[0].attributes).each(function(){if(this.nodeName.indexOf("data-azat")>=0){u[this.nodeName.replace("data-azat-","")]=this.value}});s.parse_attrs(u);if(s.is_container){var a=e(this).closest_descendents("[data-azcnt]");if(a.length>0){s.dom_content_element=e(a);if(s.has_content){if(s instanceof Dt){s.attrs["content"]=e(a).wrap("<div></div>").parent().html();e(a).unwrap()}else{s.attrs["content"]=e(a).html()}}else{s.parse_html(a)}}}})}},recursive_render:function(){for(var i=0;i<this.children.length;i++){this.children[i].recursive_render()}if(t){if(this.frontend_render){this.detach_children();this.parent.detach_children();this.render(e,n,r);this.attach_children();this.parent.attach_children()}}else{this.render(e,n,r);this.attach_children()}if(window.azexo_editor){this.show_controls();this.update_sortable()}},detach_children:function(){for(var t=0;t<this.children.length;t++){e(this.children[t].dom_element).detach()}},attach_children:function(){for(var t=0;t<this.children.length;t++){e(this.dom_content_element).append(this.children[t].dom_element)}},click_copy:function(e){e.data.object.copy();return false},copy:function(){var t=this.get_my_shortcode();e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))},click_paste:function(e){e.data.object.paste(0);return false},paste:function(t){var n=decodeURIComponent(atob(e("#azexo-clipboard").html()));if(n!=""){var r=this.children.length;Ot.prototype.parse_shortcode.call(this,n);var i=[];for(var s=r;s<this.children.length;s++){this.children[s].recursive_render();i.push(this.children[s])}this.children=this.children.slice(0,r);this.children.splice.apply(this.children,[t,0].concat(i));this.detach_children();this.attach_children();this.update_empty();this.update_sortable();this.recursive_showed()}},click_save_template:function(e){e.data.object.save_template();return false},save_template:function(){var e=this.get_my_shortcode();var t=window.prompt(S("Please enter template name"),"");if(t!=""&&t!=null)j(t,e)},click_clone:function(e){e.data.object.clone();return false},clone:function(){this.copy();for(var e=0;e<this.parent.children.length;e++){if(this.parent.children[e].id==this.id){this.parent.paste(e);break}}},click_remove:function(e){e.data.object.remove();return false},remove:function(){o.delete_element(this.id);for(var t=0;t<this.children.length;t++){this.children[t].remove()}e(this.dom_element).remove();for(var t=0;t<this.parent.children.length;t++){if(this.parent.children[t].id==this.id){this.parent.children.splice(t,1);break}}this.parent.update_empty()},get_child_position:function(){for(var e=0;e<this.parent.children.length;e++){if(this.parent.children[e].id==this.id){return e;break}}return-1},add_css:function(e,t,n){var r=this.get_my_container();r.css[window.azexo_baseurl+e]=true;if(!t){window.azexo_add_css(e,n)}},add_js_list:function(e){var t=this.get_my_container();for(var n=0;n<e.paths.length;n++){t.js[window.azexo_baseurl+e.paths[n]]=true}window.azexo_add_js_list(e)},add_js:function(e){var t=this.get_my_container();t.js[window.azexo_baseurl+e.path]=true;window.azexo_add_js(e)},add_external_js:function(e,t){var n=this.get_my_container();n.js[e]=true;window.azexo_add_external_js(e,t)},get_my_container:function(){if(this instanceof on){return this}else{return this.parent.get_my_container()}},get_all_disallowed_elements:function(){if("parent"in this){var e=_.uniq(this.parent.get_all_disallowed_elements().concat(this.disallowed_elements));return e}else{return this.disallowed_elements}}};_t("az_unknown",true,Dt);Z(Dt.prototype,{has_content:true,hidden:true,show_controls:function(){},update_empty:function(){},render:function(e,t,n){this.dom_element=e('<div class = "az-element"></div>');this.dom_content_element=this.dom_element;if("content"in this.attrs){var r=/\[[^\]]*\]([^\[]*)\[\/[^\]]*\]/.exec(this.attrs["content"]);if(r){e(this.dom_element).append(r[1])}}Dt.baseclass.prototype.render.apply(this,arguments)}});if(!("azexo_baseurl"in window)){if(e('script[src*="azexo_composer.js"]').length>0){var Pt=e('script[src*="azexo_composer.js"]').attr("src");window.azexo_baseurl=Pt.slice(0,Pt.indexOf("azexo_composer.js"))}else{if(e('script[src*="azexo_composer.min.js"]').length>0){var Pt=e('script[src*="azexo_composer.min.js"]').attr("src");window.azexo_baseurl=Pt.slice(0,Pt.indexOf("azexo_composer.min.js"))}}}if(!("azexo_online"in window))window.azexo_online=window.location.protocol=="http:"||window.location.protocol=="https:";o=new At;if(!("azexo_editor"in window))window.azexo_editor=false;Bt();jt(function(){Rt();if("azexo_exporter"in window){console.log("test");Sn()}e.holdReady(false)});var It=false;e.fn.azexo_composer=function(t){var n={init:function(t){var n=e.extend({test:"test"},t);return this.each(function(){var t=this;var n=e(this).data("azexo_composer");if(!n){var r=e("<div>"+e(t).val()+"</div>")[0];e(r).find("> script").remove();e(r).find("> link[href]").remove();e(r).find("> .az-container > script").remove();e(r).find("> .az-container > link[href]").remove();e(t).css("display","none");var i=null;if(e(r).find("> .az-container[data-az-type][data-az-name]").length>0){i=e(r).children().insertAfter(t)}else{var s="textarea";var u=Math.random().toString(36).substr(2);if(window.azexo_online){s=window.azexo_type;u=window.azexo_name}i=e('<div class="az-element az-container" data-az-type="'+s+'" data-az-name="'+u+'"></div>').insertAfter(t);i.append(e(r).html())}window.azexo_title["Save container"]=S("Generate HTML and JS for all elements which placed in current container element.");var n=Ft(i);if(n){e(t).data("azexo_composer",n);n.save_container=function(){azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){_.defer(function(){if(n.id in o.elements_instances){var r=n.get_container_html();if(window.azexo_online){e(t).val(r)}else{var i=n.attrs["container"].split("/")[0];var s=n.attrs["container"].split("/")[1];e(t).val('<div class="az-element az-container" data-az-type="'+i+'" data-az-name="'+s+'">'+r+"</div>")}}})}})};e(document).on("azexo_add_element",n.save_container);e(document).on("azexo_edited_element",n.save_container);e(document).on("azexo_update_element",n.save_container);e(document).on("azexo_delete_element",n.save_container);e(document).on("azexo_update_sorting",n.save_container)}}})},show:function(){this.each(function(){})},hide:function(){this.each(function(){var t=e(this).data("azexo_composer");if(t){o.delete_element(t.id);for(var n=0;n<t.children.length;n++){t.children[n].remove()}e(t.dom_element).remove();e(this).removeData("azexo_composer");e(this).css("display","")}})}};if(n[t]){return n[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return n.init.apply(this,arguments)}else{e.error(t)}};var Ut={"":S("No animation"),js:S("JS animation"),bounce:S("bounce"),flash:S("flash"),pulse:S("pulse"),rubberBand:S("rubberBand"),shake:S("shake"),swing:S("swing"),tada:S("tada"),wobble:S("wobble"),bounceIn:S("bounceIn"),bounceInDown:S("bounceInDown"),bounceInLeft:S("bounceInLeft"),bounceInRight:S("bounceInRight"),bounceInUp:S("bounceInUp"),bounceOut:S("bounceOut"),bounceOutDown:S("bounceOutDown"),bounceOutLeft:S("bounceOutLeft"),bounceOutRight:S("bounceOutRight"),bounceOutUp:S("bounceOutUp"),fadeIn:S("fadeIn"),fadeInDown:S("fadeInDown"),fadeInDownBig:S("fadeInDownBig"),fadeInLeft:S("fadeInLeft"),fadeInLeftBig:S("fadeInLeftBig"),fadeInRight:S("fadeInRight"),fadeInRightBig:S("fadeInRightBig"),fadeInUp:S("fadeInUp"),fadeInUpBig:S("fadeInUpBig"),fadeOut:S("fadeOut"),fadeOutDown:S("fadeOutDown"),fadeOutDownBig:S("fadeOutDownBig"),fadeOutLeft:S("fadeOutLeft"),fadeOutLeftBig:S("fadeOutLeftBig"),fadeOutRight:S("fadeOutRight"),fadeOutRightBig:S("fadeOutRightBig"),fadeOutUp:S("fadeOutUp"),fadeOutUpBig:S("fadeOutUpBig"),flip:S("flip"),flipInX:S("flipInX"),flipInY:S("flipInY"),flipOutX:S("flipOutX"),flipOutY:S("flipOutY"),lightSpeedIn:S("lightSpeedIn"),lightSpeedOut:S("lightSpeedOut"),rotateIn:S("rotateIn"),rotateInDownLeft:S("rotateInDownLeft"),rotateInDownRight:S("rotateInDownRight"),rotateInUpLeft:S("rotateInUpLeft"),rotateInUpRight:S("rotateInUpRight"),rotateOut:S("rotateOut"),rotateOutDownLeft:S("rotateOutDownLeft"),rotateOutDownRight:S("rotateOutDownRight"),rotateOutUpLeft:S("rotateOutUpLeft"),rotateOutUpRight:S("rotateOutUpRight"),slideInDown:S("slideInDown"),slideInLeft:S("slideInLeft"),slideInRight:S("slideInRight"),slideOutLeft:S("slideOutLeft"),slideOutRight:S("slideOutRight"),slideOutUp:S("slideOutUp"),slideInUp:S("slideInUp"),slideOutDown:S("slideOutDown"),hinge:S("hinge"),rollIn:S("rollIn"),rollOut:S("rollOut"),zoomIn:S("zoomIn"),zoomInDown:S("zoomInDown"),zoomInLeft:S("zoomInLeft"),zoomInRight:S("zoomInRight"),zoomInUp:S("zoomInUp"),zoomOut:S("zoomOut"),zoomOutDown:S("zoomOutDown"),zoomOutLeft:S("zoomOutLeft"),zoomOutRight:S("zoomOutRight"),zoomOutUp:S("zoomOutUp")};Y(zt,Ot);Z(zt.prototype,{params:[St({type:"dropdown",heading:S("Animation start"),param_name:"an_start",tab:S("Animation"),value:{"":S("No animation"),appear:S("On appear"),hover:S("On hover"),click:S("On click"),trigger:S("On trigger")}}),St({type:"dropdown",heading:S("Animation in"),param_name:"an_in",tab:S("Animation"),value:Ut,dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"dropdown",heading:S("JS animation in"),param_name:"an_js_in",tab:S("Animation"),value:{},dependency:{element:"an_in",value:["js"],callback:function(t){function s(){i.save_js_animations(false);e(i.animations_editor).remove();delete i.animations_editor}function o(){i.update_js_animations_list();var t=r.dom_element;var n=r.get_value();r.render(n);e(t).replaceWith(r.dom_element)}var r=this;var i=this.element;if("animations_editor"in i){s()}o();e(t.dom_element).find("select").off("change.an_js_in").on("change.an_js_in",function(){var e=t.get_value();if(e!="js"){s()}});var u=e('<div id="az-js-animation-form" class="'+n+"clearfix "+n+"form-group "+n+'well"></div>').insertAfter(this.dom_element);i.show_js_animations_editor(u,false,function(){o()});e("#az-editor-modal").find(".save").off("mousedown.an_js_in").on("mousedown.an_js_in",function(){i.save_js_animations(false)})}}}),St({type:"dropdown",heading:S("Animation out"),param_name:"an_out",tab:S("Animation"),value:Ut,dependency:{element:"an_start",value:["hover","trigger"]}}),St({type:"dropdown",heading:S("JS animation out"),param_name:"an_js_out",tab:S("Animation"),value:{},dependency:{element:"an_out",value:["js"],callback:function(t){function s(){i.save_js_animations(false);e(i.animations_editor).remove();delete i.animations_editor}function o(){i.update_js_animations_list();var t=r.dom_element;var n=r.get_value();r.render(n);e(t).replaceWith(r.dom_element)}var r=this;var i=this.element;if("animations_editor"in i){s()}o();e(t.dom_element).find("select").off("change.an_js_out").on("change.an_js_out",function(){var e=t.get_value();if(e!="js"){s()}});var u=e('<div id="az-js-animation-form" class="'+n+"clearfix "+n+"form-group "+n+'well"></div>').insertAfter(this.dom_element);i.show_js_animations_editor(u,false,function(){o()});e("#az-editor-modal").find(".save").off("mousedown.an_js_out").on("mousedown.an_js_out",function(){i.save_js_animations(false)})}}}),St({type:"checkbox",heading:S("Hidden"),param_name:"an_hidden",tab:S("Animation"),value:{before_in:S("Before in-animation"),after_in:S("After in-animation")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"checkbox",heading:S("Infinite?"),param_name:"an_infinite",tab:S("Animation"),value:{yes:S("Yes, please")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"dropdown",heading:S("By letters?"),param_name:"an_letters",tab:S("Animation"),value:{"":S("No"),sequence:S("Sequence"),reverse:S("Reverse"),sync:S("Sync"),shuffle:S("Shuffle")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"integer_slider",heading:S("Duration"),param_name:"an_duration",tab:S("Animation"),max:"3000",description:S("In milliseconds."),value:"1000",dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"integer_slider",heading:S("Out-delay"),param_name:"an_out_delay",tab:S("Animation"),max:"10000",description:S("In milliseconds."),value:"0",dependency:{element:"an_start",value:["hover","trigger"]}}),St({type:"integer_slider",heading:S("Parent number"),param_name:"an_parent",tab:S("Animation"),max:"10",min:"0",description:S("Define the number of Parent Containers the animation should attempt to break away from."),value:"1",dependency:{element:"an_start",value:["hover","click"]}}),St({type:"dropdown",heading:S("Animation fill mode"),param_name:"an_fill_mode",tab:S("Animation"),value:{"":S("Default"),forwards:S("Forwards"),backwards:S("Backwards"),both:S("Both"),none:S("None")},description:S('"FORWARDS" - after the animation ends (determined by animation-iteration-count), the animation will apply the property values for the time the animation ended; "BACKWARDS" - The animation will apply the property values defined in the keyframe that will start the first iteration of the animation, during the period defined by animation-delay. These are either the values of the from keyframe (when animation-direction is "normal" or "alternate") or those of the to keyframe (when animation-direction is "reverse" or "alternate-reverse"); "BOTH" - the animation will follow the rules for both forwards and backwards. That is, it will extend the animation properties in both directions; "NONE" - The animation will not apply any styles to the target before or after it is executing.'),dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),St({type:"textfield",heading:S("Name for animations"),param_name:"an_name",hidden:true}),St({type:"textfield",heading:S("Animation scenes"),param_name:"an_scenes",hidden:true})].concat(zt.prototype.params),set_in_timeout:function(){var t=this;t.in_timeout=setTimeout(function(){t.clear_animation();if(t.attrs["an_letters"]==""){if(t.attrs["an_in"]=="js"){e(t.dom_element).css("opacity","");var n=t.attrs["an_js_in"].split("-");var r=o.elements_instances_by_an_name[n[0]];var i=r.an_scenes[parseInt(n[1])];t.timeline_in=t.make_timeline(i,function(){t.end_animation()});t.timeline_in.play();t.animation_in=true;t.animated=true}else{e(t.dom_element).css("opacity","");e(t.dom_element).removeClass("animated");e(t.dom_element).removeClass(t.attrs["an_in"]);e(t.dom_element).removeClass(t.attrs["an_out"]);t.animation_in=false;t.animation_out=false;e(t.dom_element).css("animation-duration",t.attrs["an_duration"]+"ms");e(t.dom_element).css("-webkit-animation-duration",t.attrs["an_duration"]+"ms");e(t.dom_element).css("animation-fill-mode",t.attrs["an_fill_mode"]);e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs["an_fill_mode"]);e(t.dom_element).addClass("animated");t.animated=true;if(t.attrs["an_infinite"]=="yes"){e(t.dom_element).addClass("infinite")}e(t.dom_element).addClass(t.attrs["an_in"]);t.animation_in=true}}else{t.animation_letters();e(t.dom_element).css("opacity","");for(var s=0;s<t.textillate_elements.length;s++){e(t.textillate_elements[s]).textillate("in")}t.animation_in=true;t.animated=true}},Math.round(t.attrs["an_in_delay"]))},start_in_animation:function(){var t=this;if(e(t.dom_element).parents(".azexo-animations-disabled").length==0){if(t.attrs["an_in"]!=""||t.attrs["an_js_in"]!=""){if(t.animated){if(t.animation_out){t.set_in_timeout()}else{if(t.out_timeout>0){clearTimeout(t.out_timeout);if(!t.hidden_after_in){t.set_in_timeout()}}}}else{t.set_in_timeout()}}}},set_out_timeout:function(){var t=this;t.out_timeout=setTimeout(function(){t.clear_animation();if(t.attrs["an_letters"]==""){if(t.attrs["an_out"]=="js"){e(t.dom_element).css("opacity","");var n=t.attrs["an_js_out"].split("-");var r=o.elements_instances_by_an_name[n[0]];var i=r.an_scenes[parseInt(n[1])];t.timeline_out=t.make_timeline(i,function(){t.end_animation()});t.timeline_out.play();t.animation_out=true;t.animated=true}else{e(t.dom_element).css("opacity","");e(t.dom_element).removeClass("animated");e(t.dom_element).removeClass(t.attrs["an_in"]);e(t.dom_element).removeClass(t.attrs["an_out"]);t.animation_in=false;t.animation_out=false;e(t.dom_element).css("animation-duration",t.attrs["an_duration"]+"ms");e(t.dom_element).css("-webkit-animation-duration",t.attrs["an_duration"]+"ms");e(t.dom_element).css("animation-fill-mode",t.attrs["an_fill_mode"]);e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs["an_fill_mode"]);e(t.dom_element).addClass("animated");t.animated=true;if(t.attrs["an_infinite"]=="yes"){e(t.dom_element).addClass("infinite")}e(t.dom_element).addClass(t.attrs["an_out"]);t.animation_out=true}}else{t.animation_letters();e(t.dom_element).css("opacity","");for(var s=0;s<t.textillate_elements.length;s++){e(t.textillate_elements[s]).textillate("out")}t.animation_out=true;t.animated=true}},Math.round(t.attrs["an_out_delay"]))},start_out_animation:function(){var t=this;if(e(t.dom_element).parents(".azexo-animations-disabled").length==0){if(t.attrs["an_out"]!=""||t.attrs["an_js_out"]!=""){if(t.animated){if(t.animation_in){t.set_out_timeout()}else{if(t.in_timeout>0){clearTimeout(t.in_timeout);if(!t.hidden_before_in){t.set_out_timeout()}}}}else{t.set_out_timeout()}}}},clear_animation:function(){if(this.animation_in){if(this.hidden_before_in){e(this.dom_element).css("opacity","1")}if(this.hidden_after_in){e(this.dom_element).css("opacity","0")}}if(this.animation_out){if(this.hidden_before_in){e(this.dom_element).css("opacity","0")}if(this.hidden_after_in){e(this.dom_element).css("opacity","1")}}if(this.attrs["an_letters"]==""){if(e(this.dom_element).hasClass("animated")){e(this.dom_element).css("animation-duration","");e(this.dom_element).css("-webkit-animation-duration","");e(this.dom_element).css("animation-fill-mode","");e(this.dom_element).css("-webkit-animation-fill-mode","");e(this.dom_element).removeClass("animated");this.animated=false;e(this.dom_element).removeClass("infinite");if(this.attrs["an_fill_mode"]==""){e(this.dom_element).removeClass(this.attrs["an_in"]);e(this.dom_element).removeClass(this.attrs["an_out"]);this.animation_in=false;this.animation_out=false}}else{if("timeline_in"in this){this.timeline_in.resume();this.timeline_in.kill();delete this["timeline_in"]}if("timeline_out"in this){this.timeline_out.resume();this.timeline_out.kill();delete this["timeline_out"]}this.animation_in=false;this.animation_out=false;this.animated=false}}else{if("textillate_elements"in this){for(var t=0;t<this.textillate_elements.length;t++){e(this.textillate_elements[t]).data("textillate",false);e(this.textillate_elements[t]).find("> span").remove();var n=e(this.textillate_elements[t]).find("> ul > li").text();e(this.textillate_elements[t]).find("> ul").remove();e(this.textillate_elements[t]).text(n)}this.textillate_elements=[]}this.animation_in=false;this.animation_out=false;this.animated=false}},end_animation:function(){this.in_timeout=0;this.out_timeout=0;if(this.animation_in){this.clear_animation();if(this.attrs["an_start"]=="hover"&&!this.hover){if(this.attrs["an_in"]!=this.attrs["an_out"]){this.start_out_animation()}else{if(this.attrs["an_in"]=="js"){if(this.attrs["an_js_in"]!=this.attrs["an_js_out"]){this.start_out_animation()}}}}}if(this.animation_out){this.clear_animation();if(this.attrs["an_start"]=="hover"&&this.hover){if(this.attrs["an_in"]!=this.attrs["an_out"]){this.start_in_animation()}else{if(this.attrs["an_in"]=="js"){if(this.attrs["an_js_in"]!=this.attrs["an_js_out"]){this.start_in_animation()}}}}}},trigger_start_in_animation:function(){if(this.attrs["an_start"]=="trigger"){this.start_in_animation()}else{zt.baseclass.prototype.trigger_start_in_animation.apply(this,arguments)}},trigger_start_out_animation:function(){if(this.attrs["an_start"]=="trigger"){this.start_out_animation()}else{zt.baseclass.prototype.trigger_start_out_animation.apply(this,arguments)}},animation_letters:function(){var t=this;t.textillate_elements=[];var n=0;var r=0;e(t.dom_element).find(":not(:has(*)):not(.control)").each(function(){var i=e(this).text().trim();if(i!=""){n++;var s=false;var o=false;var u=false;switch(t.attrs["an_letters"]){case"sequence":break;case"reverse":u=true;break;case"sync":s=true;break;case"shuffle":o=true;break}t.textillate_elements.push(this);e(this).textillate();e(this).textillate({loop:false,autoStart:false,"in":{effect:t.attrs["an_in"],delayScale:1.5,delay:parseInt(t.attrs["an_duration"])/i.length,sync:s,shuffle:o,reverse:u,callback:function(){r++;if(n>=r){t.end_animation()}}},out:{effect:t.attrs["an_out"],delayScale:1.5,delay:parseInt(t.attrs["an_duration"])/i.length,sync:s,shuffle:o,reverse:u,callback:function(){r++;if(n>=r){t.end_animation()}}}}).on("inAnimationBegin.tlt outAnimationBegin.tlt",function(){r=0});e(this).data("textillate").currentIndex=0}})},animation:function(){var t=this;t.hidden_before_in=_.indexOf(t.attrs["an_hidden"].split(","),"before_in")>=0;t.hidden_after_in=_.indexOf(t.attrs["an_hidden"].split(","),"after_in")>=0;if(t.hidden_before_in){e(t.dom_element).css("opacity","0")}if(t.hidden_after_in){e(t.dom_element).css("opacity","1")}var n=t.attrs["an_parent"];if(n==""){n=1}n=Math.round(n);var r=0;var i=e(t.dom_element);while(r<n){i=e(i).parent().closest("[data-az-id]");r++}if(t.attrs["an_start"]!=""){t.in_timeout=0;t.out_timeout=0;t.animated=false;t.animation_in=false;t.animation_out=false;if(t.attrs["an_letters"]!=""){}else{e(t.dom_element).off("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation");e(t.dom_element).on("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation",function(){t.end_animation()})}var s=function(){e(i).off("click.az_animation"+t.id);e(i).off("mouseenter.az_animation"+t.id);e(i).off("mouseleave.az_animation"+t.id);switch(t.attrs["an_start"]){case"click":e(i).on("click.az_animation"+t.id,function(){if(!t.animated){t.start_in_animation()}});break;case"appear":t.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(e){if(!t.animated){t.start_in_animation()}},{offset:"100%",triggerOnce:true});e(document).trigger("scroll")}});break;case"hover":e(i).on("mouseenter.az_animation"+t.id,function(){t.hover=true;t.start_in_animation()});e(i).on("mouseleave.az_animation"+t.id,function(){t.hover=false;t.start_out_animation()});break;case"trigger":break;default:break}};t.add_css("animate.css/animate.min.css",false,function(){if(t.attrs["an_letters"]==""){if(t.attrs["an_js_in"]!=""||t.attrs["an_js_out"]!=""){t.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js"],loaded:"TimelineMax"in window&&"TweenMax"in window,callback:s})}else{s()}}else{t.add_js_list({paths:["textillate/assets/jquery.lettering.js","js/textillate.js"],loaded:"textillate"in e.fn&&"lettering"in e.fn,callback:s})}})}},update_js_animations_list:function(){var e={};for(var t in o.elements_instances_by_an_name){for(var n=0;n<o.elements_instances_by_an_name[t].an_scenes.length;n++){if(o.elements_instances_by_an_name[t].an_name==t){if(o.elements_instances_by_an_name[t].an_scenes[n].duration=="-1")e[t+"-"+n]=n+" "+S("scene in")+" "+t+" "+S("animations set")}}}for(var n=0;n<this.params.length;n++){if(this.params[n].param_name=="an_js_in"||this.params[n].param_name=="an_js_out"){this.params[n].value=e}}},edit:function(){this.update_js_animations_list();zt.baseclass.prototype.edit.apply(this,arguments)},clone:function(){this.clear_animation();zt.baseclass.prototype.clone.apply(this,arguments)},show_js_animations_editor:function(t,r,i){var s=this;s.animations_editor=t;e('<div class="tree '+n+'col-sm-5"></div><div class="options '+n+'col-sm-7"></div>').appendTo(t);azexo_add_css("jstree/dist/themes/default/style.min.css",function(){});var u="";if(r)u=S("Name to identify this element in scroll animations");else u=S("Name to identify this JS animations set");e(t).find(".tree").append('<div class="'+n+'form-group an-name"><label>'+S("Name")+'</label><div><input class="'+n+'form-control" name="an_name" type="text" value="'+s.an_name+'" required ></div><p class="'+n+'help-block">'+u+"</p></div>");azexo_add_js({path:"jstree/dist/jstree.min.js",loaded:"jstree"in e.fn,callback:function(){function l(e){switch(e.duration){case"-1":return S("Real time scene");break;case"0":return S("Scroll real time scene")+":"+e.offset+"|"+e.triggerHook;break;default:return S("Scroll scene")+":"+e.duration+"|"+e.offset+"|"+e.triggerHook;break}}function c(e){return S("Tween")+":"+e.target+"|"+e.duration}function h(i){e(t).find(".options").empty();if(r&&u[i].duration!="-1")e(t).find(".options").append('<div class="'+n+'form-group"><label>'+S("Type")+'</label><div class="'+n+'radio"><div class="'+n+'radio"><label><input type="radio" name="type" value="scroll">'+S("Scroll position as time line")+'</label></div><div class="'+n+'radio"><label><input type="radio" name="type" value="real">'+S("Real time fired by scroll position")+"</label></div></div>");else e('<div class="'+n+'form-group"><label>'+S("Type")+'</label><div class="'+n+'radio"><label><input type="radio" name="type" value="library">'+S("Real time, store in library")+"</label></div></div>").appendTo(e(t).find(".options")).css("display","none");e(t).find('.options [name="type"]').on("change",function(){if(e(this).is(":checked")){switch(e(this).val()){case"library":e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","block");e(t).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","none");u[i].duration="-1";x.jstree("edit",i,l(u[i]));break;case"scroll":e(t).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block");e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","none");e(t).find('.options [name="duration"]').val("1000");u[i].duration=e(t).find('.options [name="duration"]').val();x.jstree("edit",i,l(u[i]));break;case"real":e(t).find(".options ."+n+"form-group.duration").css("display","none");e(t).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block");u[i].duration="0";x.jstree("edit",i,l(u[i]));break}}});switch(u[i].duration){case"-1":e(t).find('.options [name="type"][value="library"]').attr("checked","checked");break;case"0":e(t).find('.options [name="type"][value="real"]').attr("checked","checked");break;default:e(t).find('.options [name="type"][value="scroll"]').attr("checked","checked");break}e(t).find(".options").append('<div class="'+n+'form-group duration"><label>'+S("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+u[i].duration+'"></div><p class="'+n+'help-block">'+S("The duration of the scene in pixels")+"</p></div>");e(t).find('.options [name="duration"]').on("change",function(){u[i].duration=e(this).val();x.jstree("edit",i,l(u[i]))});e(t).find(".options").append('<div class="'+n+'form-group offset"><label>'+S("Offset")+'</label><div><input class="'+n+'form-control" name="offset" type="text" value="'+u[i].offset+'"></div><p class="'+n+'help-block">'+S("Offset Value (in pixels) for the Trigger Position.")+"</p></div>");e(t).find('.options [name="offset"]').on("change",function(){u[i].offset=e(this).val();x.jstree("edit",i,l(u[i]))});e(t).find(".options").append('<div class="'+n+'form-group repeat"><label>'+S("Repeat")+'</label><div class="'+n+'checkbox"><label><input type="checkbox" name="indefinite"> '+S("repeat indefinitely")+'</label></div><div><input class="'+n+'form-control" name="repeat" type="text" value="'+u[i].repeat+'"></div><p class="'+n+'help-block">'+S("Number of times that the timeline should repeat after its first iteration")+"</p></div>");e(t).find('.options [name="repeat"]').on("change",function(){u[i].repeat=e(this).val()});e(t).find('.options [name="indefinite"]').on("change",function(){if(e(this).prop("checked")){u[i].repeat="-1";e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")}else{u[i].repeat=e(t).find('.options [name="repeat"]').val();if(u[i].repeat<0){e(t).find('.options [name="repeat"]').val("0");u[i].repeat=0}e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block")}});if(u[i].repeat=="-1"){e(t).find('.options [name="indefinite"]').attr("checked","checked");e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")}else{e(t).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block")}e(t).find(".options").append('<div class="'+n+'form-group repeatdelay"><label>'+S("Repeat delay")+'</label><div><input class="'+n+'form-control" name="repeatDelay" type="text" value="'+u[i].repeatDelay+'"></div><p class="'+n+'help-block">'+S("Amount of time in seconds between repeats.")+"</p></div>");e(t).find('.options [name="repeatDelay"]').on("change",function(){u[i].repeatDelay=e(this).val()});var s=["onEnter","onCenter","onLeave"];s=_.object(s,s);e(t).find(".options").append('<div class="'+n+'form-group trigger"><label>'+S("Trigger hook")+"</label><div>"+yt(s,"trigger-hook",u[i].triggerHook)+'</div><p class="'+n+'help-block">'+S("Trigger hook")+"</p></div>");e(t).find('.options [name="trigger-hook"]').on("change",function(){u[i].triggerHook=e(this).val();x.jstree("edit",i,l(u[i]))});e(t).find(".options").append('<div class="'+n+'form-group pin"><label>'+S("Pin")+"</label><div>"+yt(_.object(_.keys(o.elements_instances_by_an_name),_.keys(o.elements_instances_by_an_name)),"pin",u[i].pin)+'</div><p class="'+n+'help-block">'+S("Pin element")+"</p></div>");e(t).find('.options [name="pin"]').on("change",function(){u[i].pin=e(this).val()});e(t).find('.options [name="type"]').trigger("change")}function p(n){s.an_scenes.push({duration:n.toString(),offset:0,triggerHook:"onCenter",timeline:[],repeat:"0",repeatDelay:"0"});var f=x.jstree("create_node","#",{type:"scene",text:l(s.an_scenes[s.an_scenes.length-1]),state:{opened:true}},"last");u[f]=s.an_scenes[s.an_scenes.length-1];a[f]="scene";v(f);if(!r){s.an_name=e(t).find('.tree [name="an_name"]').val();if(s.an_name!=""){s.attrs["an_name"]=s.an_name;o.elements_instances_by_an_name[s.an_name]=s;e(s.dom_element).attr("data-an-name",s.an_name);var c=s.an_scenes.length-1;var h=s.an_name;i()}}}function d(n){e(t).find(".options").empty()}function v(e){var t=x.jstree("get_children_dom",e).length;var n=x.jstree("create_node",e,{type:"step",text:S("Step")+":"+t.toString(),state:{opened:true}},"last");u[e].timeline.push({tweens:[]});u[n]=u[e].timeline[u[e].timeline.length-1];a[n]="step";f[n]=e;g(n)}function m(r){function s(t,r,i){function u(t,u,a){function h(){var t=e(c).find('[name="'+f+'"]').val();if(u!=""&&u!=t){delete r[i][u]}var n=e(c).find('[name="'+l+'"]').val();if(t!=""){u=t;if(!_.isObject(r[i]))r[i]={};r[i][t]=n}}var f="property"+s.toString();var l="property"+s.toString()+"value";var c=e('<div class="row"><div class="select '+n+'col-xs-5">'+yt(o,f,u)+'</div><div class="value '+n+'col-xs-5"><input class="'+n+'form-control" name="'+l+'" type="text" value="'+a+'"></div><div class="remove '+n+'col-xs-2"><button title="'+E("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button></div></div>').appendTo(t);e(c).find('[name="'+f+'"]').chosen({search_contains:true});e(c).find('[name="'+f+'"]').change(function(){h()});e(c).find('[name="'+l+'"]').change(function(){h()});e(c).find("button.remove").click(function(){var t=e(c).find('[name="'+f+'"]').val();if(t!=""){if(_.isObject(r[i]))delete r[i][t]}e(c).remove()});s++;return c}var s=0;var o=_.keys(document.body.style);o=_.object(o,o);var a=e('<div><div class="'+n+'form-group properties"></div><div class="add-property"></div></div>').appendTo(t);for(var f in r[i]){var l=u(e(a).find(".properties"),f,r[i][f])}e('<button title="'+E("Add property")+'" class="add-property '+n+"btn "+n+'btn-default">'+S("Add property")+"</button>").appendTo(e(a).find(".add-property")).click(function(){u(e(a).find(".properties"),"","");return false})}var i=f[f[r]];e(t).find(".options").empty();if(u[i].duration!="-1"){e(t).find(".options").append('<div class="'+n+'form-group"><label>'+S("Target")+"</label><div>"+yt(_.object(_.keys(o.elements_instances_by_an_name),_.keys(o.elements_instances_by_an_name)),"target",u[r].target)+'</div><p class="'+n+'help-block">'+S("Target element")+"</p></div>");e(t).find('.options [name="target"]').on("change",function(){u[r].target=e(this).val();x.jstree("edit",r,c(u[r]))})}e(t).find(".options").append('<div class="'+n+'form-group duration"><label>'+S("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+u[r].duration+'"></div><p class="'+n+'help-block">'+S("Duration of the tween in seconds.")+"</p></div>");e(t).find('.options [name="duration"]').on("change",function(){u[r].duration=e(this).val();x.jstree("edit",r,c(u[r]))});e(t).find(".options").append('<div class="'+n+'form-group"><label>'+S("From")+'</label><div class="from"></div><p class="'+n+'help-block">'+S("From")+"</p></div>");s(e(t).find(".options .from"),u[r].from,"css");e(t).find(".options").append('<div class="'+n+'form-group"><label>'+S("To")+'</label><div class="to"></div><p class="'+n+'help-block">'+S("To")+"</p></div>");s(e(t).find(".options .to"),u[r].to,"css");var a=["Linear","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","SlowMo","SteppedEase","Circ","Expo","Sine"];var l=[];for(var h=0;h<a.length;h++){l.push(a[h]+".easeNone");l.push(a[h]+".easeIn");l.push(a[h]+".easeOut");l.push(a[h]+".easeInOut")}l=_.object(l,l);e(t).find(".options").append('<div class="'+n+'form-group"><label>'+S("Ease")+"</label><div>"+yt(l,"ease",u[r].ease)+'</div><p class="'+n+'help-block">'+S("Ease")+"</p></div>");e(t).find('.options [name="ease"]').on("change",function(){u[r].ease=e(this).val()});e(t).find('.options [name="ease"]').chosen({search_contains:true});e(t).find(".options").append('<div class="'+n+'form-group delay"><label>'+S("Delay")+'</label><div><input class="'+n+'form-control" name="delay" type="text" value="'+u[r].delay+'"></div><p class="'+n+'help-block">'+S("Amount of delay in seconds before the tween should begin.")+"</p></div>");e(t).find('.options [name="delay"]').on("change",function(){u[r].delay=e(this).val()});if(u[i].duration!="0"&&u[i].duration!="-1"){e(t).find(".options ."+n+"form-group.duration").css("display","none");e(t).find(".options ."+n+"form-group.delay").css("display","none")}}function g(e){u[e].tweens.push({target:"",duration:1,from:{},to:{},ease:"Linear.easeNone",delay:"0"});var t=x.jstree("create_node",e,{type:"tween",text:c(u[e].tweens[u[e].tweens.length-1]),state:{opened:true}},"last");u[t]=u[e].tweens[u[e].tweens.length-1];a[t]="tween";f[t]=e}function y(e){switch(a[e]){case"scene":var t=s.an_scenes.indexOf(u[e]);if(t>-1){return[t]}break;case"step":var t=s.an_scenes.indexOf(u[f[e]]);if(t>-1){var n=s.an_scenes[t].timeline.indexOf(u[e]);if(n>-1){return[t,n]}}break;case"tween":var t=s.an_scenes.indexOf(u[f[f[e]]]);if(t>-1){var n=s.an_scenes[t].timeline.indexOf(u[f[e]]);if(n>-1){var r=s.an_scenes[t].timeline[n].tweens.indexOf(u[e]);if(r>-1){return[t,n,r]}}}break;default:break}return false}function b(){for(var e=0;e<s.an_scenes.length;e++){if(r&&s.an_scenes[e].duration!="-1"||!r&&s.an_scenes[e].duration=="-1"){var t=x.jstree("create_node","#",{type:"scene",text:l(s.an_scenes[e]),state:{opened:true}},"last");u[t]=s.an_scenes[e];a[t]="scene";for(var n=0;n<s.an_scenes[e].timeline.length;n++){var i=x.jstree("create_node",t,{type:"step",text:S("Step")+":"+n.toString(),state:{opened:true}},"last");u[i]=s.an_scenes[e].timeline[n];a[i]="step";f[i]=t;for(var o=0;o<s.an_scenes[e].timeline[n].tweens.length;o++){var h=x.jstree("create_node",i,{type:"tween",text:c(s.an_scenes[e].timeline[n].tweens[o]),state:{opened:true}},"last");u[h]=s.an_scenes[e].timeline[n].tweens[o];a[h]="tween";f[h]=i}}}}}var u={};var a={};var f={};s.add_scene_to_animations_editor=function(n){s.an_scenes.push(n);var r=_.clone(s.an_scenes);e(t).find("#jstree .jstree-node").each(function(){x.jstree("delete_node",e(this).attr("id"))});s.an_scenes=r;b()};var w=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(e(t).find(".tree"));e('<button title="'+E("Add scene")+'" class="add-scene '+n+"btn "+n+'btn-default">'+S("Add scene")+"</button>").appendTo(w).click(function(){if(r)p("1000");else p("-1");return false});e('<button title="'+E("Add timeline step")+'" class="add-step '+n+"btn "+n+'btn-default" disabled>'+S("Add step")+"</button>").appendTo(w).click(function(){var e=x.jstree("get_selected");v(e[0]);return false});e('<button title="'+E("Add tween")+'" class="add-tween '+n+"btn "+n+'btn-default" disabled>'+S("Add tween")+"</button>").appendTo(w).click(function(){var e=x.jstree("get_selected");g(e[0]);return false});e('<button title="'+E("Delete")+'" class="delete '+n+"btn "+n+'btn-default">'+S("Delete")+"</button>").appendTo(w).click(function(){var e=x.jstree("get_selected");if(e.length>0){x.jstree("delete_node",e[0])}return false});var x=e('<div id="jstree"></div>').appendTo(e(t).find(".tree")).jstree({core:{check_callback:function(e,t,n,r,i){return e==="rename_node"?false:true},multiple:false,animation:0},types:{"#":{valid_children:["scene"]},scene:{icon:n+"glyphicon "+n+"glyphicon-play",valid_children:["step"]},step:{icon:n+"glyphicon "+n+"glyphicon-step-forward",valid_children:["tween"]},tween:{icon:n+"glyphicon "+n+"glyphicon-leaf",valid_children:[]}},plugins:["dnd","types"]}).on("changed.jstree",function(t,n){for(var r=0;r<n.selected.length;r++){var i=n.instance.get_node(n.selected[r]).id;switch(a[i]){case"scene":e(w).find(".add-step").removeAttr("disabled");e(w).find(".add-tween").attr("disabled","disabled");h(i);break;case"step":e(w).find(".add-step").attr("disabled","disabled");e(w).find(".add-tween").removeAttr("disabled");d(i);break;case"tween":e(w).find(".add-step").attr("disabled","disabled");e(w).find(".add-tween").attr("disabled","disabled");m(i);break;default:e(w).find(".add-step").attr("disabled","disabled");e(w).find(".add-tween").attr("disabled","disabled");break}}}).on("delete_node.jstree",function(e,t){var n=t.node.id;var r=y(t.node.id);switch(r.length){case 1:s.an_scenes.splice(r[0],1);break;case 2:s.an_scenes[r[0]].timeline.splice(r[1],1);break;case 3:s.an_scenes[r[0]].timeline[r[1]].tweens.splice(r[2],1);break;default:break}}).on("move_node.jstree",function(e,t){var n=y(t.node.id);if(t.parent==t.old_parent){switch(n.length){case 1:s.an_scenes.splice(t.position,0,s.an_scenes.splice(t.old_position,1)[0]);break;case 2:s.an_scenes[n[0]].timeline.splice(t.position,0,s.an_scenes[n[0]].timeline.splice(t.old_position,1)[0]);break;case 3:s.an_scenes[n[0]].timeline[n[1]].tweens.splice(t.position,0,s.an_scenes[n[0]].timeline[n[1]].tweens.splice(t.old_position,1)[0]);break;default:break}}else{var r=y(t.parent);var i=null;switch(n.length){case 1:i=s.an_scenes.splice(n[0],1)[0];break;case 2:i=s.an_scenes[n[0]].timeline.splice(n[1],1)[0];break;case 3:i=s.an_scenes[n[0]].timeline[n[1]].tweens.splice(n[2],1)[0];break;default:break}switch(r.length){case 0:s.an_scenes.splice(t.position,0,i);break;case 1:s.an_scenes[r[0]].timeline.splice(t.position,0,i);break;case 2:s.an_scenes[r[0]].timeline[r[1]].tweens.splice(t.position,0,i);break;default:break}}});s.an_name="";if("an_name"in s.attrs){s.an_name=s.attrs["an_name"];o.elements_instances_by_an_name[s.an_name]=s}s.an_scenes=[];if("an_scenes"in s.attrs){s.an_scenes=e.parseJSON(decodeURIComponent(atob(s.attrs["an_scenes"])))}b()}})},save_js_animations:function(t){var n=this;azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){if(n.an_name!=""){n.attrs["an_name"]=n.an_name;o.elements_instances_by_an_name[n.an_name]=n;e(n.dom_element).attr("data-an-name",n.an_name)}n.attrs["an_scenes"]=btoa(encodeURIComponent(JSON.stringify(n.an_scenes)));if(t)n.update_scroll_animation()}})},show_controls:function(){var t=this;if(window.azexo_editor){zt.baseclass.prototype.show_controls.apply(this,arguments);e('<button title="'+E("Scroll animations")+'" class="control scroll-animation '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-sort"> </button>').appendTo(this.controls).click(function(){e("#az-js-animation-modal").remove();var i='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+S("Scroll animation settings")+"</h4></div>";var s='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+S("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+S("Save changes")+"</button></div>";var u=e('<div id="az-js-animation-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+i+'<div class="'+n+'modal-body"></div>'+s+"</div></div></div>").prependTo("body");var a=e('<div id="az-js-animation-tabs"><ul class="'+n+"nav "+n+'nav-tabs"><li><a href="#script" data-toggle="tab">'+S("Script")+'</a></li><li><a href="#wizards" data-toggle="tab">'+S("Wizards")+'</a></li></ul><div class="'+n+'tab-content"><div id="script" class="'+n+'tab-pane"></div><div id="wizards" class="'+n+'tab-pane"></div></div></div>');e(u).find("."+n+"modal-body").append(a);var f=e('<div id="az-js-animation-form" class="'+n+'clearfix"></div>');e(a).find("#script").append(f);e('#az-js-animation-tabs a[href="#script"]')[r+"tab"]("show");t.show_js_animations_editor(f,true,function(){});e('<div class="'+n+'form-group"><label>'+S("Choose a wizard")+"</label>"+yt({vparalax:"Vertical paralax for child element"},"wizard","")+'</div><div id="wizard-form"></div>').appendTo(e(a).find("#wizards"));e(a).find('#wizards [name="wizard"]').change(function(){e(a).find("#wizard-form").empty();switch(e(this).val()){case"vparalax":e(a).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+S("Target")+"</label><div>"+yt(_.object(_.keys(o.elements_instances_by_an_name),_.keys(o.elements_instances_by_an_name)),"target","")+'</div><p class="'+n+'help-block">'+S("Target element")+"</p></div>");e(a).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+S("Shift")+'</label><div><input class="'+n+'form-control" name="shift" type="text" value="1000"></div><p class="'+n+'help-block">'+S("Number of pixels before/after original position when animation start/stop.")+"</p></div>");e(a).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+S("Speed")+'</label><div><input class="'+n+'form-control" name="speed" type="text" value="1"></div><p class="'+n+'help-block">'+S("Speed ratio. Where 1 mean speed which is equal to viewport speed.")+"</p></div>");e('<button title="'+E("Create script")+'" class="create-script '+n+"btn "+n+'btn-default">'+S("Create script")+"</button>").appendTo(e(a).find("#wizard-form")).click(function(){var n=parseInt(e(a).find('#wizard-form [name="shift"]').val());var i=parseFloat(e(a).find('#wizard-form [name="speed"]').val());var s=e(a).find('#wizard-form [name="target"]').val();var u=o.elements_instances_by_an_name[s];if(e(t.dom_element).find(u.dom_element).length>0){var f={target:s,duration:1,from:{css:{transform:"translateY("+(n*i).toString()+"px)"}},to:{css:{transform:"translateY("+(-n*i).toString()+"px)"}},ease:"Linear.easeNone",delay:"0"};var l={tweens:[f]};var c=e(u.dom_element).offset().top-e(t.dom_element).offset().top;var h={duration:2*n,offset:c-n,triggerHook:"onCenter",timeline:[l],repeat:"0",repeatDelay:"0"};t.add_scene_to_animations_editor(h);e('#az-js-animation-tabs a[href="#script"]')[r+"tab"]("show")}else{e(a).find("#wizard-form").prepend(bt(S("Animated target element must be child of the current element.")))}});break;default:break}});e("#az-js-animation-modal").find(".save").click(function(){e(f).find('.tree [name="an_name"]');if(e(f).find('.tree [name="an_name"]').val()==""){e(f).find(".tree .an-name").addClass("has-error");return false}t.an_name=e(f).find('.tree [name="an_name"]').val();t.save_js_animations(true);e("#az-js-animation-modal")[r+"modal"]("hide");e(document).trigger("azexo_edited_element",t.id);return false});e("#az-js-animation-modal")[r+"modal"]("show");return false})}},make_timeline:function(e,t){var n={};if(e.duration=="0"||e.duration=="-1"){n={repeat:parseInt(e.repeat),repeatDelay:parseFloat(e.repeatDelay)}}if(t!=null)n.onComplete=t;var r=new TimelineMax(n);for(var i=0;i<e.timeline.length;i++){var s=[];for(var o=0;o<e.timeline[i].tweens.length;o++){var u='[data-az-id="'+this.id+'"]';if(e.timeline[i].tweens[o].target!="")u='[data-an-name="'+e.timeline[i].tweens[o].target+'"]';var a=_.keys(e.timeline[i].tweens[o].from);var f=_.keys(e.timeline[i].tweens[o].to);if(a.length==0&&f.length>0){var l=e.timeline[i].tweens[o].to;l.ease=e.timeline[i].tweens[o].ease;l.delay=parseFloat(e.timeline[i].tweens[o].delay);s.push(TweenMax.to(u,e.timeline[i].tweens[o].duration,l))}if(a.length>0&&f.length==0){var c=e.timeline[i].tweens[o].from;c.ease=e.timeline[i].tweens[o].ease;c.delay=parseFloat(e.timeline[i].tweens[o].delay);s.push(TweenMax.from(u,e.timeline[i].tweens[o].duration,c))}if(a.length>0&&f.length>0){var c=e.timeline[i].tweens[o].from;c.ease=e.timeline[i].tweens[o].ease;c.delay=e.timeline[i].tweens[o].delay;var l=e.timeline[i].tweens[o].to;l.ease=e.timeline[i].tweens[o].ease;l.delay=parseFloat(e.timeline[i].tweens[o].delay);s.push(TweenMax.fromTo(u,e.timeline[i].tweens[o].duration,c,l))}}r.add(s)}return r},update_scroll_animation:function(){var t=this;this.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js","ScrollMagic/js/jquery.scrollmagic.min.js"],loaded:"ScrollMagic"in window,callback:function(){if(u==null){var n={};if(window.azexo_editor){}u=new ScrollMagic(n)}if(e.isArray(t.scroll_magic_scenes)){for(var r=0;r<t.scroll_magic_scenes.length;r++){if("indicators"in t.scroll_magic_scenes[r]&&"remove"in t.scroll_magic_scenes[r].indicators)t.scroll_magic_scenes[r].indicators.remove();u.removeScene(t.scroll_magic_scenes[r])}}t.scroll_magic_scenes=[];if(e(t.dom_element).parents(".azexo-animations-disabled").length==0){for(var r=0;r<t.an_scenes.length;r++){if(t.an_scenes[r].duration!="-1"){var n={triggerElement:'[data-az-id="'+t.id+'"]',duration:t.an_scenes[r].duration,offset:t.an_scenes[r].offset,triggerHook:t.an_scenes[r].triggerHook};var i=(new ScrollScene(n)).addTo(u);t.scroll_magic_scenes.push(i);if(window.azexo_editor){(function(e){t.add_js({path:"ScrollMagic/js/jquery.scrollmagic.debug.js",callback:function(){e.addIndicators({suffix:t.an_name})}})})(i)}if("pin"in t.an_scenes[r]&&t.an_scenes[r].pin!=""){i.setPin('[data-an-name="'+t.an_scenes[r].pin+'"]')}var s=t.make_timeline(t.an_scenes[r],null);i.setTween(s)}}}}})},showed:function(e,t,n){zt.baseclass.prototype.showed.apply(this,arguments);this.an_name="";if("an_name"in this.attrs&&this.attrs["an_name"]!=""){this.an_name=this.attrs["an_name"];o.elements_instances_by_an_name[this.an_name]=this}this.an_scenes=[];if("an_scenes"in this.attrs&&this.attrs["an_scenes"]!=""){this.an_scenes=e.parseJSON(decodeURIComponent(atob(this.attrs["an_scenes"])));this.update_scroll_animation()}if("an_start"in this.attrs&&this.attrs["an_start"]!=""&&this.attrs["an_start"]!="no"){this.animation()}},render:function(e,t,n){if("an_name"in this.attrs&&this.attrs["an_name"]!=""){e(this.dom_element).attr("data-an-name",this.attrs["an_name"])}zt.baseclass.prototype.render.apply(this,arguments)}});Wt("az_section",true,Xt);Z(Xt.prototype,{name:S("Section"),icon:"fa fa-square-o",description:S("Bootstrap grid container"),category:S("Layout"),params:[St({type:"checkbox",heading:S("Fluid?"),param_name:"fluid",value:{yes:S("Yes, please")}}),St({type:"dropdown",heading:S("Background Effect"),param_name:"effect",tab:S("Background Effects"),value:{"":S("Simple Image"),fixed:S("Fixed Image"),parallax:S("Parallax Image"),youtube:S("YouTube Video")},description:S("Select the effect you want to apply to the row background.")}),St({type:"integer_slider",heading:S("Parallax speed"),param_name:"parallax_speed",tab:S("Background Effects"),value:20,dependency:{element:"effect",value:["parallax"]}}),St({type:"checkbox",heading:S("Video Play Options"),param_name:"video_options",tab:S("Background Effects"),description:S("Select options for the video."),value:{loop:S("Loop"),mute:S("Muted")},dependency:{element:"effect",value:["youtube"]}}),St({type:"textfield",heading:S("YouTube Video URL"),param_name:"video_youtube",tab:S("Background Effects"),description:S("Enter the YouTube video URL."),dependency:{element:"effect",value:["youtube"]}}),St({type:"textfield",heading:S("Start Time in seconds"),param_name:"video_start",tab:S("Background Effects"),description:S("Enter time in seconds from where video start to play."),value:"0",dependency:{element:"effect",value:["youtube"]}}),St({type:"textfield",heading:S("Stop Time in seconds"),param_name:"video_stop",tab:S("Background Effects"),description:S("Enter time in seconds where video ends."),value:"0",dependency:{element:"effect",value:["youtube"]}})].concat(Xt.prototype.params),is_container:true,section:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},showed:function(e,t,n){Xt.baseclass.prototype.showed.apply(this,arguments);var r=this;switch(this.attrs["effect"]){case"parallax":this.add_js_list({paths:["jquery.parallax/jquery.parallax.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"parallax"in e.fn,callback:function(){e(r.dom_element).waypoint(function(t){e(r.dom_element).css("background-attachment","fixed");e(r.dom_element).css("background-position","50% 0");e(r.dom_element).parallax("50%",r.attrs["parallax_speed"]/100)},{offset:"100%",triggerOnce:true});e(document).trigger("scroll")}});break;case"fixed":e(r.dom_element).css("background-attachment","fixed");break;case"youtube":var i=_.indexOf(r.attrs["video_options"].split(","),"loop")>=0;var s=_.indexOf(r.attrs["video_options"].split(","),"mute")>=0;this.add_css("jquery.mb.YTPlayer/css/YTPlayer.css","mb_YTPlayer"in e.fn,function(){});this.add_js_list({paths:["jquery.mb.YTPlayer/inc/jquery.mb.YTPlayer.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"mb_YTPlayer"in e.fn,callback:function(){e(r.dom_element).waypoint(function(t){e(r.dom_element).attr("data-property","{videoURL:'"+vt(r.attrs["video_youtube"])+"',containment:'#"+r.id+"', showControls:false, autoPlay:true, loop:"+i.toString()+", mute:"+s.toString()+", startAt:"+r.attrs["video_start"]+", stopAt:"+r.attrs["video_stop"]+", opacity:1, addRaster:false, quality:'default'}");e(r.dom_element).mb_YTPlayer();e(r.dom_element).playYTP()},{offset:"100%",triggerOnce:true});e(document).trigger("scroll")}});break;default:break}},render:function(e,t,n){this.dom_element=e('<div id="'+this.id+'" class="az-element az-section '+this.attrs["el_class"]+' " style="'+this.attrs["style"]+'"></div>');if(this.attrs["fluid"]=="yes")this.dom_content_element=e('<div class="az-ctnr '+t+'container-fluid"></div>').appendTo(this.dom_element);else this.dom_content_element=e('<div class="az-ctnr '+t+'container"></div>').appendTo(this.dom_element);Xt.baseclass.prototype.render.apply(this,arguments)}});Wt("az_row",true,Vt);Z(Vt.prototype,{name:S("Row"),icon:"fa fa-table",description:S("One row to implement a Bootstrap grid layout with responsive ability. You can choose number of columns and thier widths. Used by default."),category:S("Layout"),params:[St({type:"dropdown",heading:S("Device"),param_name:"device",value:{xs:S("Extra small devices Phones (<768px)"),sm:S("Small devices Tablets (≥768px)"),md:S("Medium devices Desktops (≥992px)"),lg:S("Large devices Desktops (≥1200px)")},description:S("Bootstrap responsive grid system")})].concat(Vt.prototype.params),is_container:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){Vt.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();var t=this;var i=this.controls;var s='<div class="row-layouts '+n+'clearfix">';var o=["1/1","1/2 + 1/2","2/3 + 1/3","1/3 + 1/3 + 1/3","1/4 + 1/4 + 1/4 + 1/4","1/4 + 3/4","1/4 + 1/2 + 1/4","5/6 + 1/6","1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6","1/6 + 4/6 + 1/6","1/6 + 1/6 + 1/6 + 1/2"];for(var u=0;u<o.length;u++){s+='<div title="'+E("Set "+o[u]+" colums")+'" class="control set-columns-layout l_'+o[u].replace(/ \+ /g,"_").replace(/\//g,"")+'" data-az-columns="'+o[u]+'"></div>'}s+="</div>";var a=e('<button title="'+E("Set layout")+'" class="control set-columns '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-th"> </button>').appendTo(this.controls).click({object:this},this.click_set_columns)[r+"popover"]({animation:false,placement:n+"right",html:"true",trigger:"manual",content:s}).hover(function(){e(this)[r+"popover"]("show");e(i).find("."+n+"popover .set-columns-layout").each(function(){e(this).click({object:t},t.click_set_columns)});e(t.dom_element).mouseleave(function(){e(a)[r+"popover"]("hide");e(a).css("display","")})})}},update_sortable:function(){if(window.azexo_editor){e(this.dom_element).sortable({axis:"x",items:"> .az-column",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}})}},update_sorting:function(t,n){Vt.baseclass.prototype.update_sorting.apply(this,arguments);var r=o.get_element(e(this).closest("[data-az-id]").attr("data-az-id"));if(r){for(var i=0;i<r.children.length;i++){r.children[i].update_empty()}}},update_dom:function(){Vt.baseclass.prototype.update_dom.apply(this,arguments);for(var e=0;e<this.children.length;e++){this.children[e].update_dom()}},click_set_columns:function(t){var n=e(this).attr("data-az-columns");if(n==""||n==undefined){if(t.data.object.columns==""){n=[];for(var r=0;r<t.data.object.children.length;r++){n.push(t.data.object.children[r].attrs["width"])}t.data.object.columns=n.join(" + ")}n=window.prompt(S("Enter custom layout for your row:"),t.data.object.columns)}if(n!=""&&n!=null)t.data.object.set_columns(n);return false},set_columns:function(e){this.columns=e;var t=e.replace(" ","").split("+");if(this.children.length==0){for(var n=0;n<t.length;n++){var r=new $t(this,true);r.update_dom();r.update_width(t[n])}}else{if(this.children.length==t.length){for(var n=0;n<t.length;n++){this.children[n].update_width(t[n])}}else{if(this.children.length>t.length){var i=this.children[t.length-1];for(var n=0;n<this.children.length;n++){if(n<t.length){this.children[n].update_width(t[n])}else{var s=this.children[n];for(var o=0;o<s.children.length;o++){s.children[o].parent=i;i.children.push(s.children[o])}s.children=[]}}i.update_dom();var u=this.children.slice(t.length,this.children.length);for(var n=0;n<u.length;n++){u[n].remove()}}else{for(var n=0;n<t.length;n++){if(n<this.children.length){this.children[n].update_width(t[n])}else{var r=new $t(this,true);r.update_dom();r.update_width(t[n])}}}}}this.update_sortable()},render:function(e,t,n){this.dom_element=e('<div class="az-element az-row '+t+"row "+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=this.dom_element;Vt.baseclass.prototype.render.apply(this,arguments)}});_t("az_column",true,$t);Z($t.prototype,{name:S("Column"),params:[St({type:"textfield",heading:S("Column with"),param_name:"width",hidden:true})].concat($t.prototype.params),hidden:true,is_container:true,show_parent_controls:true,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this row and current column. You can choose columns layout by mouse over (or click) this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-th"></span></div></div>'},show_controls:function(){if(window.azexo_editor){$t.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".clone").remove();e(this.controls).find(".copy").remove();e(this.controls).find(".remove").remove()}},get_my_shortcode:function(){return this.get_children_shortcode()},update_width:function(t){e(this.dom_element).removeClass(rt(this.attrs["width"],this.parent.attrs["device"]));this.attrs["width"]=t;e(this.dom_element).addClass(rt(this.attrs["width"],this.parent.attrs["device"]));e(document).trigger("azexo_update_element",this.id)},render:function(e,t,n){this.dom_element=e('<div class="az-element az-ctnr az-column '+this.attrs["el_class"]+" "+rt(this.attrs["width"],this.parent.attrs["device"])+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=this.dom_element;$t.baseclass.prototype.render.apply(this,arguments)}});Wt("az_grid",true,Jt);Z(Jt.prototype,{name:S("Grid"),icon:"fa fa-th-large",description:S("Grid with filter by tags. Every item of grid can contain any number of any types of elements."),category:S("Layout"),params:[St({type:"integer_slider",heading:S("Columns number"),param_name:"columns_number",min:"1",max:"20",value:"3"}),St({type:"checkbox",heading:S("Masonry grid?"),param_name:"masonry",value:{yes:S("Yes, please")}})].concat(Jt.prototype.params),is_container:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},update_sortable:function(){if(window.azexo_editor){var t=this;function n(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.css("width",t.helper.css("width"));t.placeholder.css("height",t.helper.css("height"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}e(this.dom_element).find("> ul").sortable({items:"> .az-item",connectWith:".az-grid > ul",handle:"> .controls > .drag-and-drop",update:t.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,start:n,over:n})}},update_sorting:function(t,n){Jt.baseclass.prototype.update_sorting.apply(this,arguments);var r=o.get_element(e(this).closest("[data-az-id]").attr("data-az-id"));if(r){for(var i=0;i<r.children.length;i++){r.children[i].update_empty()}}},show_controls:function(){if(window.azexo_editor){Jt.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();e(this.controls).find(".clone").remove();azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){}})}},click_add_item:function(e){e.data.object.add_item();return false},add_item:function(){var e=new Kt(this,true);e.update_dom();this.update_dom()},attach_events:function(){if(window.azexo_editor){var t=this;e(document).on("azexo_add_element",function(n,r){var i=o.get_element(r.id);var s=t.get_item(i);if(s!=null){s.parent.linked_elements_index[i.id]=i}if(i.parent.id in t.linked_elements_index||i.base=="az_item"){if(!("element_adding"in t)){t.element_adding=true;t.add_control(i);if(!r.position||i.base=="az_column")i.synchronize();if(e(i.parent.dom_content_element).hasClass("ui-sortable")&&i.id!=s.id)e(i.parent.dom_content_element).sortable("option","containment",s.dom_content_element);delete t.element_adding}}});function n(n,r){var i=o.get_element(r);if(r in t.linked_elements_index||i.parent.id in t.linked_elements_index){if(!("element_updating"in t)){t.element_updating=true;var i=o.get_element(r);var s=t.get_item(i);t.add_control(i);if(!n)i.synchronize();if(e(i.parent.dom_content_element).hasClass("ui-sortable")&&i.id!=s.id)e(i.parent.dom_content_element).sortable("option","containment",s.dom_content_element);delete t.element_updating}}}e(document).on("azexo_edited_element",function(e,t){n(true,t)});e(document).on("azexo_update_element",function(e,t){n(false,t)});e(document).on("azexo_delete_element",function(e,n){var r=o.get_element(n);var i=t.get_item(r);if(i!=null&&r.id in i.parent.linked_elements_index&&r.base!="az_item"){if(!("element_deleting"in t)){t.element_deleting=true;if(!("item_removing"in t)){var s=t.get_linked_elements(r,true);for(var u=0;u<s.length;u++){if(r.id!=s[u].id){s[u].remove()}}}delete i.parent.linked_elements_index[r.id];delete t.element_deleting}}});e(document).on("azexo_update_sorting",function(n,r){var i=e(r.item).closest("[data-az-id]").attr("data-az-id");if(i in t.linked_elements_index){var s=o.get_element(i);var u=t.get_item(s);if(u==null){delete t.linked_elements_index[i]}else{if(s.id!=u.id){if(r.source.id==r.target.id){var a=t.get_linked_elements(s.parent,false);var f=t.get_path(s.parent);for(var l=0;l<a.length;l++){var c=a[l];if(c.id!=s.parent.id){c.children.splice(r.to_pos,0,c.children.splice(r.from_pos,1)[0]);c.update_dom()}}}else{var h=t.get_path(r.source);var p=t.get_linked_elements(r.source,false);var d=t.get_path(r.target);var v=t.get_linked_elements(r.target,false);for(var l=0;l<p.length;l++){var m=p[l];var g=v[l];if(m.id!=r.source.id&&g.id!=r.target.id){var y=m.children.splice(r.from_pos,1)[0];m.update_dom();g.children.splice(r.to_pos,0,y);g.update_dom()}}}}}}})}},get_path:function(e){if(e.base=="az_item"){return[]}if("parent"in e){var t=this.get_path(e.parent);if(t!=null)return this.get_path(e.parent).concat([e.get_child_position()]);else return null}else{return null}},get_item:function(e){if(e.base=="az_item")return e;if("parent"in e)return this.get_item(e.parent);else return null},get_linked_elements:function(e,t){var n=[];var r=this.get_path(e);for(var i=0;i<this.children.length;i++){var s=this.children[i];for(var o=0;o<r.length;o++){if(r[o]<s.children.length)s=s.children[r[o]];else return[]}if(e.base==s.base){if(t)for(var o=0;o<n.length;o++){if(n[o].parent.children.length!=s.parent.children.length)return[]}n.push(s)}}return n},add_control:function(t){var r=this;t.synchronize=function(){var e=r.get_linked_elements(this,true);if(e.length==r.children.length){for(var t=0;t<e.length;t++){e[t].edited(this.attrs)}}else{var e=r.get_linked_elements(this.parent,true);if(e.length==r.children.length){var n=Ot.prototype.tags[this.base];var i=this.get_child_position();for(var t=0;t<e.length;t++){if(e[t].id!=this.parent.id){var s=e[t];var o=new n(s,true);s.children.splice(i,0,s.children.splice(s.children.length-1,1)[0]);o.update_dom();s.update_dom();r.linked_elements_index[o.id]=o;r.add_control(o)}}}}};_.defer(function(){var i=r.get_item(t);if(i!=null){if(t.parent.dom_content_element!=null&&t.id!=i.id)if(e(t.parent.dom_content_element).hasClass("ui-sortable"))e(t.parent.dom_content_element).sortable("option","containment",i.dom_content_element)}if(t.controls!=null){e(t.controls).find(".copy").remove();e(t.controls).find(".paste").remove();e(t.controls).find(".save-template").remove();if(t.base!="az_item"){e(t.controls).find(".clone").remove()}if(t.controls.find(".synchronize").length==0){e('<button title="'+E("Synchronize this element settings through all grid items")+'" class="control synchronize '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-pushpin" > </button>').appendTo(t.controls).click({object:t},function(e){e.data.object.synchronize();return false})}}});for(var i=0;i<t.children.length;i++){r.add_control(t.children[i])}},showed:function(e,t,n){Jt.baseclass.prototype.showed.apply(this,arguments);var r=this;this.add_js({path:"js/masonry.min.js",loaded:"masonry"in e.fn,callback:function(){var n=Math.floor(e(r.dom_element).parent().width()/parseInt(r.attrs["columns_number"]));var i=[];for(var s=0;s<r.children.length;s++){e(r.children[s].dom_element).css("width",n);if(r.children[s].attrs["tags"]!=""){var o=r.children[s].attrs["tags"].split(",");for(var u=0;u<o.length;u++)o[u]=o[u].replace(/ /g,"");i=i.concat(o)}}i=e.unique(i);e(r.dom_element).find(".az-tags").remove();if(i.length>0){var a=e('<div class="az-tags '+t+'btn-group"></div>').prependTo(r.dom_element);e('<a class="az-tag '+t+"btn "+t+'btn-default">'+S("All")+"</a>").appendTo(a).click(function(){e(r.dom_content_element).find("> .az-item").css("display","block");if(r.attrs["masonry"]=="yes")e(r.dom_element).find("ul").masonry("layout")});for(var s=0;s<i.length;s++){(function(n){e('<a class="az-tag '+t+"btn "+t+'btn-default">'+i[n]+"</a>").appendTo(a).click(function(){e(r.dom_content_element).find('> .az-item[data-az-tags*="'+i[n]+'"]').css("display","block");e(r.dom_content_element).find('> .az-item:not([data-az-tags*="'+i[n]+'"])').css("display","none");if(r.attrs["masonry"]=="yes")e(r.dom_element).find("ul").masonry("layout")})})(s)}}if(r.attrs["masonry"]=="yes"){e(r.dom_element).find("ul").masonry({itemSelector:"li",columnWidth:n})}else{}}})},render:function(e,t,n){var r=this;this.dom_element=e('<div class="az-element az-grid '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=e('<ul class="'+t+'clearfix"></ul>').appendTo(this.dom_element);Jt.baseclass.prototype.render.apply(this,arguments)}});_t("az_item",true,Kt);Z(Kt.prototype,{name:S("Item"),params:[St({type:"textfield",heading:S("Item tags"),param_name:"tags",descritption:S("Separated by comma.")}),St({type:"textfield",heading:S("Item height"),param_name:"height",description:S("You can use px, em, %, etc. or enter just number and it will use pixels.")})].concat(Kt.prototype.params),hidden:true,is_container:true,disallowed_elements:["az_grid","az_tabs","az_accordion","az_carousel","az_form"],show_parent_controls:true,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this grid element and for current item element. You can add new item via clone current item by click on this button:")+'<span class="'+n+"glyphicon "+n+'glyphicon-repeat"></span></div><div class="bottom '+n+'well"><strong>'+S("1) Create one item as template. 2) Clone it as much as you want. 3) Customize every item.")+"</strong></div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},remove:function(){this.parent.item_removing=true;Kt.baseclass.prototype.remove.apply(this,arguments);delete this.parent.item_removing;this.parent.showed(e,n,r)},clone:function(){var t=Kt.baseclass.prototype.get_my_shortcode.apply(this,arguments);e("#azexo-clipboard").html(btoa(encodeURIComponent(t)));for(var n=0;n<this.parent.children.length;n++){if(this.parent.children[n].id==this.id){this.parent.paste(n);break}}this.parent.update_dom()},show_controls:function(){if(window.azexo_editor){Kt.baseclass.prototype.show_controls.apply(this,arguments);this.parent.add_control(this)}},edited:function(){Kt.baseclass.prototype.edited.apply(this,arguments);this.parent.showed(e,n,r)},showed:function(e,t,n){Kt.baseclass.prototype.showed.apply(this,arguments);var r=Math.floor(e(this.parent.parent.dom_content_element).width()/parseInt(this.parent.attrs["columns_number"]));e(this.dom_element).css("width",r)},render:function(e,t,n){this.dom_element=e('<li class="az-element az-ctnr az-item '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'" data-az-tags="'+this.attrs["tags"]+'"></li>');this.dom_content_element=this.dom_element;if("height"in this.attrs)e(this.dom_element).css("height",this.attrs["height"]);Kt.baseclass.prototype.render.apply(this,arguments)}});Wt("az_layers",true,Qt);Z(Qt.prototype,{name:S("Layers"),icon:"fa fa-archive",description:S("Box with fixed size. Every contained element have free position and free size in proportion with this element."),category:S("Layout"),params:[St({type:"textfield",heading:S("Width"),param_name:"width",description:S("You can use px, em, %, etc. or enter just number and it will use pixels."),value:"100%"}),St({type:"integer_slider",heading:S("Height"),param_name:"height",max:"10000",value:"500"}),St({type:"checkbox",heading:S("Responsive?"),param_name:"responsive",value:{yes:S("Yes, please")}}),St({type:"integer_slider",heading:S("Original width"),param_name:"o_width",hidden:true})].concat(Qt.prototype.params),show_settings_on_create:true,is_container:true,disallowed_elements:["az_layers"],get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well">'+S("Double click will add a new element. All elements are draggable and resizable. Middle mouse click will iterate via all elements placed in this container - it can help when elements overlapped.")+'</div><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this layers element.")+"</div></div>"},zindex_normalize:function(){var t=[];for(var n=0;n<this.children.length;n++){if(isNaN(parseInt(this.children[n].attrs["pos_zindex"]))){this.children[n].attrs["pos_zindex"]=0}t.push(parseInt(this.children[n].attrs["pos_zindex"]))}t=_.sortBy(t,function(e){return e});t=_.uniq(t);for(var n=0;n<this.children.length;n++){var r=_.sortedIndex(t,parseInt(this.children[n].attrs["pos_zindex"]));e(this.children[n].dom_element).css("z-index",r);this.children[n].attrs["pos_zindex"]=r}},update_sortable:function(){if(window.azexo_editor){var t=this;t.zindex_normalize();function r(n){var r=e(n).closest("[data-az-id]").attr("data-az-id");var s=o.get_element(r);s.attrs["pos_left"]=parseInt(e(n).css("left"))/(e(t.dom_content_element).width()/100)+"%";s.attrs["pos_top"]=parseInt(e(n).css("top"))/(e(t.dom_content_element).height()/100)+"%";s.attrs["pos_width"]=parseInt(e(n).css("width"))/(e(t.dom_content_element).width()/100)+"%";s.attrs["pos_height"]=parseInt(e(n).css("height"))/(e(t.dom_content_element).height()/100)+"%";i(n);t.attrs["o_width"]=e(t.dom_element).width();e(document).trigger("azexo_update_element",r)}function i(n){e(n).css("left",parseInt(e(n).css("left"))/(e(t.dom_content_element).width()/100)+"%");e(n).css("top",parseInt(e(n).css("top"))/(e(t.dom_content_element).height()/100)+"%");e(n).css("width",parseInt(e(n).css("width"))/(e(t.dom_content_element).width()/100)+"%");e(n).css("height",parseInt(e(n).css("height"))/(e(t.dom_content_element).height()/100)+"%")}e(this.dom_content_element).resizable({start:function(e,n){for(var r=0;r<t.children.length;r++){var s=t.children[r].dom_element;i(s)}},stop:function(n,r){t.attrs["width"]=parseInt(e(t.dom_content_element).css("width"))/(e(t.dom_element).width()/100)+"%";e(t.dom_content_element).width(t.attrs["width"]);t.attrs["height"]=e(t.dom_content_element).height();e(document).trigger("azexo_update_element",t.id)}});for(var s=0;s<this.children.length;s++){if(!e.isNumeric(e(this.children[s].dom_element).css("z-index"))){e(this.children[s].dom_element).css("z-index",0)}if(this.children[s].controls==null){this.children[s].show_controls()}if(this.children[s].attrs["pos_top"]==null){this.children[s].attrs["pos_top"]="50%"}if(this.children[s].attrs["pos_left"]==null){this.children[s].attrs["pos_left"]="50%"}if(this.children[s].attrs["pos_width"]==null){this.children[s].attrs["pos_width"]="50%"}if(this.children[s].attrs["pos_height"]==null){this.children[s].attrs["pos_height"]="50%"}if(this.children[s].controls.find(".width100").length==0)e('<button title="'+E("100% width")+'" class="control width100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-horizontal" > </button>').appendTo(this.children[s].controls).click({object:this.children[s]},function(t){t.data.object.attrs["pos_left"]="0%";e(t.data.object.dom_element).css("left","0%");t.data.object.attrs["pos_width"]="100%";e(t.data.object.dom_element).css("width","100%");return false});if(this.children[s].controls.find(".heigth100").length==0)e('<button title="'+E("100% heigth")+'" class="control heigth100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-vertical" > </button>').appendTo(this.children[s].controls).click({object:this.children[s]},function(t){t.data.object.attrs["pos_top"]="0%";e(t.data.object.dom_element).css("top","0%");t.data.object.attrs["pos_height"]="100%";e(t.data.object.dom_element).css("height","100%");return false});if(this.children[s].controls.find(".forward").length==0)e('<button title="'+E("Bring forward")+'" class="control forward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-up" > </button>').appendTo(this.children[s].controls).click({object:this.children[s]},function(n){if(e.isNumeric(e(n.data.object.dom_element).css("z-index"))){e(n.data.object.dom_element).css("z-index",Math.round(e(n.data.object.dom_element).css("z-index"))+1);n.data.object.attrs["pos_zindex"]=e(n.data.object.dom_element).css("z-index")}else{e(n.data.object.dom_element).css("z-index",0);n.data.object.attrs["pos_zindex"]=0}t.zindex_normalize();return false});if(this.children[s].controls.find(".backward").length==0)e('<button title="'+E("Send backward")+'" class="control backward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-down" > </button>').appendTo(this.children[s].controls).click({object:this.children[s]},function(n){if(e.isNumeric(e(n.data.object.dom_element).css("z-index"))){if(Math.round(e(n.data.object.dom_element).css("z-index"))>0){e(n.data.object.dom_element).css("z-index",Math.round(e(n.data.object.dom_element).css("z-index"))-1);n.data.object.attrs["pos_zindex"]=e(n.data.object.dom_element).css("z-index")}}else{e(n.data.object.dom_element).css("z-index",0);n.data.object.attrs["pos_zindex"]=0}t.zindex_normalize();return false});e(this.children[s].dom_element).draggable({handle:"> .controls > .drag-and-drop",containment:"#"+this.id,scroll:false,snap:"#"+this.id+", .az-element",stop:function(e,t){r(this)}});e(this.children[s].dom_element).resizable({containment:"#"+this.id,stop:function(e,t){r(this)}})}}},show_controls:function(){if(window.azexo_editor){Qt.baseclass.prototype.show_controls.apply(this,arguments);this.update_sortable();var t=this;e(this.dom_content_element).dblclick(function(e){if(e.which==1){o.show(t,function(t){t.attrs["pos_top"]=e.offsetY.toString()+"px";t.attrs["pos_left"]=e.offsetX.toString()+"px"})}})}},attach_children:function(){Qt.baseclass.prototype.attach_children.apply(this,arguments);if(window.azexo_editor)this.update_sortable()},showed:function(e,t,n){Qt.baseclass.prototype.showed.apply(this,arguments);var r=this;e(window).off("resize.az_layers"+r.id);if(this.attrs["responsive"]=="yes"){function i(e,t){var n="";var r=e.attrs[t].match(/font-size[: ]*([\-\d\.]*)(px|%|em) *;/);if(r!=null)n=r[1];return n}function s(t,n){var o=i(t,"style");if(o!=""){o=o*n;e(t.dom_element).css("font-size",o+"px")}for(var u=0;u<t.children.length;u++)s(r.children[u],n)}e(window).on("resize.az_layers"+r.id,function(){var t=e(r.dom_element).width();if(!("o_width"in r.attrs)||r.attrs["o_width"]=="")r.attrs["o_width"]=t;var n=t/r.attrs["o_width"];e(r.dom_element).css("font-size",n*100+"%");e(r.dom_content_element).css("height",r.attrs["height"]*n+"px");s(r,n)});e(window).trigger("resize")}},render:function(e,t,n){this.dom_element=e('<div class="az-element az-layers '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"><div id="'+this.id+'" class="az-ctnr"></div></div>');this.dom_content_element=e(this.dom_element).find(".az-ctnr");e(this.dom_content_element).css("width",this.attrs["width"]);e(this.dom_content_element).css("height",this.attrs["height"]);Qt.baseclass.prototype.render.apply(this,arguments)}});Wt("az_tabs",true,Gt);Z(Gt.prototype,{name:S("Tabs"),icon:"fa fa-folder-o",description:S("Bootstrap content tabs. Every tab can contain any number of any types of elements."),category:S("Layout"),params:[].concat(Gt.prototype.params),is_container:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){Gt.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();e('<button title="'+E("Add tab")+'" class="control add-tab '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_tab)}},update_sortable:function(){if(window.azexo_editor){e(this.dom_element).sortable({axis:"x",items:"> ul > li",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}})}},update_sorting:function(t,n){var r=o.get_element(e(this).attr("data-az-id"));if(r){var i=e(this).sortable("option");var s=[];e(this).find(i.items).each(function(){var t=e(this).find('a[data-toggle="tab"]').attr("href").replace("#","");s.push(o.get_element(t))});r.children=s;for(var u=0;u<r.children.length;u++)r.children[u].parent=r;r.update_dom();e(document).trigger("azexo_update_sorting",n)}},click_add_tab:function(e){e.data.object.add_tab();return false},add_tab:function(){var t=new Yt(this,false);t.update_dom();this.update_dom();e(this.dom_element).find('a[href="#'+t.id+'"]')[r+"tab"]("show")},showed:function(e,t,n){Gt.baseclass.prototype.showed.apply(this,arguments);e(this.dom_element).find("ul."+t+"nav-tabs li:first a")[n+"tab"]("show")},render:function(e,t,n){this.dom_element=e('<div class="az-element az-tabs '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');var r='<ul class="'+t+"nav "+t+'nav-tabs" role="tablist">';for(var i=0;i<this.children.length;i++){r+='<li><a href="#'+this.children[i].id+'" role="tab" data-toggle="tab">'+this.children[i].attrs["title"]+"</a></li>"}r+="</ul>";e(this.dom_element).append(r);var s='<div id="'+this.id+'" class="'+t+'tab-content"></div>';this.dom_content_element=e(s).appendTo(this.dom_element);Gt.baseclass.prototype.render.apply(this,arguments)}});_t("az_tab",true,Yt);Z(Yt.prototype,{name:S("Tab"),params:[St({type:"textfield",heading:S("Tab title"),param_name:"title",value:S("Title")})].concat(Yt.prototype.params),hidden:true,is_container:true,show_parent_controls:true,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this tabs element and for current tab element. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+S(" - add a new tab.")+" "+S("Tabs headers are draggable. You can enter tab title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},show_controls:function(){if(window.azexo_editor){Yt.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".drag-and-drop").remove();e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls)}},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(t){Yt.baseclass.prototype.edited.apply(this,arguments);this.parent.update_dom();e('a[href="#'+this.id+'"]')[r+"tab"]("show")},clone:function(){var t=Yt.baseclass.prototype.get_my_shortcode.apply(this,arguments);e("#azexo-clipboard").html(btoa(encodeURIComponent(t)));this.parent.paste(this.parent.children.length);this.parent.update_dom()},remove:function(){Yt.baseclass.prototype.remove.apply(this,arguments);this.parent.update_dom()},render:function(e,t,n){this.dom_element=e('<div id="'+this.id+'" class="az-element az-ctnr az-tab '+t+"tab-pane "+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=this.dom_element;Yt.baseclass.prototype.render.apply(this,arguments)}});Wt("az_accordion",true,Zt);Z(Zt.prototype,{name:S("Accordion"),icon:"fa fa-bars",description:S("Bootstrap content accordion. Every toggle of this element can contain any number of any types of elements."),category:S("Layout"),params:[St({type:"dropdown",heading:S("Type"),param_name:"type",value:{"panel-default":S("Default"),"panel-primary":S("Primary"),"panel-success":S("Success"),"panel-info":S("Info"),"panel-warning":S("Warning"),"panel-danger":S("Danger")}}),St({type:"checkbox",heading:S("Collapsed?"),param_name:"collapsed",value:{yes:S("Yes, please")}})].concat(Zt.prototype.params),is_container:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){Zt.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();e('<button title="'+E("Add toggle")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_toggle)}},update_sortable:function(){if(window.azexo_editor){e(this.dom_element).sortable({axis:"y",items:"> .az-toggle",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}})}},click_add_toggle:function(e){e.data.object.add_toggle();return false},add_toggle:function(){var e=new en(this,false);e.update_dom();this.update_dom()},update_dom:function(){for(var e=0;e<this.children.length;e++){this.children[e].update_dom()}Zt.baseclass.prototype.update_dom.apply(this,arguments)},showed:function(e,t,n){Zt.baseclass.prototype.showed.apply(this,arguments);e(this.dom_element).find("> .az-toggle > ."+t+"in").removeClass(t+"in");e(this.dom_element).find("> .az-toggle > ."+t+"collapse:not(:first)")[n+"collapse"]({toggle:false,parent:"#"+this.id});e(this.dom_element).find("> .az-toggle > ."+t+"collapse:first")[n+"collapse"]({toggle:this.attrs["collapsed"]!="yes",parent:"#"+this.id})},render:function(e,t,n){this.dom_element=e('<div id="'+this.id+'" class="az-element az-accordion '+t+"panel-group "+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=this.dom_element;Zt.baseclass.prototype.render.apply(this,arguments)}});_t("az_toggle",true,en);Z(en.prototype,{name:S("Toggle"),params:[St({type:"textfield",heading:S("Toggle title"),param_name:"title",value:S("Title")})].concat(en.prototype.params),hidden:true,is_container:true,show_parent_controls:true,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this accordion element and for current toggle. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+S(" - add a new toggle. You can enter toggle title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},get_my_shortcode:function(){return this.get_children_shortcode()},clone:function(){var t=en.baseclass.prototype.get_my_shortcode.apply(this,arguments);e("#azexo-clipboard").html(btoa(encodeURIComponent(t)));this.parent.paste(this.parent.children.length)},render:function(e,t,n){var r=t+"panel-default";if(this.parent.attrs["type"]!="")r=this.parent.attrs["type"];this.dom_element=e('<div class="az-element az-toggle '+t+"panel "+r+" "+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"><div class="'+t+'panel-heading"><h4 class="'+t+'panel-title"><a data-toggle="collapse" data-parent="#'+this.parent.id+'" href="#'+this.id+'">'+this.attrs["title"]+'</a></h4></div><div id="'+this.id+'" class="'+t+"panel-collapse "+t+'collapse"><div class="'+t+'panel-body az-ctnr"></div></div></div>');this.dom_content_element=e(this.dom_element).find("."+t+"panel-body");en.baseclass.prototype.render.apply(this,arguments)}});Wt("az_carousel",true,tn);Z(tn.prototype,{name:S("Carousel"),icon:"fa fa-ellipsis-h",description:S("Content carousel. Every slide of this element can contain any number of any types of elements. It can be used for create classic content slider."),category:S("Layout"),params:[St({type:"integer_slider",heading:S("Number items"),param_name:"items",min:"1",max:"10",value:"1"}),St({type:"checkbox",heading:S("Options"),param_name:"options",value:{navigation:S("Navigation"),auto_play:S("Auto play"),mouse:S("Mouse drag"),touch:S("Touch drag")}}),St({type:"dropdown",heading:S("Transition style"),param_name:"transition",value:{"":S("Default"),fade:S("fade"),backSlide:S("backSlide"),goDown:S("goDown"),fadeUp:S("fadeUp")}})].concat(tn.prototype.params),is_container:true,show_settings_on_create:true,frontend_render:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){tn.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();var t=this;e('<button title="'+E("Add slide")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_slide)}},update_sortable:function(){},click_add_slide:function(e){e.data.object.add_slide();return false},add_slide:function(){var e=new nn(this,true);e.update_dom();this.update_dom()},showed:function(e,t,n){tn.baseclass.prototype.showed.apply(this,arguments);this.add_css("owl.carousel/owl-carousel/owl.carousel.css","owlCarousel"in e.fn,function(){});this.add_css("owl.carousel/owl-carousel/owl.theme.css","owlCarousel"in e.fn,function(){});this.add_css("owl.carousel/owl-carousel/owl.transitions.css","owlCarousel"in e.fn,function(){});var r=this;this.add_js({path:"owl.carousel/owl-carousel/owl.carousel.js",loaded:"owlCarousel"in e.fn,callback:function(){var t=function(t){var n=null;if("userItems"in t)n=t.userItems;else n=t.$userItems;var r=null;if("visibleItems"in t)r=t.visibleItems;else r=t.$visibleItems;for(var i=0;i<n.length;i++){if(_.indexOf(r,i)<0){var s=n[i];var u=e(s).attr("data-az-id");var a=o.get_element(u);if(!_.isUndefined(a)){if("trigger_start_out_animation"in a)a.trigger_start_out_animation()}}}for(var i=0;i<r.length;i++){if(r[i]<n.length){var s=n[r[i]];var u=e(s).attr("data-az-id");var a=o.get_element(u);if(!_.isUndefined(a)){if("trigger_start_in_animation"in a)a.trigger_start_in_animation()}}}};e(r.dom_content_element).owlCarousel({singleItem:r.attrs["items"]=="1",items:r.attrs["items"],navigation:_.indexOf(r.attrs["options"].split(","),"navigation")>=0,autoPlay:_.indexOf(r.attrs["options"].split(","),"auto_play")>=0,mouseDrag:_.indexOf(r.attrs["options"].split(","),"mouse")>=0,touchDrag:_.indexOf(r.attrs["options"].split(","),"touch")>=0,transitionStyle:r.attrs["transition"]==""?false:r.attrs["transition"],stopOnHover:true,afterAction:function(){t(this.owl)},beforeMove:function(){},afterMove:function(){},startDragging:function(){}});t(r.dom_content_element.data("owlCarousel"))}})},render:function(e,t,n){this.dom_element=e('<div id="'+this.id+'" class="az-element az-carousel '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=e("<div></div>").appendTo(this.dom_element);tn.baseclass.prototype.render.apply(this,arguments)}});_t("az_slide",true,nn);Z(nn.prototype,{name:S("Slide"),params:[].concat(nn.prototype.params),hidden:true,frontend_render:true,is_container:true,show_parent_controls:true,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("Settings for this carousel element and for current slide. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+S(" - add a new slide.")+"</div></div>"},show_controls:function(){if(window.azexo_editor){nn.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".clone").remove();e(this.controls).find(".drag-and-drop").remove();e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls)}},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(){nn.baseclass.prototype.edited.apply(this,arguments);this.parent.update_dom()},render:function(e,t,n){var r="panel-default";if(this.parent.attrs["type"]!="")r=this.parent.attrs["type"];this.dom_element=e('<div class="az-element az-slide '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');this.dom_content_element=this.dom_element;nn.baseclass.prototype.render.apply(this,arguments)}});Wt("az_presentation",true,rn);Z(rn.prototype,{name:S("Presentation"),icon:"fa fa-file-powerpoint-o",description:S("Content presentation. Every step of presentation can contain any number of any types of elements."),category:S("Layout"),params:[St({type:"integer_slider",heading:S("Height"),param_name:"height",min:"0",max:"2000",value:"900"}),St({type:"checkbox",heading:S("Options"),param_name:"options",value:{navigation:S("Navigation"),auto_play:S("Auto play"),full_filling:S("Full filling available area")}}),St({type:"integer_slider",heading:S("Transition duration"),param_name:"duration",min:"0",max:"10000",value:"1000"})].concat(rn.prototype.params),is_container:true,highlighted:false,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},init_scroll_variables:function(){this.hover=false;this.scroll_top=0;this.transition_duration="0s";this.transition_delay="0s"},show_controls:function(){if(window.azexo_editor){tn.baseclass.prototype.show_controls.apply(this,arguments);e(this.controls).find(".add").remove();e(this.controls).find(".paste").remove();var t=this;e('<button title="'+E("Add step")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_step);var r={editing:false,$node:false,data:{x:0,y:0,rotate:0,scale:0}};t.config={rotateStep:.1,scaleStep:.01,redrawFunction:false,setTransformationCallback:false};var i={x:0,y:0,rotate:0,scale:1};var s={prevX:false,prevY:false,activeFunction:false};var u={};function a(e,n){var r={x:0,y:0},i=t.config.rotation/180*Math.PI,s=Math.cos(i),o=Math.sin(i);r.x=(e*s-n*o)*t.config.visualScaling;r.y=(e*o+n*s)*t.config.visualScaling;return r}u.move=function(e,t){var n=a(e,t);r.data.x=r.data.x?r.data.x+n.x:n.x;r.data.y=r.data.y?r.data.y+n.y:n.y};u.scale=function(e){r.data.scale-=-e*t.config.scaleStep*t.config.visualScaling/10};u.rotate=function(e){r.data.rotate-=-e*t.config.rotateStep};var f=null;function l(){var t=o.get_element(e(r.$node[0]).closest("[data-az-id]").attr("data-az-id"));t.attrs["x"]=r.data.x.toString();t.attrs["y"]=r.data.y.toString();t.attrs["rotate_z"]=r.data.rotate.toString();t.attrs["scale"]=r.data.scale.toString();e(document).trigger("azexo_update_element",t.id)}function c(){r.data.x=parseFloat(r.$node[0].dataset.x)||i.x;r.data.y=parseFloat(r.$node[0].dataset.y)||i.y;r.data.scale=parseFloat(r.$node[0].dataset.scale)||i.scale;r.data.rotate=parseFloat(r.$node[0].dataset.rotate)||i.rotate;l()}function h(){r.$node[0].dataset.scale=r.data.scale;r.$node[0].dataset.rotate=r.data.rotate;r.$node[0].dataset.x=r.data.x;r.$node[0].dataset.y=r.data.y;t.impress.initStep(r.$node[0]);l();d(r.$node)}function p(e){e.preventDefault();e.stopPropagation();var t=e.pageX-s.prevX,n=e.pageY-s.prevY;s.prevX=e.pageX;s.prevY=e.pageY;if(s.activeFunction){s.activeFunction(t,n);h()}return false}if("step_controls"in t)t.step_controls.remove();t.step_controls=e('<div class="az-step-controls '+n+'btn-group-vertical"></div>').css("display","none");e('<span class="number '+n+"btn "+n+"btn-primary "+n+'glyphicon"></span>').prependTo(t.step_controls).click(function(){var n=parseInt(e(this).attr("data-step"))-1;t.impress.goto(t.children[n].id);return false});e('<button title="'+E("Move this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-move"> </button>').data("func","move").appendTo(t.step_controls);e('<button title="'+E("Scale this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-full" > </button>').data("func","scale").appendTo(t.step_controls);e('<button title="'+E("Rotate this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-refresh" > </button>').data("func","rotate").appendTo(t.step_controls);function d(n){if(e(t.dom_element).parents(".azexo-editor").length>0){var r,i,s=n.offset();r=s.top>0?s.top+100/t.config.visualScaling:0;i=s.left>0?s.left+100/t.config.visualScaling:0;e(t.step_controls).css("display","inline-block").offset({top:r,left:i})}else{e(t.step_controls).hide()}}var f;e(t.step_controls).appendTo(t.dom_element).on("click","button",function(e){return false});e(t.step_controls).appendTo(t.dom_element).on("mousedown","button",function(n){n.preventDefault();s.activeFunction=u[e(this).data("func")];c();s.prevX=n.pageX;s.prevY=n.pageY;e(document).on("mousemove.az_presentation_controls"+t.id,p);return false}).on("mouseenter",function(){clearTimeout(f)});e(document).off("mouseup.az_presentation_controls"+t.id);e(document).on("mouseup.az_presentation_controls"+t.id,function(){s.activeFunction=false;e(document).off("mousemove.az_presentation_controls"+t.id)});e(t.dom_element).on("mouseenter",".step",function(){var n=e(this);f=setTimeout(function(){if(!s.activeFunction){var i=o.get_element(n.closest("[data-az-id]").attr("data-az-id"));var u=i.get_child_position()+1;e(t.step_controls).find("span.number").attr("data-step",u);if(i.attrs["name"]!="")u=i.attrs["name"];e(t.step_controls).find("span.number").html(u);r.$node=n;d(r.$node)}},500);n.data("showTimer",f)}).on("mouseleave",".step",function(){clearTimeout(e(this).data("showTimer"))});e(document).off("scroll.az_presentation"+t.id);e(document).on("scroll.az_presentation"+t.id,function(e){if(t.hover){window.scrollTo(0,t.scroll_top)}e.preventDefault();e.stopPropagation();return false});e(t.dom_element).on("mouseenter",function(n){t.scroll_top=e(document).scrollTop();t.transition_duration=e(t.dom_content_element).css("transition-duration");e(t.dom_content_element).css("transition-duration","0s");t.transition_delay=e(t.dom_content_element).css("transition-delay");e(t.dom_content_element).css("transition-delay","0s");t.hover=true});e(t.dom_element).on("mouseleave",function(n){e(t.dom_content_element).css("transition-duration",t.transition_duration);e(t.dom_content_element).css("transition-delay",t.transition_delay);t.hover=false});var v=false;e(t.dom_element).on("mousedown",function(n){if(n.which==2){v=true;s.prevX=n.pageX;s.prevY=n.pageY;var r=e(t.dom_content_element).find("> div");t.transition_duration=e(r).css("transition-duration");e(r).css("transition-duration","0s");t.transition_delay=e(r).css("transition-delay");e(r).css("transition-delay","0s");return false}});e(document).off("mouseup.az_presentation"+t.id);e(document).on("mouseup.az_presentation"+t.id,function(n){if(v){var r=e(t.dom_content_element).find("> div");e(r).css("transition-duration",t.transition_duration);e(r).css("transition-delay",t.transition_delay);v=false}});e(document).off("mousemove.az_presentation"+t.id);e(document).on("mousemove.az_presentation"+t.id,function(n){if(v){var r=e(t.dom_content_element).find("> div");if(e(r).css("transition-duration")!="0s"||e(r).css("transition-delay")!="0s"){t.transition_duration=e(r).css("transition-duration");e(r).css("transition-duration","0s");t.transition_delay=e(r).css("transition-delay");e(r).css("transition-delay","0s")}n.preventDefault();n.stopPropagation();var i=n.pageX-s.prevX,o=n.pageY-s.prevY;s.prevX=n.pageX;s.prevY=n.pageY;var u=a(i,o);var f=e(t.dom_content_element).find("> div").css("transform");e(t.dom_content_element).find("> div").css("transform",f+" translate("+u.x+"px, "+u.y+"px)");return false}});e(t.dom_element).on("wheel mousewheel",function(n){if(e(t.dom_content_element).css("transition-duration")!="0s"||e(t.dom_content_element).css("transition-delay")!="0s"){t.transition_duration=e(t.dom_content_element).css("transition-duration");e(t.dom_content_element).css("transition-duration","0s");t.transition_delay=e(t.dom_content_element).css("transition-delay");e(t.dom_content_element).css("transition-delay","0s")}var r=.05;var i=n.originalEvent.wheelDelta/120;var s=e(t.dom_content_element).css("transform");var o=1+i*r;t.config.visualScaling=t.config.visualScaling/o;e(t.dom_content_element).css("transform",s+" scale("+o.toString()+")")})}},update_sortable:function(){if(window.azexo_editor){var e=this}},click_add_step:function(e){e.data.object.add_step();return false},add_step:function(){var e=new sn(this,true);e.update_dom();this.update_dom()},attach_children:function(){if("impress"in this&&e(this.dom_content_element).find("> div").length>0){for(var t=0;t<this.children.length;t++){e(this.dom_content_element).find("> div").append(this.children[t].dom_element)}}else{rn.baseclass.prototype.attach_children.apply(this,arguments)}},edited:function(){rn.baseclass.prototype.edited.apply(this,arguments);this.update_dom()},showed:function(e,t,n){rn.baseclass.prototype.showed.apply(this,arguments);var r=this;this.add_js({path:"js/impress.js",loaded:"impress"in window,callback:function(){if(!("impress"in r)){r.impress=window.impress(r.id)}r.impress.init();if(!("config"in r))r.config={};r.impress.setTransformationCallback(function(e){r.config.visualScaling=e.scale;if("z"in e.rotate)r.config.rotation=~~e.rotate.z;else r.config.rotation=~~e.rotate});if(r.children.length>0)r.impress.goto(r.children[0].id);r.dom_element.get(0).addEventListener("impress:stepenter",function(t){var n=e(t.target).attr("data-az-id");var r=o.get_element(n);if(!_.isUndefined(r)){if("trigger_start_out_animation"in r)r.trigger_start_out_animation()}},false);r.dom_element.get(0).addEventListener("impress:stepleave",function(t){var n=e(t.target).attr("data-az-id");var r=o.get_element(n);if(!_.isUndefined(r)){if("trigger_start_in_animation"in r)r.trigger_start_in_animation()}},false);e(r.dom_element).find("> ."+t+"pagination > li > ."+t+"prev").click(function(){r.impress.prev();return false});e(r.dom_element).find("> ."+t+"pagination > li > ."+t+"next").click(function(){r.impress.next();return false});e(r.dom_element).find("> ."+t+"pagination > li > .goto").click(function(){r.impress.goto(e(this).attr("data-step"));return false});if(!window.azexo_editor){e(r.dom_content_element).find(".az-step").each(function(){e(this).on("wheel mousewheel",function(t){if(e(this).hasClass("active")){if(this.offsetHeight==this.scrollHeight){if(t.originalEvent.wheelDelta<0){r.impress.next();return false}else{r.impress.prev();return false}}else{if(this.scrollTop==0&&t.originalEvent.wheelDelta>0){r.impress.prev();return false}if(this.offsetHeight+this.scrollTop>=this.scrollHeight&&t.originalEvent.wheelDelta<0){r.impress.next();return false}}}})})}if("auto_play"in r){clearInterval(r.auto_play)}if(_.indexOf(r.attrs["options"].split(","),"auto_play")>=0){r.auto_play=setInterval(function(){r.impress.next()},5e3)}if(_.indexOf(r.attrs["options"].split(","),"full_filling")>=0){e(r.dom_element).css("height",e(window).height()+"px");e(r.dom_content_element).find(".az-step").each(function(){e(this).css("height",e(r.dom_element).height()+"px");e(this).css("width",e(r.dom_element).width()+"px")})}}})},render:function(e,t,n){delete this["impress"];this.dom_element=e('<div class="az-element az-presentation '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');e(this.dom_element).css("height",this.attrs["height"]+"px");e(this.dom_element).css("overflow","hidden");this.dom_content_element=e('<div id="'+this.id+'"></div>').appendTo(this.dom_element);e(this.dom_content_element).attr("data-transition-duration",this.attrs["duration"]);if(_.indexOf(this.attrs["options"].split(","),"navigation")>=0){var r=e('<ul class="'+t+'pagination"></ul>').appendTo(this.dom_element);e('<li><a href="#" class="'+t+'prev">&laquo;</a></li>').appendTo(r);for(var i=1;i<=this.children.length;i++){if(_.indexOf(this.children[i-1].attrs["options"].split(","),"dummy")<0){var s=i.toString();if(this.children[i-1].attrs["name"]!="")s=this.children[i-1].attrs["name"];e('<li><a href="#" class="goto" data-step="'+this.children[i-1].id+'">'+s+"</a></li>").appendTo(r)}}e('<li><a href="#" class="'+t+'next">&raquo;</a></li>').appendTo(r)}rn.baseclass.prototype.render.apply(this,arguments)}});_t("az_step",true,sn);Z(sn.prototype,{name:S("Step"),params:[St({type:"textfield",heading:S("Name"),param_name:"name"}),St({type:"checkbox",heading:S("Options"),param_name:"options",value:{dummy:S("Dummy")}}),St({type:"integer_slider",heading:S("Width"),param_name:"width",min:"1",max:"100000",value:"900"}),St({type:"integer_slider",heading:S("Height"),param_name:"height",min:"1",max:"100000",value:"700"}),St({type:"integer_slider",heading:S("X coordinate"),param_name:"x",min:"-100000",max:"100000",value:"0"}),St({type:"integer_slider",heading:S("Y coordinate"),param_name:"y",min:"-100000",max:"100000",value:"0"}),St({type:"integer_slider",heading:S("Z coordinate"),param_name:"z",min:"-10000",max:"10000",value:"0"}),St({type:"integer_slider",heading:S("X rotate"),param_name:"rotate_x",min:"-180",max:"180",value:"0"}),St({type:"integer_slider",heading:S("Y rotate"),param_name:"rotate_y",min:"-180",max:"180",value:"0"}),St({type:"integer_slider",heading:S("Z rotate"),param_name:"rotate_z",min:"-180",max:"180",value:"0"}),St({type:"integer_slider",heading:S("Scale"),param_name:"scale",min:"0",max:"1000",value:"1",step:"0.01"})].concat(sn.prototype.params),hidden:true,is_container:true,show_parent_controls:true,disallowed_elements:["az_presentation"],highlighted:false,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S('Settings for this presentation element and for current step. Press on "Space" button to going through steps. ')+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+S(" - add a new step.")+"</div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},show_controls:function(){sn.baseclass.prototype.show_controls.apply(this,arguments);if(window.azexo_editor){e(this.controls).find(".drag-and-drop").remove();e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls)}},update_sortable:function(){if(window.azexo_editor){var t=this;e(this.dom_element).resizable({stop:function(n,r){t.attrs["width"]=e(t.dom_element).width();t.attrs["height"]=e(t.dom_element).height();e(document).trigger("azexo_update_element",t.id);if("impress"in t.parent){t.impress.initStep(t.dom_element.get(0))}}})}},clone:function(){var t=sn.baseclass.prototype.get_my_shortcode.apply(this,arguments);e("#azexo-clipboard").html(btoa(encodeURIComponent(t)));for(var n=0;n<this.parent.children.length;n++){if(this.parent.children[n].id==this.id){this.parent.paste(n);break}}this.parent.update_dom()},edited:function(){sn.baseclass.prototype.edited.apply(this,arguments);var e=this;if("impress"in e.parent){e.parent.impress.initStep(e.dom_element.get(0))}},remove:function(){sn.baseclass.prototype.remove.apply(this,arguments);this.parent.update_dom()},render:function(e,t,n){this.dom_element=e('<div id="'+this.id+'" class="az-element az-step step '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'"></div>');e(this.dom_element).css("width",this.attrs["width"]);e(this.dom_element).css("height",this.attrs["height"]);e(this.dom_element).attr("data-x",this.attrs["x"]);e(this.dom_element).attr("data-y",this.attrs["y"]);e(this.dom_element).attr("data-z",this.attrs["z"]);e(this.dom_element).attr("data-rotate-x",this.attrs["rotate_x"]);e(this.dom_element).attr("data-rotate-y",this.attrs["rotate_y"]);e(this.dom_element).attr("data-rotate",this.attrs["rotate_z"]);e(this.dom_element).attr("data-scale",this.attrs["scale"]);this.dom_content_element=this.dom_element;sn.baseclass.prototype.render.apply(this,arguments)}});Wt("az_container",true,on);Z(on.prototype,{name:S("Container"),icon:"fa fa-archive",description:S("AJAX loaded content from server. Content can be edited and saved to server."),category:S("Layout"),params:[St({type:"container",heading:S("Container"),param_name:"container",description:S("Type and name used as identificator to save container on server."),value:"/"})].concat(on.prototype.params),show_settings_on_create:true,is_container:true,hidden:!window.azexo_online,saveable:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+S("Click to put an element here.")+'</strong></div><div class="top-right '+n+'well"><h1>↗</h1><span class="'+n+"glyphicon "+n+'glyphicon-eye-open"></span>'+S(" - toggle editor helpers.")+' <span class="'+n+"glyphicon "+n+'glyphicon-play-circle"></span>'+S(" - toggle animation engine to not hinder editing.")+' <span class="'+n+"glyphicon "+n+'glyphicon-save"></span>'+S(" - save results of editing on server.")+"</div></div>"},show_controls:function(){if(window.azexo_editor){var t=this;on.baseclass.prototype.show_controls.apply(this,arguments);if(this.parent==null){e('<button title="'+E("Toggle editor")+'" class="control toggle-editor '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-eye-open" > </button>').appendTo(this.controls).click(function(){e(t.dom_element).toggleClass("azexo-editor");return false});e('<button title="'+E("Toggle animations")+'" class="control toggle-animations '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-play-circle" > </button>').appendTo(this.controls).click(function(){e(t.dom_element).toggleClass("azexo-animations-disabled");return false});e(this.controls).removeClass(n+"btn-group-xs");e(this.controls).find(".edit").remove();e(this.controls).find(".copy").remove();e(this.controls).find(".clone").remove();e(this.controls).find(".remove").remove();e(this.controls).find(".js-animation").remove();e(this.controls).find(".drag-and-drop").attr("title","");e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon");e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon-move");e(this.controls).find(".drag-and-drop").removeClass("drag-and-drop")}if(this.saveable){e('<button title="'+E("Save container")+'" class="control save-container '+n+"btn "+n+"btn-success "+n+"glyphicon "+n+'glyphicon-save" > </button>').appendTo(this.controls).click({object:this},this.click_save_container);var t=this;e(".save-builder,.save-return-builder,.return-builder").click({object:this},function(){if(e(this).hasClass("return-builder"))return window.close();var n=t.get_container_html().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<link\b[^>]*>/gi,"");window.opener.$("#builder").val(encodeURIComponent(n));window.opener.$("#az-preview").html(n);if(e(this).hasClass("save-return-builder"))window.close()})}}},get_my_shortcode:function(){return this.get_children_shortcode()},get_hover_styles:function(e){var t="";if(e.attrs["hover_style"]!="")t=e.get_hover_style();for(var n=0;n<e.children.length;n++){t=t+this.get_hover_styles(e.children[n])}return t},get_js:function(e){var t="";for(var n in e.js)t+='<script src="'+n+'"></script>\n';return t},get_css:function(e){var t="";for(var n in e.css)t+='<link rel="stylesheet" type="text/css" href="'+n+'">\n';return t},get_loader:function(){function i(e,t,n){if(n){if(!e.hasOwnProperty(t))return""}return t+": "+e[t].toString()+",\n"}function s(e,t,n){if(n){if(!e.hasOwnProperty(t))return""}return t+": "+JSON.stringify(e[t])+",\n"}function o(t,n){var r="{";for(var o in t){if(n){if(!t.hasOwnProperty(o))continue}if(e.isFunction(t[o])){r+=i(t,o,n)}else{r+=s(t,o,n)}}r+="}";return r}function u(e,t,n){if(n){if(!e.prototype.hasOwnProperty(t))return""}return e.name+".prototype."+t+"="+e.prototype[t].toString()+"\n"}function a(e,t,n){if(n){if(!e.prototype.hasOwnProperty(t))return""}return e.name+".prototype."+t+"="+JSON.stringify(e.prototype[t])+";\n"}function f(t,n){var r="";r+=t.toString()+"\n";if("baseclass"in t){r+=Y.name+"("+t.name+", "+t.baseclass.name+");\n"}for(var i in t.prototype){if(n){if(!t.prototype.hasOwnProperty(i))continue}if(e.isFunction(t.prototype[i])){r+=u(t,i,n)}else{r+=a(t,i,n)}}return r}function l(e){var t=[];for(var n=0;n<e.prototype.params.length;n++){var r={};r.param_name=e.prototype.params[n].param_name;r.value="";if("value"in e.prototype.params[n]&&_.isString(e.prototype.params[n].value))r.value=e.prototype.params[n].value;r.safe=e.prototype.params[n].safe;t.push(r)}return e.name+".prototype.params="+JSON.stringify(t)+";\n"}function E(e,t){var n={};n.base=e.base;if("showed"in e)n.showed=e.showed;n.params=[];for(var r=0;r<e.params.length;r++){if("value"in e.params[r]&&_.isString(e.params[r].value)){var i={};i.param_name=e.params[r].param_name;i.value=e.params[r].value;n.params.push(i)}else{var i={};i.param_name=e.params[r].param_name;i.value="";n.params.push(i)}}if(e.hasOwnProperty("is_container"))n.is_container=e.is_container;if(e.hasOwnProperty("has_content"))n.has_content=e.has_content;if(e.hasOwnProperty("frontend_render")){n.frontend_render=e.frontend_render;if(n.frontend_render){n.render=e.render;if(e.hasOwnProperty("recursive_render"))n.recursive_render=e.recursive_render}}return o(n,t)}function T(t){var n={};n[t.base]=true;for(var r=0;r<t.children.length;r++){var i=T(t.children[r]);e.extend(n,i)}return n}function N(t){var n={};if("an_scenes"in t.attrs&&t.attrs["an_scenes"]!=""){n["an_scenes"]=true}if("an_start"in t.attrs&&t.attrs["an_start"]!=""){n["an_start"]=true}if("an_letters"in t.attrs&&t.attrs["an_letters"]!=""){n["an_letters"]=true}if("an_js_in"in t.attrs&&t.attrs["an_js_in"]!=""){n["an_js"]=true}if("an_js_out"in t.attrs&&t.attrs["an_js_out"]!=""){n["an_js"]=true}for(var r=0;r<t.children.length;r++){e.extend(n,N(t.children[r]))}return n}function L(){var i="(function("+c+") {\n";i+="if('azexo_backend' in window) return;\n";i+="var "+h+" = true;\n";i+="var "+p+" = '"+n+"';var "+d+" = '"+r+"';\n";i+=S.toString()+"\n";i+=x.toString()+"\n";i+=A.toString()+"\n";i+=Y.toString()+"\n";i+=Z.toString()+"\n";i+=tt.toString()+"\n";i+=at.toString()+"\n";i+=c+".fn.closest_descendents = "+e.fn.closest_descendents.toString()+" \n";i+=wt.toString()+"\n";i+=wt.name+".prototype.safe = true;\n";i+=wt.name+".prototype.param_types = {};\n";i+=St.toString()+"\n";i+="window.azexo_add_css="+window.azexo_add_css.toString()+"\n";i+="window.azexo_add_js="+window.azexo_add_js.toString()+"\n";i+="window.azexo_add_js_list="+window.azexo_add_js_list.toString()+"\n";i+="var "+v+" = {};\n";i+="var "+m+" = {};\n";i+="window.azexo_add_external_js="+window.azexo_add_external_js.toString()+"\n";i+=At.toString()+"\n";i+=At.name+".prototype.elements_instances = {};\n";i+=At.name+".prototype.elements_instances_by_an_name = {};\n";i+=u(At,"get_element",true);i+=u(At,"delete_element",true);i+=u(At,"add_element",true);i+=Ot.toString()+"\n";i+=Ot.name+".prototype.p = '"+n+"';\n";i+=Ot.name+".prototype.fp = '"+r+"';\n";i+=Ot.name+".prototype.elements = {};\n";i+=Ot.name+".prototype.tags = {};\n";i+=l(Ot);i+=u(Ot,"get_hover_style",true);i+=u(Ot,"showed",true);i+=u(Ot,"render",true);i+=u(Ot,"recursive_render",true);i+=u(Ot,"replace_render",true);i+=u(Ot,"update_dom",true);i+=u(Ot,"attach_children",true);i+=u(Ot,"detach_children",true);i+=u(Ot,"recursive_showed",true);i+=u(Ot,"parse_attrs",true);i+=u(Ot,"parse_html",true);i+=u(Ot,"add_css",true);i+=u(Ot,"add_js_list",true);i+=u(Ot,"add_js",true);i+=u(Ot,"add_external_js",true);i+=u(Ot,"get_my_container",true);if("an_start"in k){i+=u(Ot,"trigger_start_in_animation",true);i+=u(Ot,"trigger_start_out_animation",true)}i+=_t.toString()+"\n";i+=Dt.toString()+"\n";i+=_t.name+"('az_unknown', true, "+Dt.name+");\n";i+=Dt.name+".prototype.has_content = true;\n";i+="window.azexo_baseurl = '"+window.azexo_baseurl+"';\n";if("azexo_lang"in window)i+="window.azexo_lang = '"+window.azexo_lang+"';\n";if("recaptcha_publickey"in window)i+="window.recaptcha_publickey = '"+window.recaptcha_publickey+"';\n";i+="window.azexo_online = (window.location.protocol == 'http:' || window.location.protocol == 'https:');\n";i+="var "+g+" = new "+At.name+"();\n";i+="var "+y+" = null;\n";i+="window.azexo_editor = false;\n";i+="var "+b+" = [];\n";i+="var "+w+" = {};\n";i+=Ft.toString()+"\n";i+=zt.toString()+"\n";i+=Y.name+"("+zt.name+", "+Ot.name+");\n";i+=l(zt);if("an_start"in k){i+=u(zt,"set_in_timeout",true);i+=u(zt,"start_in_animation",true);i+=u(zt,"set_out_timeout",true);i+=u(zt,"start_out_animation",true);i+=u(zt,"clear_animation",true);i+=u(zt,"end_animation",true);i+=u(zt,"trigger_start_in_animation",true);i+=u(zt,"trigger_start_out_animation",true);i+=u(zt,"animation",true)}if("an_scenes"in k||"an_js"in k){i+=u(zt,"make_timeline",true)}if("an_scenes"in k){i+=u(zt,"update_scroll_animation",true)}if("an_letters"in k){i+=u(zt,"animation_letters",true)}if("an_start"in k||"an_scenes"in k)i+=u(zt,"showed",true);i+=u(zt,"render",true);i+=Wt.toString()+"\n";i+=fn.toString()+"\n";i+=Y.name+"("+fn.name+", "+zt.name+");\n";i+=fn.name+".prototype.form_elements = {};\n";i+=ln.toString()+"\n";if(Xt.prototype.base in C){i+=Xt.toString()+"\n";i+=Wt.name+"('"+Xt.prototype.base+"', true, "+Xt.name+");\n";i+=l(Xt);i+=u(Xt,"showed",true)}if(Vt.prototype.base in C){i+=Vt.toString()+"\n";i+=Wt.name+"('"+Vt.prototype.base+"', true, "+Vt.name+");\n";i+=l(Vt);i+=Vt.name+".prototype.set_columns = function(columns){};\n";i+=$t.toString()+"\n";i+=_t.name+"('"+$t.prototype.base+"', true, "+$t.name+");\n";i+=l($t);i+=u($t,"showed",true)}if(Jt.prototype.base in C){i+=Jt.toString()+"\n";i+=Wt.name+"('"+Jt.prototype.base+"', true, "+Jt.name+");\n";i+=l(Jt);i+=Jt.name+".prototype.attach_events = function(){};\n";i+=u(Jt,"showed",true);i+=u(Jt,"render",true);i+=Kt.toString()+"\n";i+=_t.name+"('"+Kt.prototype.base+"', true, "+Kt.name+");\n";i+=l(Kt);i+=u(Kt,"showed",true);i+=u(Kt,"render",true)}if(Qt.prototype.base in C){i+=Qt.toString()+"\n";i+=Wt.name+"('"+Qt.prototype.base+"', true, "+Qt.name+");\n";i+=l(Qt);i+=u(Qt,"showed",true)}if(Gt.prototype.base in C){i+=Gt.toString()+"\n";i+=Wt.name+"('"+Gt.prototype.base+"', true, "+Gt.name+");\n";i+=l(Gt);i+=u(Gt,"showed",true);i+=u(Gt,"render",true);i+=Yt.toString()+"\n";i+=_t.name+"('"+Yt.prototype.base+"', true, "+Yt.name+");\n";i+=l(Yt);i+=u(Yt,"render",true)}if(Zt.prototype.base in C){i+=Zt.toString()+"\n";i+=Wt.name+"('"+Zt.prototype.base+"', true, "+Zt.name+");\n";i+=l(Zt);i+=u(Zt,"showed",true);i+=u(Zt,"render",true);i+=en.toString()+"\n";i+=_t.name+"('"+en.prototype.base+"', true, "+en.name+");\n";i+=l(en);i+=u(en,"render",true);i+=u(en,"showed",true)}if(tn.prototype.base in C){i+=tn.toString()+"\n";i+=Wt.name+"('"+tn.prototype.base+"', true, "+tn.name+");\n";i+=l(tn);i+=tn.name+".prototype.frontend_render = true;\n";i+=u(tn,"showed",true);i+=u(tn,"render",true);i+=nn.toString()+"\n";i+=_t.name+"('"+nn.prototype.base+"', true, "+nn.name+");\n";i+=l(nn);i+=nn.name+".prototype.frontend_render = true;\n";i+=u(nn,"showed",true);i+=u(nn,"render",true)}if(rn.prototype.base in C){i+=rn.toString()+"\n";i+=Wt.name+"('"+rn.prototype.base+"', true, "+rn.name+");\n";i+=l(rn);i+=rn.name+".prototype.frontend_render = true;\n";i+=u(rn,"showed",true);i+=u(rn,"render",true);i+=sn.toString()+"\n";i+=_t.name+"('"+sn.prototype.base+"', true, "+sn.name+");\n";i+=l(sn)}if(on.prototype.base in C){i+=on.toString()+"\n";i+=Wt.name+"('"+on.prototype.base+"', true, "+on.name+");\n";i+=l(on);i+=u(on,"showed",true);i+=u(on,"load_container",true);i+=u(on,"update_dom",true);i+=u(on,"render",true);i+=u(on,"recursive_render",true)}if(un.prototype.base in C){i+=un.toString()+"\n";i+=_t.name+"('"+un.prototype.base+"', false, "+un.name+");\n";i+=l(un);i+=u(un,"showed",true)}if(an.prototype.base in C){i+=q.toString()+"\n";i+=an.toString()+"\n";i+=Wt.name+"('"+an.prototype.base+"', true, "+an.name+");\n";i+=l(an);i+=u(an,"showed",true);i+=I.toString()+"\n"}if("azexo_elements"in window){i+="window.azexo_elements = [];\n";for(var s=0;s<window.azexo_elements.length;s++){if(window.azexo_elements[s].base in C)i+="window.azexo_elements.push("+E(window.azexo_elements[s],true)+");\n"}}if("azexo_form_elements"in window){i+="window.azexo_form_elements = [];\n";for(var s=0;s<window.azexo_form_elements.length;s++){if(window.azexo_form_elements[s].base in C)i+="window.azexo_form_elements.push("+E(window.azexo_form_elements[s],true)+");\n"}}if("azexo_extend"in window){i+="window.azexo_extend = [];\n";for(var s=0;s<window.azexo_extend.length;s++){i+="window.azexo_extend.push("+o(window.azexo_extend[s],true)+");\n"}}i+=cn.toString()+"\n";i+=cn.name+"();\n";i+=hn.toString()+"\n";i+=hn.name+"();\n";i+=pn.toString()+"\n";i+=pn.name+"();\n";if(window.azexo_online){hashCode=function(e){return e.split("").reduce(function(e,t){e=(e<<5)-e+t.charCodeAt(0);return e&e},0)};i+=c+"(document).ready(function(){"+Ft.name+"("+c+"('[data-az-hash=\""+hashCode(i)+"\"]'));});\n"}else{var a=t.attrs["container"].split("/")[0];var f=t.attrs["container"].split("/")[1];i+=c+"(document).ready(function(){"+Ft.name+"("+c+"('[data-az-type=\""+a+'"][data-az-name="'+f+"\"]'));});\n"}i+="})(window.jQuery);\n";return i}function O(e){if(e.constructor.prototype.hasOwnProperty("showed")){var t=false;if("is_cms_element"in e||"is_template_element"in e)t=true;switch(e.base){case"az_container":if(e.parent==null)t=true;break;case"az_image":if(e.attrs["img_link_large"]!="yes"&&e.attrs["adipoli_start"]=="none"&&e.attrs["adipoli_hover"]=="none"&&e.attrs["splits"]!="yes")t=true;break;case"az_section":if(e.attrs["effect"]=="")t=true;break;default:break}if(!t)return true}for(var n=0;n<e.children.length;n++){if(O(e.children[n])){return true}}return false}var t=this;var C=T(t);var k=N(t);var M="";if(O(t)||"an_start"in k||"an_scenes"in k){M='<script type="text/javascript">\n//<![CDATA[\n'+L()+"//]]>\n</script>\n"}return M},get_html:function(){this.recursive_update_data();this.recursive_clear_animation();var t=e("<div>"+e(this.dom_content_element).html()+"</div>");e(t).find(".az-element > .controls").remove();e(t).find("> .controls").remove();e(t).find(".az-step-controls").remove();e(t).find(".az-empty").remove();e(t).find(".ui-resizable-e").remove();e(t).find(".ui-resizable-s").remove();e(t).find(".ui-resizable-se").remove();e(t).find(".ui-draggable").removeClass("ui-draggable");e(t).find(".ui-resizable").removeClass("ui-resizable");e(t).find(".ui-sortable").removeClass("ui-sortable");e(t).find(".az-element.az-container > .az-ctnr").empty();e(t).find(".az-element.az-cms-element").empty();return e(t).html()},get_container_html:function(){return this.get_css(this)+this.get_hover_styles(this)+this.get_js(this)+this.get_loader()+this.get_html()},click_save_container:function(e){e.data.object.save_container();return false},save_container:function(){var e=this;if("html_content"in this||true){azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var t=e.get_container_html();L(e.attrs["container"].split("/")[0],e.attrs["container"].split("/")[1],t)}})}else{if(this.attrs["container"]!=""){var t=this.get_children_shortcode();L(this.attrs["container"].split("/")[0],this.attrs["container"].split("/")[1],t)}}},load_container:function(){var n=this;if(this.attrs["container"]!=""){A(this.attrs["container"].split("/")[0],this.attrs["container"].split("/")[1],function(r){var i=/^\s*\<[\s\S]*\>\s*$/.exec(r);if(i){n.loaded_container=n.attrs["container"];e(r).appendTo(n.dom_content_element);e(n.dom_content_element).find("> script").detach().appendTo("head");e(n.dom_content_element).find("> link[href]").detach().appendTo("head");e(n.dom_element).css("display","");e(n.dom_element).addClass("azexo");n.parse_html(n.dom_content_element);e(n.dom_element).attr("data-az-id",n.id);n.html_content=true;for(var s=0;s<n.children.length;s++){n.children[s].recursive_render()}n.dom_content_element.empty();if(window.azexo_editor){n.show_controls();n.update_sortable()}n.attach_children();for(var s=0;s<n.children.length;s++){n.children[s].recursive_showed()}e(document).trigger("scroll")}else{if(!t){n.loaded_container=n.attrs["container"];n.parse_shortcode(r);e(n.dom_element).attr("data-az-id",n.id);if(window.azexo_editor){n.show_controls();n.update_sortable()}for(var s=0;s<n.children.length;s++){n.children[s].recursive_render()}n.attach_children();if(n.parent!=null){n.parent.update_dom()}for(var s=0;s<n.children.length;s++){n.children[s].recursive_showed()}e(document).trigger("scroll")}}o.try_render_unknown_elements()})}},clone:function(){on.baseclass.prototype.clone.apply(this,arguments);this.rendered=true},recursive_render:function(){if(t){this.render(e,n,r);this.children=[]}else{on.baseclass.prototype.recursive_render.apply(this,arguments)}if(window.azexo_editor){this.show_controls();this.update_sortable()}},update_dom:function(){if(this.loaded_container!=this.attrs["container"]){this.children=[];e(this.dom_content_element).empty();this.rendered=false;if(this.parent!=null){on.baseclass.prototype.update_dom.apply(this,arguments)}}},showed:function(e,t,n){on.baseclass.prototype.showed.apply(this,arguments);var r=this;this.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(r.dom_element).waypoint(function(e){if(!r.rendered){r.rendered=true;r.load_container()}},{offset:"100%",triggerOnce:true});e(document).trigger("scroll")}})},render:function(e,t,n){this.dom_element=e('<div class="az-element az-container"><div class="az-ctnr"></div></div>');this.dom_content_element=e(this.dom_element).find(".az-ctnr");on.baseclass.prototype.render.apply(this,arguments)}});Xt.prototype.params.push(St({type:"textfield",heading:S("Menu item title"),param_name:"menu_item_title",description:S("Title which will be used in scroll menu."),tab:S("Menu")}));Z(un.prototype,{name:S("Scroll Menu"),icon:"fa fa-sitemap",description:S("One page scroll menu"),params:[St({type:"image",heading:S("Logo"),param_name:"logo",description:S("Select image from media library.")}),St({type:"link",heading:S("Logo link"),param_name:"logo_link"})].concat(un.prototype.params),showed:function(e,t,n){this.navbar_height=e(this.dom_element).find("."+t+"navbar").height();un.baseclass.prototype.showed.apply(this,arguments);var r=this;this.add_js({path:"scrollTo/jquery.scrollTo.min.js",loaded:"scrollTo"in e.fn,callback:function(){e("#"+r.id+" ul li a").unbind("click");e("#"+r.id+" ul li a").bind("click",function(t){t.preventDefault();t.stopPropagation();e.scrollTo(this.hash,1e3);return false})}});if(r.dom_element!=null){e("body")[n+"scrollspy"]({target:"#"+r.id+".navbar-collapse",offset:r.navbar_height});e(r.dom_element).find("."+t+"navbar")[n+"affix"]({offset:{top:e(r.dom_element).find("."+t+"navbar").offset().top,bottom:0}}).on("affix."+n+"bs.affix resize",function(){e(r.dom_element).height(e(r.dom_element).find("."+t+"navbar").height());e("body")[n+"scrollspy"]({target:"#"+r.id+".navbar-collapse",offset:r.navbar_height})})}},render:function(e,t,n){function i(t,n,r){if(e.isNumeric(n))n=n+"px";if(e.isNumeric(r))r=r+"px";var i=e('<img src="'+t+'" alt="">');if(n.length>0)e(i).attr("width",n);if(r.length>0)e(i).attr("height",r);return i}this.dom_element=e('<div class="az-element az-scroll-menu"><nav  class="'+t+"navbar "+t+"navbar-default "+this.attrs["el_class"]+'" role="navigation" style="'+this.attrs["style"]+'"><div class="'+t+'container-fluid"></div></nav></div>');var r=e('<div class="'+t+'navbar-header"><button type="button" class="'+t+'navbar-toggle" data-toggle="collapse" data-target="#'+this.id+'"><span class="'+t+'sr-only">'+S("Toggle navigation")+'</span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span></button><a class="'+t+'navbar-brand" href="'+this.attrs["logo_link"]+'"></a></div>');var s=i(this.attrs["logo"],"100%","");e(r).find("a."+t+"navbar-brand").append(s);var o=e('<div class="'+t+"collapse "+t+'navbar-collapse" id="'+this.id+'"></div>');var u='<ul class="'+t+"nav "+t+'navbar-nav">';for(var a in this.menu_items){u+='<li><a href="#'+a+'">'+this.menu_items[a]+"</a></li>"}u+="</ul>";e(o).append(u);e(this.dom_element).find("."+t+"container-fluid").append(r).append(o);un.baseclass.prototype.render.apply(this,arguments)}});Wt("az_form",true,an);Z(an.prototype,{name:S("Form"),icon:"fa fa-envelope-o",description:S("Form container. Can contain form elements for user input and any number of any other elements types."),category:S("Layout"),params:[St({type:"textfield",heading:S("Name"),param_name:"name",description:S("Required."),required:true}),St({type:"textfield",heading:S("Submit button title"),param_name:"submit_title",value:S("Submit")}),St({type:"textfield",heading:S("Submited message"),param_name:"submited_message",value:S("Submited")}),St({type:"textfield",heading:S("Action URL"),param_name:"action",description:S("URL of server script which will receive submitted form data.")})].concat(an.prototype.params),is_container:true,hidden:!window.azexo_online,show_settings_on_create:true,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><p>'+this.name+'</p><p class="'+n+"text-muted "+n+'small">'+this.description+"</p></div>"},get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+S("You can add form element by mouse over this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span> '+S("You can see all submissions by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-list-alt"></span></div></div>'},show_controls:function(){if(window.azexo_editor){an.baseclass.prototype.show_controls.apply(this,arguments);var t=this;if(this.attrs["action"]==""){e('<button title="'+E("Show submissions")+'" class="control show-submissions '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-list-alt" > </button>').appendTo(this.controls).click({object:this},this.click_show_submissions)}var i='<div class="form-fields '+n+"btn-group "+n+'btn-group-sm">';for(var s in fn.prototype.form_elements){var o=fn.prototype.form_elements[s].prototype;i+='<button title="'+E("Add")+" "+o.name+'" class="control '+n+"btn "+n+"btn-default "+o.icon+'" data-az-element="'+s+'"></button>'}i+="</div>";var u=e('<button title="'+E("Add form field")+'" class="control set-columns '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign"> </button>').appendTo(this.controls)[r+"popover"]({animation:false,placement:n+"right",html:"true",trigger:"manual",content:i}).hover(function(){e(this)[r+"popover"]("show");e(t.controls).find("."+n+"popover .control").each(function(){e(this).click(function(){var n=e(this).attr("data-az-element");var r=Ot.prototype.elements[n];var i=new r(t,false);i.update_dom();t.update_dom();t.update_empty();if(i.show_settings_on_create)i.edit();return false})});e(t.dom_element).mouseleave(function(){e(u)[r+"popover"]("hide");e(u).css("display","")})})}},update_sortable:function(){if(window.azexo_editor){e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-form .az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:true,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class"));t.placeholder.removeClass("ui-sortable-helper");t.placeholder.addClass("az-sortable-placeholder")}})}},click_show_submissions:function(e){e.data.object.show_submissions();return false},show_submissions:function(){var t=this;var i=t.get_my_container();R(i.attrs["container"].split("/")[0],i.attrs["container"].split("/")[1],t.attrs["name"],function(i){e("#az-form-modal").remove();var s='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+t.attrs["name"]+" "+S(" submissions")+"</h4></div>";var o='<div class="'+n+'modal-footer"></div>';var u=e('<div id="az-form-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+s+'<div class="'+n+'modal-body"></div>'+o+"</div></div></div>").prependTo("body");var a={};for(var f in i){var l=e.parseJSON(i[f]);for(var c in l){if(!(c in a))a[c]=true}}var h=[];for(var f in i){var l=e.parseJSON(i[f]);var p={};for(var c in a){if(c in l){p[c]=l[c]}else{p[c]=""}}h.push(p)}var d=e("<table></table>");var v=e("<thead><tr></tr></thead>").appendTo(d);for(var m in a){e(v).find("tr").append("<th>"+m+"</th>")}var g=e("<tbody></tbody>").appendTo(d);for(var y=0;y<h.length;y++){var p=e("<tr></tr>").appendTo(g);for(var m in a){e("<td>"+h[y][m]+"</td>").appendTo(p)}}azexo_add_css("DataTables/media/css/jquery.dataTables.min.css",function(){});azexo_add_js({path:"DataTables/media/js/jquery.dataTables.min.js",callback:function(){e(d).dataTable()}});e(u).find("."+n+"modal-body").append(d);e("#az-form-modal")[r+"modal"]("show")})},showed:function(e,t,n){an.baseclass.prototype.showed.apply(this,arguments);var r=this;if(this.attrs["action"]==""){this.add_external_js("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){if("recaptcha_publickey"in window){Recaptcha.create(window.recaptcha_publickey,"captcha_"+r.id,{theme:"clean"})}else{I(function(e){Recaptcha.create(e,"captcha_"+r.id,{theme:"clean"})})}});e(r.dom_element).submit(function(){var t=r.get_my_container();q(t.attrs["container"].split("/")[0],t.attrs["container"].split("/")[1],r.attrs["name"],e(r.dom_element).serialize(),function(e){if(e){r.dom_element.prepend(bt(r.attrs["submited_message"]))}});return false})}},render:function(e,t,n){var r=this;this.dom_element=e('<form action="'+this.attrs["action"]+'" method="post" class="az-element az-form '+this.attrs["el_class"]+'" style="'+this.attrs["style"]+'" role="form" enctype="multipart/form-data"></form>');this.dom_content_element=e('<div class="az-ctnr"></div>').appendTo(this.dom_element);e('<div class="'+t+'form-group"><div id="captcha_'+this.id+'"></div></div>').appendTo(this.dom_element);e('<div class="'+t+'form-group"><button class="'+t+"btn "+t+"btn-lg "+t+'btn-primary" type="submit">'+this.attrs["submit_title"]+"</button></div>").appendTo(this.dom_element);an.baseclass.prototype.render.apply(this,arguments)}});Y(fn,zt);Z(fn.prototype,{form_elements:{},show_parent_controls:true,params:[St({type:"textfield",heading:S("Name"),param_name:"name",description:S("Required."),required:true}),St({type:"checkbox",heading:S("Field is required?"),param_name:"required",value:{yes:S("Yes, please")}}),St({type:"textfield",heading:S("Title"),param_name:"title"})].concat(fn.prototype.params)});cn();hn();pn();dn();vn();var mn="";var gn="";var yn="";var bn={};var wn={};var En={host:"",username:"",password:"",directory:"."}})(window.jQuery,false,"","",{},{},{},null,[],{})