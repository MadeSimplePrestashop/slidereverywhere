!function(e,t,n,a,i,o,s,r,l,d){function c(e){return"azexo_title"in window&&e in window.azexo_title?window.azexo_title[e]:p(e)}function p(e){return"azexo_t"in window?window.azexo_t(e):e}function m(){return"azexo_lang"in window?window.azexo_lang:"en"}function h(t){return"azexo_editor"in window?void t(window.azexo_editor):void(window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_login",url:window.location.href,password:B("azexo_password")},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"login",password:B("azexo_password")},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):t(!1))}function u(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_types",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_types"},dataType:"json",cache:!1,context:this}).done(function(e){t(e)})}function f(t,n){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_container_names",container_type:t,url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_container_names",container_type:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)})}function g(t,n,a){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_container",type:t,name:n,shortcode:a},dataType:"json",cache:!1,context:this}).done(function(e){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"container_save",type:t,name:n,shortcode:a},dataType:"json",cache:!1,context:this}).done(function(e){})}function v(t,n,a){if(d.hasOwnProperty(t+"/"+n))return void a(d[t+"/"+n])
if(window.azexo_online)if("ajaxurl"in window)e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_container",type:t,name:n},cache:!window.azexo_editor}).done(function(e){d[t+"/"+n]=e,a(e)}).fail(function(){a("")})
else{t=""===t?"default":t
var i=window.azexo_baseurl+"../azexo_containers/"+t+"/"+n
e.ajax({url:i,cache:!window.azexo_editor}).done(function(e){d[t+"/"+n]=e,a(e)}).fail(function(){a("")})}else t=""===t?"default":t,azexo_add_js({path:"../azexo_containers/"+t+"/"+n+".js",callback:function(){var e=window["azexo_container_"+t+"_"+n]
a(decodeURIComponent(atob(e)))}})}function y(t){return"azexo_cms_element_names"in window?void t(window.azexo_cms_element_names):void(window.azexo_online&&"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_names",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}).fail(function(){t(!1)}):t(!1))}function b(t,n,a,i){"ajaxurl"in window&&e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_cms_element",name:t,settings:n,container:a},cache:!window.azexo_editor}).done(function(e){i(e)})}function w(t,n){"ajaxurl"in window&&e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_cms_element_settings",name:t,url:window.location.href},cache:!window.azexo_editor}).done(function(e){n(e)})}function x(t){if("azexo_template_elements"in window){for(var n in window.azexo_template_elements)window.azexo_template_elements[n]=decodeURIComponent(atob(window.azexo_template_elements[n]))
return void t(window.azexo_template_elements)}window.azexo_online?e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_elements"},dataType:"json",cache:!window.azexo_editor,context:this}).done(function(e){t(e)}):azexo_add_js({path:"../azexo_elements/elements.js",callback:function(){for(var e in azexo_template_elements)azexo_template_elements[e]=decodeURIComponent(atob(azexo_template_elements[e]))
t(azexo_template_elements)}})}function z(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_templates",url:window.location.href},dataType:"json",cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_templates"},dataType:"json",cache:!1,context:this}).done(function(e){t(e)})}function k(t,n){if("ajaxurl"in window)e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_template",url:window.location.href,name:t},cache:!1}).done(function(e){n(e)}).fail(function(){n("")})
else{var a=window.azexo_baseurl+"../azexo_templates/"+t
e.ajax({url:a,cache:!1}).done(function(e){n(e)}).fail(function(){n("")})}}function j(t,n){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_save_template",url:window.location.href,name:t,template:n},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"save_template",name:t,template:n},cache:!1,context:this}).done(function(){})}function T(t){"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_delete_template",url:window.location.href,name:t},cache:!1,context:this}).done(function(){}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"delete_template",name:t},cache:!1,context:this}).done(function(){})}function S(t){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_recaptcha_publickey"},cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_recaptcha_publickey"},cache:!1,context:this}).done(function(e){t(e)}):t("")}function O(t,n,a,i,o){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_form",container_type:t,container_name:n,name:a,values:i},dataType:"json",cache:!1,context:this}).done(function(e){o(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_form",name:a,values:i},dataType:"json",cache:!1,context:this}).done(function(e){o(e)}):o("")}function I(t,n,a,i){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_load_submissions",container_type:t,container_name:n,name:a},dataType:"json",cache:!1,context:this}).done(function(e){i(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"load_submissions",name:a},dataType:"json",cache:!1,context:this}).done(function(e){i(e)}):i("")}function C(t){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_get_settings_form",url:window.location.href},cache:!1,context:this}).done(function(e){t(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"get_settings_form"},cache:!1,context:this}).done(function(e){t(e)}):t("")}function P(t,n){window.azexo_online?"ajaxurl"in window?e.ajax({type:"POST",url:window.ajaxurl,data:{action:"azexo_submit_settings_form",url:window.location.href,values:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):e.ajax({type:"POST",url:window.azexo_baseurl+"ajax.php",data:{action:"submit_settings_form",values:t},dataType:"json",cache:!1,context:this}).done(function(e){n(e)}):n("")}function D(e,t){var n=function(){}
n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.baseclass=t}function R(e,t){var n={}
for(var a in t)(void 0===n[a]||n[a]!=t[a])&&(e[a]=t[a])
if(document.all&&!document.isOpera){var i=t.toString
"function"==typeof i&&i!=e.toString&&i!=n.toString&&"\nfunction toString() {\n    [native code]\n}\n"!=i&&(e.toString=t.toString)}return e}function A(e,t,n,a){return 0>n&&(n+=e.length),a=void 0!==a?a:e.length,0>a&&(a=a+e.length-n),e.slice(0,n)+t.substr(0,a)+t.slice(a)+e.slice(n+a)}function L(e,t){var a=n+"col-"+t+"-",i=e?e.split("/"):[1,1],o=_.range(1,13),s=!_.isUndefined(i[0])&&_.indexOf(o,parseInt(i[0],10))>=0?parseInt(i[0],10):!1,r=!_.isUndefined(i[1])&&_.indexOf(o,parseInt(i[1],10))>=0?parseInt(i[1],10):!1
return s!==!1&&r!==!1?a+12*s/r:a+"12"}function U(e){return _.isString(e)?e.replace(/(\`{2})/g,'"'):e}function E(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}))}function M(e,t,n){var a=new Date
a.setDate(a.getDate()+n)
var i=encodeURIComponent(t)+(null===n?"":"; expires="+a.toUTCString())
document.cookie=e+"="+i}function B(e){var t,n,a,i=document.cookie.split(";")
for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),a=i[t].substr(i[t].indexOf("=")+1),n=n.replace(/^\s+|\s+$/g,""),n==e)return decodeURIComponent(a)}function N(t,n){var a="<select>"
for(var i in t)a=a+'<option value="'+i+'">"'+t[i]+'"</option>'
a+="</select>",e(n).css("display","none")
var o=e(a).insertAfter(n)
if(e(n).val().length){e(o).append('<option value=""></option>')
var s=e(n).val()
e(o).find('option[value="'+s+'"]').length||e(o).append('<option value="'+s+'">"'+s+'"</option>'),e(o).find('option[value="'+s+'"]').attr("selected","selected")}else e(o).append('<option value="" selected></option>')
return e(o).chosen({search_contains:!0,allow_single_deselect:!0}),e(o).change(function(){e(this).find("option:selected").each(function(){e(n).val(e(this).val())})}),e(o).parent().find(".chosen-container").width("100%"),e('<div><a class="direct-input" href="#">'+p("Direct input")+"</a></div>").insertBefore(o).click(function(){e(n).css("display","block"),e(o).parent().find(".chosen-container").remove(),e(o).remove(),e(this).remove()}),o}function q(t,n,a){var i='<select multiple="multiple">',o=""
for(var s in t)s.indexOf("optgroup")>=0?(""==o&&(i+="</optgroup>"),i=i+'<optgroup label="'+t[s]+'">',o=t[s]):i=i+'<option value="'+s+'">"'+t[s]+'"</option>'
""!=o&&(i+="</optgroup>"),i+="</select>",e(n).css("display","none")
var r=e(i).insertAfter(n)
if(e(n).val().length)for(var l=e(n).val().split(a),d=0;d<l.length;d++)e(r).find('option[value="'+l[d]+'"]').length||e(r).append('<option value="'+l[d]+'">"'+l[d]+'"</option>'),e(r).find('option[value="'+l[d]+'"]').attr("selected","selected")
return e(r).chosen({search_contains:!0}),e(r).change(function(){var t=[]
e(this).find("option:selected").each(function(){t.push(e(this).val())}),e(n).val(t.join(a))}),e(r).parent().find(".chosen-container").width("100%"),e('<div><a class="direct-input" href="#">'+p("Direct input")+"</a></div>").insertBefore(r).click(function(){e(n).css("display","block"),e(r).parent().find(".chosen-container").remove(),e(r).remove(),e(this).remove()}),r}function Y(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t)
return n&&11==n[7].length?n[7]:!1}function $(e,t,a){var i='<select name="'+t+'" class="'+n+'form-control">'
i+='<option value="">'+p("Please select")+"</option>"
for(var o in e)i+=o==a?'<option value="'+o+'" selected>'+e[o]+"</option>":'<option value="'+o+'">'+e[o]+"</option>"
return i+="/<select>"}function F(e){return'<div class="'+n+"alert "+n+"alert-warning "+n+"fade "+n+'in" role="alert"><button type="button" class="'+n+'close" data-dismiss="alert"><span aria-hidden="true">×</span><span class="'+n+'sr-only">'+p("Close")+"</span></button>"+e+"</div>"}function H(){this.dom_element=null,this.heading="",this.description="",this.param_name="",this.required=!1,this.admin_label="",this.holder="",this.wrapper_class="",this.value=null,this.can_be_empty=!1,this.hidden=!1,this.tab="",this.dependency={},"create"in this&&this.create()}function J(e,t){D(t,H),t.prototype.type=e,H.prototype.param_types[e]=t}function W(e){if(e.type in H.prototype.param_types){var t=new H.prototype.param_types[e.type]
return R(t,e),t}var t=new H
return R(t,e),t}function X(){X.baseclass.apply(this,arguments)}function V(e){var t=document.createElement("div")
return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function Q(){Q.baseclass.apply(this,arguments)}function G(){}function K(e,n){this.id=t?_.uniqueId("f"):_.uniqueId(),null!=e&&(this.parent=e,n?e.children.push(this):e.children.unshift(this)),this.children=[],this.dom_element=null,this.dom_content_element=null,this.attrs={}
for(var a=0;a<this.params.length;a++)_.isString(this.params[a].value)?this.attrs[this.params[a].param_name]=this.params[a].value:this.params[a].hidden||(this.attrs[this.params[a].param_name]="")
this.controls=null,s.add_element(this.id,this,n)}function Z(e,t,n){if(D(n,K),n.prototype.base=e,n.prototype.is_container=t,K.prototype.elements[e]=n,K.prototype.tags[e]=n,t)for(var a=1;a<K.prototype.max_nested_depth;a++)K.prototype.tags[e+"_"+a]=n}function et(){et.baseclass.apply(this,arguments)}function tt(){if(window.azexo_editor){azexo_add_css("css/font-awesome.css",function(){}),0==e("#azexo-clipboard").length&&e("body").prepend('<div id="azexo-clipboard" style="display:none"></div>'),azexo_add_js({path:"chosen/chosen.jquery.min.js"}),azexo_add_css("chosen/chosen.min.css",function(){})
for(var t in s.elements_instances){var n=s.elements_instances[t]
n instanceof wt&&e(n.dom_element).addClass("azexo-editor"),null==n.controls&&n.show_controls(),n.update_sortable()}}else for(var t in s.elements_instances){var n=s.elements_instances[t]
n instanceof wt&&e(n.dom_element).removeClass("azexo-editor"),null!=n.controls&&e(n.controls).remove(),n.update_empty()}}function nt(){"ajaxurl"in window||(!window.azexo_editor||window.azexo_online)&&delete window.azexo_editor,h(function(e){window.azexo_editor=e,tt()})}function at(t){e.holdReady(!0),"complete"===document.readyState?setTimeout(t):document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t))}function it(i){var o=e(i).html(),s=/^\s*\<[\s\S]*\>\s*$/.exec(o)
if(s||""==o){e(i).find("> script").detach().appendTo("head"),e(i).find("> link[href]").detach().appendTo("head")
var r=new wt(null,!1)
r.attrs.container=e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name"),r.dom_element=e(i),e(r.dom_element).attr("data-az-id",r.id),r.dom_content_element=e(i),e(r.dom_element).css("display",""),e(r.dom_element).addClass("azexo"),r.parse_html(r.dom_content_element),r.html_content=!0,r.loaded_container=r.attrs.container
for(var l=0;l<r.children.length;l++)r.children[l].recursive_render()
t||(r.dom_content_element.empty(),window.azexo_editor&&(r.show_controls(),r.update_sortable()),r.attach_children()),r.rendered=!0
for(var l=0;l<r.children.length;l++)r.children[l].recursive_showed()}else{""!=o.replace(/^\s+|\s+$/g,"")&&(d[e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name")]=o.replace(/^\s+|\s+$/g,""))
var r=new wt(null,!1)
r.attrs.container=e(i).attr("data-az-type")+"/"+e(i).attr("data-az-name"),r.render(e,n,a)
var c=e(r.dom_element).attr("class")+" "+e(i).attr("class")
c=e.unique(c.split(" ")).join(" "),e(r.dom_element).attr("class",c),e(r.dom_element).attr("style",e(i).attr("style")),e(r.dom_element).css("display",""),e(r.dom_element).addClass("azexo"),e(i).replaceWith(r.dom_element),r.showed(e,n,a),window.azexo_editor&&r.show_controls()}return window.azexo_editor&&e(r.dom_element).addClass("azexo-editor"),r}function ot(){Xt||(Xt=!0,e(".az-container").each(function(){var e=it(this)
l.push(e)}),window.azexo_editor&&0==e("#azexo-clipboard").length&&e("body").prepend('<div id="azexo-clipboard" style="display:none"></div>'),e("body").keydown(function(t){if(t.ctrlKey&&t.altKey){e("#az-admin-modal").remove()
var i='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("Admin area")+"</h4></div>",o='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",s=e('<div id="az-admin-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+i+'<div class="'+n+'modal-body"></div>'+o+"</div></div></div>").prependTo("body"),r=null
window.azexo_editor?C(function(t){t.length>0&&"0"!=t&&"false"!=t&&(r=e(t),e(s).find("."+n+"modal-body").append(r),e('<button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+p("Logout")+"</button>").appendTo("#az-admin-modal .modal-footer").click(function(){M("azexo_password","",null),window.azexo_editor=!1,tt()}),e("#az-admin-modal").find(".save").click(function(){return P(r.serialize(),function(){e("#az-admin-modal")[a+"modal"]("hide")}),!1}),e("#az-admin-modal")[a+"modal"]("show"))}):(r=e("<form></form>").append('<div class="'+n+'form-group"><label>'+p("Login")+'</label><div><input class="'+n+'form-control" name="password" type="password" placeholder="'+p("Please enter password here")+'" ></div><p class="'+n+'help-block">'+p("")+"</p></div>"),e(s).find("."+n+"modal-body").append(r),e("#az-admin-modal").find(".save").click(function(){return M("azexo_password",e("#az-admin-modal").find('[name="password"]').val(),null),nt(),e("#az-admin-modal")[a+"modal"]("hide"),!1}),e("#az-admin-modal")[a+"modal"]("show"))}}))}function st(){st.baseclass.apply(this,arguments)}function rt(e,t,n){if(D(n,st),n.prototype.base=e,n.prototype.is_container=t,st.prototype.elements[e]=n,st.prototype.tags[e]=n,t)for(var a=1;a<st.prototype.max_nested_depth;a++)st.prototype.tags[e+"_"+a]=n}function lt(e,t){lt.baseclass.apply(this,arguments),this.columns="",t||this.set_columns("1/1"),this.attrs.device="sm"}function dt(e,t){dt.baseclass.call(this,e,t)}function ct(e,t){ct.baseclass.apply(this,arguments),this.linked_elements_index={},t||this.add_item(),this.attach_events()}function pt(){pt.baseclass.apply(this,arguments)}function mt(){mt.baseclass.apply(this,arguments)}function ht(e,t){ht.baseclass.apply(this,arguments),t||this.add_tab()}function _t(){_t.baseclass.apply(this,arguments)}function ut(e,t){ut.baseclass.apply(this,arguments),t||this.add_toggle()}function ft(){ft.baseclass.apply(this,arguments)}function gt(e,t){gt.baseclass.apply(this,arguments),t||this.add_slide()}function vt(){vt.baseclass.apply(this,arguments)}function yt(e,t){yt.baseclass.apply(this,arguments),t||this.add_step()}function bt(){bt.baseclass.apply(this,arguments)}function wt(){wt.baseclass.apply(this,arguments),this.rendered=!1,this.loaded_container=null,this.js={},this.css={}}function xt(){xt.baseclass.apply(this,arguments),this.menu_items={}
for(var t in s.elements_instances){var i=s.elements_instances[t]
i instanceof lt&&""!=i.attrs.menu_item_title&&(this.menu_items[t]=i.attrs.menu_item_title)}var o=this,r=function(t,i){e("body")[a+"scrollspy"]({target:"#"+o.id+".navbar-collapse",offset:o.navbar_height})
var r=s.get_element(i)
r instanceof lt&&(""!=r.attrs.menu_item_title?(o.menu_items[i]=r.attrs.menu_item_title,o.replace_render(),o.showed(e,n,a)):i in o.menu_items&&(delete o.menu_items[i],o.replace_render(),o.showed(e,n,a)))}
e(document).on("azexo_add_element",function(e,t){r(e,t.id)}),e(document).on("azexo_edited_element",r),e(document).on("azexo_delete_element",function(t,i){e("body")[a+"scrollspy"]({target:"#"+o.id+".navbar-collapse",offset:o.navbar_height})
var r=s.get_element(i)
r instanceof lt&&(delete o.menu_items[i],o.replace_render(),o.showed(e,n,a))}),e(document).on("azexo_update_sorting",function(t,i){e("body")[a+"scrollspy"]({target:"#"+o.id+".navbar-collapse",offset:o.navbar_height})
var r=e(i.item).closest("[data-az-id]").attr("data-az-id"),l=s.get_element(r)
o.id==r&&e(l.dom_element).find("."+n+"navbar")[a+"affix"]({offset:{top:e(l.dom_element).find("."+n+"navbar").offset().top,bottom:0}})})}function zt(){zt.baseclass.apply(this,arguments)}function kt(){kt.baseclass.apply(this,arguments)}function jt(e,t){D(t,kt),t.prototype.base=e,kt.prototype.elements[e]=t,kt.prototype.tags[e]=t,kt.prototype.form_elements[e]=t}function Tt(){if("azexo_elements"in window)for(var e=0;e<window.azexo_elements.length;e++){var t=window.azexo_elements[e],n=function(){n.baseclass.apply(this,arguments)}
rt(t.base,t.is_container,n),t.baseclass=n.baseclass,t.params=t.params.concat(n.prototype.params),R(n.prototype,t)
for(var a=0;a<n.prototype.params.length;a++){var i=n.prototype.params[a],o=W(i)
n.prototype.params[a]=o}}}function St(){if("azexo_form_elements"in window)for(var e=0;e<window.azexo_form_elements.length;e++){var t=window.azexo_form_elements[e],n=function(){n.baseclass.apply(this,arguments)}
jt(t.base,n),t.baseclass=n.baseclass,t.params=t.params.concat(n.prototype.params),R(n.prototype,t)
for(var a=0;a<n.prototype.params.length;a++){var i=n.prototype.params[a],o=W(i)
n.prototype.params[a]=o}}}function Ot(){if("azexo_extend"in window)for(var e in window.azexo_extend){var t=window.azexo_extend[e],n=t.params
t.params={}
var a=K.prototype.elements[e]
R(a.prototype,t)
for(var i=0;i<n.length;i++){var o=W(n[i])
a.prototype.params.push(o)}}}function It(){(!window.azexo_editor||window.azexo_online)&&x(function(e){_.isObject(e)&&s.create_template_elements(e)})}function Ct(){y(function(e){_.isObject(e)&&s.create_cms_elements(e)})}window.azexo_backend=!0
var Pt=(""+arguments.callee).replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/),Dt=Pt[0],Rt=Pt[1],At=Pt[2],Lt=Pt[3],Ut=Pt[4],Et=Pt[5],Mt=Pt[6],Bt=Pt[7],Nt=Pt[8],qt=Pt[9]
"azexo_prefix"in window&&(n=window.azexo_prefix,a=window.azexo_prefix.replace("-","_")),window.azexo_title={"Drag and drop":p("Drag and drop element."),Add:p("Add new element into current element area."),Edit:p("Open settings form to change element properties, set CSS styles and add CSS classes."),Paste:p("Paste elements into current element area from clipboard copied into it before."),Copy:p("Copy element or contained elements to clipboard."),Clone:p("Clone current element."),Remove:p("Delete current element"),"Save as template":p("Save element or contained elements as template to template library."),"Save container":p("Save to server all elements which placed in current container element.")}
var Yt={}
Yt.shortcode={next:function(e,t,n){var a,i,o=Yt.shortcode.regexp(e)
return o.lastIndex=n||0,(a=o.exec(t))?"["===a[1]&&"]"===a[7]?Yt.shortcode.next(e,t,o.lastIndex):(i={index:a.index,content:a[0],shortcode:Yt.shortcode.fromMatch(a)},a[1]&&(i.match=i.match.slice(1),i.index++),a[7]&&(i.match=i.match.slice(0,-1)),i):void 0},replace:function(e,t,n){return t.replace(Yt.shortcode.regexp(e),function(e,t,a,i,o,s,r,l){if("["===t&&"]"===l)return e
var d=n(Yt.shortcode.fromMatch(arguments))
return d?t+d+l:e})},string:function(e){return new Yt.shortcode(e).string()},regexp:_.memoize(function(e){return RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),attrs:_.memoize(function(e){var t,n,a={},i=[]
for(t=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g,e=e.replace(/[\u00a0\u200b]/g," ");n=t.exec(e);)n[1]?a[n[1].toLowerCase()]=n[2]:n[3]?a[n[3].toLowerCase()]=n[4]:n[5]?a[n[5].toLowerCase()]=n[6]:n[7]?i.push(n[7]):n[8]&&i.push(n[8])
return{named:a,numeric:i}}),fromMatch:function(e){var t
return t=e[4]?"self-closing":e[6]?"closed":"single",new Yt.shortcode({tag:e[2],attrs:e[3],type:t,content:e[5]})}},Yt.shortcode=_.extend(function(e){_.extend(this,_.pick(e||{},"tag","attrs","type","content"))
var t=this.attrs
this.attrs={named:{},numeric:[]},t&&(_.isString(t)?this.attrs=Yt.shortcode.attrs(t):_.isEqual(_.keys(t),["named","numeric"])?this.attrs=t:_.each(e.attrs,function(e,t){this.set(t,e)},this))},Yt.shortcode),_.extend(Yt.shortcode.prototype,{get:function(e){return this.attrs[_.isNumber(e)?"numeric":"named"][e]},set:function(e,t){return this.attrs[_.isNumber(e)?"numeric":"named"][e]=t,this},string:function(){var e="["+this.tag
return _.each(this.attrs.numeric,function(t){e+=/\s/.test(t)?' "'+t+'"':" "+t}),_.each(this.attrs.named,function(t,n){e+=" "+n+'="'+t+'"'}),"single"===this.type?e+"]":"self-closing"===this.type?e+" /]":(e+="]",this.content&&(e+=this.content),e+"[/"+this.tag+"]")}}),Yt.html=_.extend(Yt.html||{},{attrs:function(e){var t,n
return"/"===e[e.length-1]&&(e=e.slice(0,-1)),t=Yt.shortcode.attrs(e),n=t.named,_.each(t.numeric,function(e){/\s/.test(e)||(n[e]="")}),n},string:function(e){var t="<"+e.tag,n=e.content||""
return _.each(e.attrs,function(e,n){t+=" "+n,""!==e&&(_.isBoolean(e)&&(e=e?"true":"false"),t+='="'+e+'"')}),e.single?t+" />":(t+=">",t+=_.isObject(n)?Yt.html.string(n):n,t+"</"+e.tag+">")}})
var $t=(_.memoize(function(e){return RegExp("(\\[(\\[?)["+e+"]+(?![\\w-])[^\\]\\/]*[\\/(?!\\])[^\\]\\/]*]?(?:\\/]\\]|\\](?:[^\\[]*(?:\\[(?!\\/"+e+"\\])[^\\[]*)*\\[\\/"+e+"\\])?)\\]?)","g")}),_.memoize(function(e){return RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)")}))
if(e.fn.closest_descendents=function(t){for(var n=e(),a=this;a.length;)n=e.merge(n,a.filter(t)),a=a.not(t),a=a.children()
return n},H.prototype={safe:!0,param_types:{},show_editor:function(t,i,o){e("#az-editor-modal").remove()
for(var s='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+i.name+" "+p("settings")+"</h4></div>",r='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",l=e('<div id="az-editor-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+s+'<div class="'+n+'modal-body"></div>'+r+"</div></div></div>").prependTo("body"),d={},c=0;c<t.length;c++)t[c].hidden||(t[c].tab in d?d[t[c].tab].push(t[c]):d[t[c].tab]=[t[c]])
var m=e('<div id="az-editor-tabs"></div>'),c=0,h='<ul class="'+n+"nav "+n+'nav-tabs">'
for(var u in d)c++,""===u&&(u=p("General")),h+='<li><a href="#az-editor-tab-'+c+'" data-toggle="tab">'+u+"</a></li>"
h+="</ul>",e(m).append(h),c=0
var f=e('<form role="form" class="'+n+'tab-content"></form>')
for(var u in d){c++
for(var g=e('<div id="az-editor-tab-'+c+'" class="'+n+'tab-pane"></div>'),v=0;v<d[u].length;v++)d[u][v].render(i.attrs[d[u][v].param_name]),e(g).append(d[u][v].dom_element)
e(f).append(g)}e(m).append(f),e(l).find("."+n+"modal-body").append(m),e('#az-editor-tabs a[href="#az-editor-tab-1"]')[a+"tab"]("show"),e('#az-editor-modal input[name="el_class"]').each(function(){q(K.prototype.el_classes,this," ")})
for(var c=0;c<t.length;c++)if("element"in t[c].dependency){for(var y=null,v=0;v<t.length;v++)if(t[v].param_name===t[c].dependency.element){y=t[v]
break}"is_empty"in t[c].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){""===a.get_value()?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(c,y),"not_empty"in t[c].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){""!==a.get_value()?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(c,y),"value"in t[c].dependency&&!function(n,a){e(a.dom_element).find('[name="'+a.param_name+'"]').on("keyup change",function(){_.indexOf(t[n].dependency.value,a.get_value())>=0?(t[n].display_none=!1,e(t[n].dom_element).css("display","block"),"callback"in t[n].dependency&&t[n].dependency.callback.call(t[n],a)):(t[n].display_none=!0,e(t[n].dom_element).css("display","none"))}).trigger("change")}(c,y)}e("#az-editor-modal").one("shown."+a+"bs.modal",function(){for(var e=0;e<t.length;e++)t[e].hidden||t[e].opened()}),e("#az-editor-modal").one("hidden."+a+"bs.modal",function(){for(var e=0;e<t.length;e++)t[e].closed()}),e("#az-editor-modal").find(".save").click(function(){for(var n={},s=0;s<t.length;s++)if(!t[s].hidden&&((!("display_none"in t[s])||"display_none"in t[s]&&!t[s].display_none)&&(n[t[s].param_name]=t[s].get_value()),t[s].required&&""==n[t[s].param_name]))return e(t[s].dom_element).addClass("has-error"),!1
return o.call(i,n),e("#az-editor-modal")[a+"modal"]("hide"),!1}),e("#az-editor-modal")[a+"modal"]("show")},opened:function(){},closed:function(){},render:function(){}},J("container",X),R(X.prototype,{get_value:function(){return e(this.dom_element).find('input[name="'+this.param_name+'_type"]').val()+"/"+e(this.dom_element).find('input[name="'+this.param_name+'_name"]').val()},render:function(t){var a=t.split("/")[0],i=t.split("/")[1]
this.dom_element=e('<div class="'+n+'form-group"><label>'+this.heading+"</label><div><label>"+p("Type")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_type" type="text" value="'+a+'"></div><div><label>'+p("Name")+'</label><input class="'+n+'form-control" name="'+this.param_name+'_name" type="text" value="'+i+'"></div><p class="'+n+'help-block">'+this.description+"</p></div>")},opened:function(){var t=this.get_value(),n=null,a=null,i=this
u(function(t){n=N(t,e(i.dom_element).find('input[name="'+i.param_name+'_type"]')),e(n).chosen().change(function(){f(e(this).val(),function(t){e(a).parent().find(".direct-input").click(),e(i.dom_element).find('input[name="'+i.param_name+'_name"]').val(""),a=N(t,e(i.dom_element).find('input[name="'+i.param_name+'_name"]'))})})}),f(t.split("/")[0],function(t){a=N(t,e(i.dom_element).find('input[name="'+i.param_name+'_name"]'))})}}),e.fn.deserialize=function(t){var n=e(this),a={}
return e.each(t.split("&"),function(){var e=this.split("="),t=E(e[0]),n=e.length>1?E(e[1]):null
t in a||(a[t]=[]),a[t].push(n)}),e.each(a,function(e,t){n.find("[name='"+e+"']").val(t[0].replace(/\+/g," ")),"on"==t[0].replace(/\+/g," ")&&n.find("[type='checkbox'][name='"+e+"']").attr("checked","checked"),n.find("select[name='"+e+"'] > option").removeAttr("selected"),n.find("select[name='"+e+"'] > option[value='"+t+"']").prop("selected","selected")}),e("input:checkbox:checked,input:radio:checked").each(function(){e(this).attr("name")in a||(this.checked=!1)}),this},J("cms_settings",Q),R(Q.prototype,{get_value:function(){return e(this.dom_element).find("form").serialize()},render_form:function(t){var n=this
w(t,function(t){e(n.dom_element).empty(),e(t).appendTo(n.dom_element),n.form_value.length>0&&e(n.dom_element).deserialize(V(n.form_value))})},get_form:function(e){var t=e.get_value()
t.length>0&&this.render_form(t)},render:function(t){this.form_value=t,this.dom_element=e('<div class="'+n+'form-group"></div>')},opened:function(){"instance"in this&&this.render_form(this.instance)}}),"azexo_param_types"in window)for(var Ft=0;Ft<window.azexo_param_types.length;Ft++){var Ht=window.azexo_param_types[Ft],Jt=function(){Jt.baseclass.apply(this,arguments)}
J(Ht.type,Jt),Ht.baseclass=Jt.baseclass,R(Jt.prototype,Ht)}if(window.azexo_add_css=function(t,n){var a=window.azexo_baseurl+t
if(e('link[href*="'+a+'"]').length)return void n()
var i=document.getElementsByTagName("head")[0],o=document.createElement("link")
o.rel="stylesheet",o.type="text/css",o.href=a,o.onload=n,i.appendChild(o)},window.azexo_add_js_list=function(e){if("loaded"in e&&e.loaded)e.callback()
else for(var t=0,n=0;n<e.paths.length;n++)azexo_add_js({path:e.paths[n],callback:function(){t++,t==e.paths.length&&e.callback()}})},window.azexo_add_js=function(e){"loaded"in e&&e.loaded?e.callback():azexo_add_external_js(window.azexo_baseurl+e.path,"callback"in e?e.callback:function(){})},window.azexo_add_external_js=function(e,t){if(e in i)return void i[e].push(t)
if(e in o)return void t()
i[e]=[t]
var n=document.getElementsByTagName("head")[0],a=document.createElement("script")
a.type="text/javascript",a.src=e,a.onload=function(){for(o[e]=!0;e in i;){var t=i[e]
i[e]=void 0,delete i[e]
for(var n=0;n<t.length;n++)t[n]()}},n.appendChild(a)},R(G.prototype,{elements_instances:{},elements_instances_by_an_name:{},template_elements_loaded:!1,cms_elements_loaded:!1,try_render_unknown_elements:function(){if(this.template_elements_loaded&&this.cms_elements_loaded)for(var t in s.elements_instances){var n=s.elements_instances[t]
if(n instanceof et){var a=n.attrs.content,i=/^\s*\<[\s\S]*\>\s*$/.exec(a)
i?K.prototype.parse_html.call(n,a):K.prototype.parse_shortcode.call(n,a)
for(var o=0;o<n.children.length;o++)n.children[o].recursive_render()
e(n.dom_element).empty()
for(var o=0;o<n.children.length;o++)e(n.dom_element).append(n.children[o].dom_element)
window.azexo_editor&&n.update_sortable(),n.recursive_showed()}}},create_template_elements:function(e){for(var t in e){var n=e[t],a=function(){a.baseclass.apply(this,arguments)}
rt(t,!1,a),R(a.prototype,{name:t,icon:"fa fa-cube",description:p(""),template:n,params:[].concat(a.prototype.params),show_settings_on_create:!0,has_content:!0,category:"Template-elements",render:function(e){for(var t=this.template,n=0;n<this.params.length;n++){var i=this.attrs[this.params[n].param_name]
"textfield"==this.params[n].type&&(t=t.replace("[["+this.params[n].param_name+"]]",i)),"textarea"==this.params[n].type&&(t=t.replace("{{"+this.params[n].param_name+"}}",i)),"image"==this.params[n].type&&(t=t.replace("(("+this.params[n].param_name+"))",i)),"link"==this.params[n].type&&(t=t.replace("<<"+this.params[n].param_name+">>",i))}this.dom_element=e('<div class="az-element az-template '+this.attrs.el_class+'" style="'+this.attrs.style+'">'+t+"</div>"),this.dom_content_element=this.dom_element,a.baseclass.prototype.render.apply(this,arguments)}})
for(var i=/\[\[([^\]]*)\]\]/g,o=0,s={};null!=(s=i.exec(n));){var r=W({type:"textfield",param_name:"param"+o,value:s[1]})
a.prototype.params.unshift(r),n=A(n,"[[param"+o+"]]",s.index,s[0].length),o++}a.prototype.template=n
for(var i=/\{\{([^\}]*)\}\}/g;null!=(s=i.exec(n));){var r=W({type:"textarea",param_name:"param"+o,value:s[1]})
a.prototype.params.unshift(r),n=A(n,"{{param"+o+"}}",s.index,s[0].length),o++}a.prototype.template=n
for(var i=/\(\(([^\)]*)\)\)/g;null!=(s=i.exec(n));){var r=W({type:"image",param_name:"param"+o,value:s[1]})
a.prototype.params.unshift(r),n=A(n,"((param"+o+"))",s.index,s[0].length),o++}a.prototype.template=n
for(var i=/\<\<([^\>]*)\>\>/g;null!=(s=i.exec(n));){var r=W({type:"link",param_name:"param"+o,value:s[1]})
a.prototype.params.unshift(r),n=A(n,"<<param"+o+">>",s.index,s[0].length),o++}a.prototype.template=n}this.template_elements_loaded=!0,this.try_render_unknown_elements()},create_cms_elements:function(e){for(var t in e){var a="az_"+t,i=function(){i.baseclass.apply(this,arguments)}
rt(a,!1,i),R(i.prototype,{name:e[t],icon:"fa fa-cube",description:p(""),category:"CMS",instance:t,params:[W({type:"cms_settings",heading:p("Settings"),param_name:"settings",instance:t})].concat(i.prototype.params),show_settings_on_create:!0,is_container:!0,has_content:!0,is_cms_element:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div class="'+n+'small">'+this.name+"</div></div>"},get_content:function(){return""},showed:function(e){if(i.baseclass.prototype.showed.apply(this,arguments),"content"in this.attrs&&""!=this.attrs.content)e(this.dom_content_element).append(this.attrs.content),this.attrs.content=""
else{var t=this
azexo_add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){var n=t.parent.get_my_container()
b(t.instance,t.attrs.settings,n.attrs.container,function(n){e(t.dom_content_element).empty(),e(t.dom_content_element).append(n)})},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})}},render:function(e){this.dom_element=e('<div class="az-element az-cms-element '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<div></div>").appendTo(this.dom_element),i.baseclass.prototype.render.apply(this,arguments)}})}this.cms_elements_loaded=!0,this.try_render_unknown_elements()},make_elements_modal:function(t,i){var o=t.get_all_disallowed_elements(),s={}
for(var r in K.prototype.elements)K.prototype.elements[r].prototype.hidden||o.indexOf(K.prototype.elements[r].prototype.base)>=0||(K.prototype.elements[r].prototype.category in s?s[K.prototype.elements[r].prototype.category].push(K.prototype.elements[r]):s[K.prototype.elements[r].prototype.category]=[K.prototype.elements[r]])
var l=e('<div id="az-elements-tabs"></div>'),d=0,c='<ul class="'+n+"nav "+n+'nav-tabs">'
for(var m in s)d++,""===m&&(m=p("Content")),c+='<li><a href="#az-elements-tab-'+d+'" data-toggle="tab">'+m+"</a></li>"
window.azexo_online&&(c+='<li><a href="#az-elements-tab-templates" data-toggle="tab">'+p("Saved templates")+"</a></li>"),c+="</ul>",e(l).append(c),d=0
var h=e('<div class="'+n+'tab-content"></div>')
for(var m in s){d++
for(var _=e('<div id="az-elements-tab-'+d+'" class="'+n+"tab-pane "+n+'clearfix"></div>'),u=0;u<s[m].length;u++)e(_).append(s[m][u].prototype.get_button())
e(h).append(_)}window.azexo_online&&(_=e('<div id="az-elements-tab-templates" class="'+n+"tab-pane "+n+'clearfix"></div>')),e(h).append(_),e(l).append(h),e("#az-elements-modal").remove()
var f='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("Elements list")+"</h4></div>",g=e('<div id="az-elements-modal" class="'+n+'modal azexo" style="display:none"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+f+'<div class="'+n+'modal-body"></div></div></div></div>')
e("body").prepend(g),e(g).find("."+n+"modal-body").append(l),e(l).find("> ul a:first")[a+"tab"]("show"),e(g).find("[data-az-element]").click(function(){var n=e(this).attr("data-az-element"),o=t.get_nested_depth(n)
if(o<K.prototype.max_nested_depth){if(t instanceof wt&&null==t.parent&&"az_row"!=n){var s=new lt(t,!1)
s.update_dom()
var r=K.prototype.elements[n],l=new r(s.children[0],!1)
i(l),l.update_dom(),t.update_empty(),s.children[0].update_empty(),s.update_empty()}else{var r=K.prototype.elements[n],l=new r(t,!1)
i(l),l.update_dom(),t.update_empty()}e("#az-elements-modal")[a+"modal"]("hide"),l.show_settings_on_create&&l.edit()}else alert(p("Element can not be added. Max nested depth reached."))}),window.azexo_online&&e(l).find('a[href="#az-elements-tab-templates"]').on("shown."+a+"bs.tab",function(){z(function(i){var o=e(l).find("#az-elements-tab-templates")
e(o).empty()
for(var s=0;s<i.length;s++){var r=i[s],d='<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-template="'+r+'"><i class="'+n+'text-primary fa fa-cubes"></i><h4>'+r+"</h4></div>"
d=e(d).appendTo(o).click(function(){var n=e(this).attr("data-az-template")
k(n,function(n){var i=t.children.length
K.prototype.parse_shortcode.call(t,n)
for(var o=i;o<t.children.length;o++)t.children[o].recursive_render()
for(var o=i;o<t.children.length;o++)e(t.dom_content_element).append(t.children[o].dom_element)
window.azexo_editor&&(t.update_empty(),t.update_sortable()),t.recursive_showed(),e("#az-elements-modal")[a+"modal"]("hide")})}),e('<span class="fa fa-trash-o" data-az-template="'+r+'"></span>').appendTo(d).click(function(){var t=e(this).attr("data-az-template")
T(t),e(o).find('[data-az-template="'+t+'"]').remove()})}})})},show:function(t,n){e("#az-elements-modal").remove(),this.make_elements_modal(t,n),e("#az-elements-modal")[a+"modal"]("show"),e("#az-elements-modal #az-elements-tabs").find("> ul a:first")[a+"tab"]("show")},get_element:function(e){return this.elements_instances[e]},delete_element:function(t){e(document).trigger("azexo_delete_element",t),delete this.elements_instances[t]},add_element:function(t,n,a){this.elements_instances[t]=n,e(document).trigger("azexo_add_element",{id:t,parse:a})}}),K.prototype={el_classes:_.object([n+"optgroup-bootstrap",n+"bg-primary",n+"text-primary",n+"bg-default",n+"text-default",n+"text-muted",n+"small",n+"text-left",n+"text-right",n+"text-center",n+"text-justify",n+"pull-left",n+"pull-right",n+"center-block",n+"well",n+"visible-xs-block",n+"visible-sm-block",n+"visible-md-block",n+"visible-lg-block",n+"hidden-xs",n+"hidden-sm",n+"hidden-md",n+"hidden-lg"],[p("Bootstrap classes"),p("Background primary style"),p("Text primary style"),p("Background default style"),p("Text default style"),p("Text muted style"),p("Text small style"),p("Text align left"),p("Text align right"),p("Text align center"),p("Text align justify"),p("Pull left"),p("Pull right"),p("Block align center"),p("Well"),p("Visible on extra small devices, phones (<768px)"),p("Visible on small devices, tablets (≥768px)"),p("Visible on medium devices, desktops (≥992px)"),p("Visible onn large devices, desktops (≥1200px)"),p("Hidden on extra small devices, phones (<768px)"),p("Hidden on small devices, tablets (≥768px)"),p("Hidden on medium devices, desktops (≥992px)"),p("Hidden on large devices, desktops (≥1200px)")]),elements:{},tags:{},max_nested_depth:3,name:"",category:"",description:"",params:[W({type:"textfield",heading:p("Element classes"),param_name:"el_class",description:p("If you wish to style particular content element differently, then use this field to add a class name and then refer to it in your css file.")}),W({type:"style",heading:p("Style"),param_name:"style",description:p("Style options."),tab:p("Style")}),W({type:"style",heading:p("Hover style"),param_name:"hover_style",important:!0,description:p("Hover style options."),tab:p("Hover style")}),W({type:"integer_slider",heading:p("Left"),param_name:"pos_left",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Right"),param_name:"pos_right",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Top"),param_name:"pos_top",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Bottom"),param_name:"pos_bottom",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Width"),param_name:"pos_width",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Height"),param_name:"pos_height",tab:p("Placement"),max:"1",step:"0.01",hidden:!0}),W({type:"integer_slider",heading:p("Z-index"),param_name:"pos_zindex",tab:p("Placement"),hidden:!0})],icon:"",is_container:!1,has_content:!1,frontend_render:!1,show_settings_on_create:!1,wrapper_class:"",weight:0,hidden:!1,disallowed_elements:[],show_parent_controls:!1,controls_position:function(){if(!this.is_container||this.has_content){var t=e(this.dom_element).height(),n=e(window).height()
if(t>n){var a=e(window).scrollTop(),i=(e(this.controls).offset().top,e(this.dom_element).offset().top),o=a-i+n/2
o>40&&t>o?e(this.controls).css("top",o):o>t?e(this.controls).css("top",t-40):e(this.controls).css("top",40)}}},show_controls:function(){if(window.azexo_editor){this.controls=e('<div class="controls '+n+"btn-group "+n+'btn-group-xs"></div>').prependTo(this.dom_element),e('<span title="'+c("Drag and drop")+'" class="control drag-and-drop '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-move">'+this.name+"</span>").appendTo(this.controls),this.is_container&&!this.has_content&&(e('<button title="'+c("Add")+'" type="button" class="control add '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-plus"> </button>').appendTo(this.controls).click({object:this},this.click_add),e('<button title="'+c("Paste")+'" type="button" class="control paste '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-hand-down"> </button>').appendTo(this.controls).click({object:this},this.click_paste)),e('<button title="'+c("Edit")+'" type="button" class="control edit '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-pencil"> </button>').appendTo(this.controls).click({object:this},this.click_edit),e('<button title="'+c("Copy")+'" type="button" class="control copy '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-briefcase"> </button>').appendTo(this.controls).click({object:this},this.click_copy),e('<button title="'+c("Clone")+'" type="button" class="control clone '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-repeat"> </button>').appendTo(this.controls).click({object:this},this.click_clone),e('<button title="'+c("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button>').appendTo(this.controls).click({object:this},this.click_remove),window.azexo_online&&e('<button title="'+c("Save as template")+'" type="button" class="control save-template '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-floppy-save"> </button>').appendTo(this.controls).click({object:this},this.click_save_template),this.update_empty()
var t=this
setTimeout(function(){t.controls_position()},1e3),e(window).scroll(function(){t.controls_position()})
var t=this
t.right_click_number=0,e(this.dom_element).mousedown(function(n){if(2==n.which){t.right_click_number++
for(var a=1,i=t,o=!1;a<t.right_click_number;){if(!(e(i.dom_element).parent().closest("[data-az-id]").length>0)){o=!0
break}var r=e(i.dom_element).parent().closest("[data-az-id]").attr("data-az-id")
i=s.get_element(r),a++}if(e(".controls").css("visibility","hidden").css("opacity","0"),e(".control").css("opacity","0"),e(".az-element").removeClass("highlight"),o)t.right_click_number=0
else if(i instanceof mt)if(i.layer_number<i.children.length){var l=i.children[i.layer_number]
e(l.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(l.dom_element).addClass("highlight"),t.right_click_number--,i.layer_number++}else e(i.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(i.dom_element).addClass("highlight"),i.layer_number=0
else e(i.dom_element).find(" > .controls").css("visibility","visible").css("opacity","1").find(" > .control").css("opacity","1"),e(i.dom_element).addClass("highlight")
return!1}}),e(this.dom_element).mouseenter(function(){t.right_click_number=0,t instanceof mt&&(t.layer_number=0)}),e(this.dom_element).mouseleave(function(){e(t.dom_element).hasClass("highlight")&&(e(".controls").css("visibility","").css("opacity",""),e(".control").css("opacity",""),e(".az-element").removeClass("highlight"))}),t.show_parent_controls&&_.defer(function(){function a(t){"none"==e(t.parent.controls).find("."+n+"btn:not(span)").css("display")?e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block"):e(t.controls).find("."+n+"btn:not(span)").css("display","none"),"none"==e(t.controls).find("."+n+"btn:not(span)").css("display")?e(t.parent.controls).find("."+n+"btn:not(span)").css("display","inline-block"):e(t.parent.controls).find("."+n+"btn:not(span)").css("display","none"),e(t.parent.controls).attr("data-az-cid",e(t.dom_element).attr("data-az-id"))
var a=e(t.dom_element).offset()
a.top=a.top-parseInt(e(t.dom_element).css("margin-top")),e(t.parent.controls).offset(a),a.left=a.left+e(t.parent.controls).width(),e(t.controls).offset(a)}e(t.dom_element).off("mouseenter").on("mouseenter",function(){window.azexo_editor&&(e(t.parent.controls).css("display","block"),a(t))}),e(t.dom_element).off("mouseleave").on("mouseleave",function(){window.azexo_editor&&e(t.controls).css("display","")}),setInterval(function(){if(window.azexo_editor){e(t.dom_element).is(":hover")||e(t.parent.controls).is(":hover")||e(t.controls).css("display",""),e(t.dom_element).is(":hover")&&(a(t),e(t.controls).css("visibility","visibile"),e(t.controls).css("opacity","1"))
var n=s.get_element(e(t.parent.controls).attr("data-az-cid"))
_.isUndefined(n)||e(t.parent.controls).css("display",e(n.controls).css("display")),_.isUndefined(e(t.parent.controls).data("spc"))&&(e(t.parent.controls).off("mouseenter").on("mouseenter",function(){var t=s.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"))
e(t.controls).css("display","block")}),e(t.parent.controls).data("spc",!0))}},100),e(t.controls).find("span").off("click").on("click",function(){e(t.controls).find("."+n+"btn:not(span)").css("display","inline-block"),e(t.parent.controls).find("."+n+"btn:not(span)").css("display","none"),a(t)}),e(t.parent.controls).find("span").off("click").on("click",function(){var t=s.get_element(e(this).closest("[data-az-cid]").attr("data-az-cid"))
e(t.parent.controls).find("."+n+"btn:not(span)").css("display","inline-block"),e(t.controls).find("."+n+"btn:not(span)").css("display","none"),a(t)}),e(t.controls).find("span").trigger("click")})}},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+p("Click to put an element here.")+"</strong></div></div>"},update_empty:function(){if(window.azexo_editor)if(0==this.children.length&&this.is_container&&!this.has_content||this.has_content&&""==this.attrs.content){e(this.dom_content_element).find("> .az-empty").remove()
var t=e(this.get_empty()).appendTo(this.dom_content_element),a=""
0==e(t).find(".bottom").length&&(a="bottom"),0==e(t).find(".top").length&&(a="top"),""!=a&&e(t).append('<div class="'+a+" "+n+'well">'+p("Mouse over highlights the boundaries of the elements and its controls.")+"</div>"),e(t).click(function(t){if(1==t.which){var n=e(this).closest("[data-az-id]").attr("data-az-id")
s.show(s.get_element(n),function(){})}})}else e(this.dom_content_element).find("> .az-empty").remove()},get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+"pull-left "+n+'text-overflow" data-az-element="'+this.base+'"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},click_add:function(e){return e.data.object.add(),!1},add:function(){s.show(this,function(){})},update_sortable:function(){window.azexo_editor&&(this.is_container&&!this.has_content||this instanceof et)&&e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},replace_render:function(){var t=this.dom_element,i=this.dom_content_element
null!=t&&(this.render(e,n,a),e(t).replaceWith(this.dom_element),null!=i&&e(this.dom_content_element).replaceWith(i)),window.azexo_editor&&this.show_controls()},update_dom:function(){this.detach_children(),e(this.dom_element).remove(),this.parent.detach_children(),this.render(e,n,a),this.attach_children(),window.azexo_editor&&this.show_controls(),this.parent.attach_children(),window.azexo_editor&&(this.update_sortable(),this.update_empty()),this.showed(e,n,a)},showed:function(e){"pos_left"in this.attrs&&""!=this.attrs.pos_left&&e(this.dom_element).css("left",this.attrs.pos_left),"pos_right"in this.attrs&&""!=this.attrs.pos_right&&e(this.dom_element).css("right",this.attrs.pos_right),"pos_top"in this.attrs&&""!=this.attrs.pos_top&&e(this.dom_element).css("top",this.attrs.pos_top),"pos_bottom"in this.attrs&&""!=this.attrs.pos_bottom&&e(this.dom_element).css("bottom",this.attrs.pos_bottom),"pos_width"in this.attrs&&""!=this.attrs.pos_width&&e(this.dom_element).css("width",this.attrs.pos_width),"pos_height"in this.attrs&&""!=this.attrs.pos_height&&e(this.dom_element).css("height",this.attrs.pos_height),"pos_zindex"in this.attrs&&""!=this.attrs.pos_zindex&&e(this.dom_element).css("z-index",this.attrs.pos_zindex),"hover_style"in this.attrs&&""!=this.attrs.hover_style&&(e("head").append("<style>.hover-style-"+this.id+":hover { "+this.attrs.hover_style+" } </style>"),e(this.dom_element).addClass("hover-style-"+this.id))},render:function(e){e(this.dom_element).attr("data-az-id",this.id)},update_data:function(){e(this.dom_element).attr("data-azb",this.base)
for(var t=0;t<this.params.length;t++){var n=this.params[t]
if(n.param_name in this.attrs){var a=this.attrs[n.param_name];(""==a&&n.can_be_empty||""!=a)&&"content"!==n.param_name&&a!==n.value&&(n.safe||(a=btoa(encodeURIComponent(a))),e(this.dom_element).attr("data-azat-"+n.param_name,a))}}null!=this.dom_content_element&&e(this.dom_content_element).attr("data-azcnt","true")},recursive_update_data:function(){this.update_data()
for(var e=0;e<this.children.length;e++)this.children[e].recursive_update_data()},recursive_clear_animation:function(){"clear_animation"in this&&this.clear_animation()
for(var e=0;e<this.children.length;e++)this.children[e].recursive_clear_animation()},recursive_showed:function(){this.showed(e,n,a)
for(var t=0;t<this.children.length;t++)this.children[t].recursive_showed()},update_sorting_children:function(){var t=e(this.dom_content_element).sortable("option"),n=[]
e(this.dom_content_element).find(t.items).each(function(){n.push(s.get_element(e(this).attr("data-az-id")))}),this.children=n
for(var a=0;a<this.children.length;a++)this.children[a].parent=this
this.update_empty()},update_sorting:function(t,n){var a=s.get_element(e(n.item).closest("[data-az-id]").attr("data-az-id"))
n.source=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id")),n.from_pos=a.get_child_position(),n.source.update_sorting_children(),n.target=s.get_element(e(n.item).parent().closest("[data-az-id]").attr("data-az-id")),n.source.id!=n.target.id&&n.target.update_sorting_children(),n.to_pos=a.get_child_position(),e(document).trigger("azexo_update_sorting",n)},click_edit:function(e){return e.data.object.edit(),!1},edit:function(){H.prototype.show_editor(this.params,this,this.edited)},edited:function(t){for(var n in t)this.attrs[n]=U(t[n])
this.update_dom(),e(document).trigger("azexo_edited_element",this.id)},attrs2string:function(){for(var e="",t=0;t<this.params.length;t++){var n=this.params[t]
if(n.param_name in this.attrs){var a=this.attrs[n.param_name];(""==a&&n.can_be_empty||""!=a)&&"content"!==n.param_name&&a!==n.value&&(n.safe||(a=btoa(encodeURIComponent(a))),e+=n.param_name+'="'+a+'" ')}}return e},get_content:function(){for(var e=0;e<this.params.length;e++){var t=this.params[e]
if("content"===t.param_name&&"html"==t.type)return btoa(encodeURIComponent(this.attrs.content))}return this.attrs.content},set_content:function(e){for(var t=U(e),n=0;n<this.params.length;n++){var a=this.params[n]
if("content"===a.param_name&&"html"==a.type)return t=decodeURIComponent(atob(t.replace(/^#E\-8_/,""))),void(this.attrs.content=t)}this.attrs.content=t},parse_attrs:function(t){for(var n=0;n<this.params.length;n++){var a=this.params[n]
if(a.param_name in t)if(a.safe)this.attrs[a.param_name]=U(t[a.param_name])
else{var i=U(t[a.param_name])
this.attrs[a.param_name]=decodeURIComponent(atob(i.replace(/^#E\-8_/,"")))}else"value"in a&&_.isString(a.value)&&(this.attrs[a.param_name]=a.value)}for(var o in t)o in this.attrs||(this.attrs[o]=t[o])
e(document).trigger("azexo_edited_element",this.id)},get_nested_depth:function(e){var t=0
return null!=this.parent&&(t+=this.parent.get_nested_depth(e)),this.base==e&&t++,t},get_my_shortcode:function(){var e=_.keys(K.prototype.elements),t=_.object(e,Array.apply(null,Array(e.length)).map(Number.prototype.valueOf,0)),n=this.get_shortcode(t)
return n},get_children_shortcode:function(){for(var e=_.keys(K.prototype.elements),t=_.object(e,Array.apply(null,Array(e.length)).map(Number.prototype.valueOf,0)),n="",a=0;a<this.children.length;a++)n+=this.children[a].get_shortcode(t)
return n},get_shortcode:function(e){e[this.base]++
for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].get_shortcode(e)
if("az_unknown"==this.base)s=t
else{var a=""
if(1==e[this.base])a=this.base
else{var i=e[this.base]-1
a=this.base+"_"+i}var o=this.attrs2string(),s="["+a+" "+o+"]"
this.is_container&&(s+=this.has_content?this.get_content()+"[/"+a+"]":t+"[/"+a+"]")}return e[this.base]--,s},parse_shortcode:function(t){var n=_.keys(K.prototype.tags).join("|"),a=Yt.shortcode.regexp(n),i=e.trim(t).match(a)
if(_.isNull(i)){if(0==t.length)return
this.parse_shortcode('[az_row][az_column width="1/1"][az_text]'+t+"[/az_text][/az_column][/az_row]")}_.each(i,function(e){var a=e.match($t(n)),i=a[5],o=RegExp("^[\\s]*\\[\\[?("+_.keys(K.prototype.tags).join("|")+")(?![\\w-])"),s=Yt.shortcode.attrs(a[3]),r=a[2]
if(!(this.get_nested_depth(r)>K.prototype.max_nested_depth)){if(this instanceof wt&&null==this.parent&&"az_row"!=r)return void this.parse_shortcode('[az_row][az_column width="1/1"]'+t+"[/az_column][/az_row]")
var l=et
r in K.prototype.tags&&(l=K.prototype.tags[r])
var d=new l(this,!0)
d.parse_attrs(s.named)
var c=K.prototype.tags[r].prototype
_.isString(i)&&i.match(o)&&c.is_container===!0?d.parse_shortcode(i):_.isString(i)&&i.length&&"az_row"===r?d.parse_shortcode('[az_column width="1/1"][az_text]'+i+"[/az_text][/az_column]"):_.isString(i)&&i.length&&"az_column"===r&&("["!=i.substring(0,1)||"]"!=i.slice(-1))?d.parse_shortcode("[az_text]"+i+"[/az_text]"):_.isString(i)&&(c.has_content===!0?d.set_content(i):""!=i&&d.parse_shortcode("[az_unknown]"+i+"[/az_unknown]"))}},this)},parse_html:function(n){var a=this
if(0==e(n).children().closest_descendents("[data-azb]").length&&e.trim(e(n).html()).length>0){var i=new lt(a,!1)
i.children=[]
var o=new dt(i,!1),r=K.prototype.elements.az_text,l=new r(o,!1)
l.attrs.content=e(n).html(),l.update_dom(),"update_empty"in a&&a.update_empty(),"update_empty"in o&&o.update_empty(),"update_empty"in i&&i.update_empty()}else e(n).children().closest_descendents("[data-azb]").each(function(){var n=e(this).attr("data-azb"),i=et
n in K.prototype.tags&&(i=K.prototype.tags[n])
var o=new i(a,!0)
t&&(s.elements_instances[o.id]=null,delete s.elements_instances[o.id],o.id=e(this).attr("data-az-id"),s.elements_instances[o.id]=o),o.dom_element=e(this)
var r={}
if(e(e(this)[0].attributes).each(function(){this.nodeName.indexOf("data-azat")>=0&&(r[this.nodeName.replace("data-azat-","")]=this.value)}),o.parse_attrs(r),o.is_container){var l=e(this).closest_descendents("[data-azcnt]")
l.length>0&&(o.dom_content_element=e(l),o.has_content?o instanceof et?(o.attrs.content=e(l).wrap("<div></div>").parent().html(),e(l).unwrap()):o.attrs.content=e(l).html():o.parse_html(l))}})},recursive_render:function(){for(var i=0;i<this.children.length;i++)this.children[i].recursive_render()
t?this.frontend_render&&(this.detach_children(),this.parent.detach_children(),this.render(e,n,a),this.attach_children(),this.parent.attach_children()):(this.render(e,n,a),this.attach_children()),window.azexo_editor&&(this.show_controls(),this.update_sortable())},detach_children:function(){for(var t=0;t<this.children.length;t++)e(this.children[t].dom_element).detach()},attach_children:function(){for(var t=0;t<this.children.length;t++)e(this.dom_content_element).append(this.children[t].dom_element)},click_copy:function(e){return e.data.object.copy(),!1},copy:function(){var t=this.get_my_shortcode()
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))},click_paste:function(e){return e.data.object.paste(0),!1},paste:function(t){var n=decodeURIComponent(atob(e("#azexo-clipboard").html()))
if(""!=n){var a=this.children.length
K.prototype.parse_shortcode.call(this,n)
for(var i=[],o=a;o<this.children.length;o++)this.children[o].recursive_render(),i.push(this.children[o])
this.children=this.children.slice(0,a),this.children.splice.apply(this.children,[t,0].concat(i)),this.detach_children(),this.attach_children(),this.update_empty(),this.update_sortable(),this.recursive_showed()}},click_save_template:function(e){return e.data.object.save_template(),!1},save_template:function(){var e=this.get_my_shortcode(),t=window.prompt(p("Please enter template name"),"")
""!=t&&null!=t&&j(t,e)},click_clone:function(e){return e.data.object.clone(),!1},clone:function(){this.copy()
for(var e=0;e<this.parent.children.length;e++)if(this.parent.children[e].id==this.id){this.parent.paste(e)
break}},click_remove:function(e){return e.data.object.remove(),!1},remove:function(){s.delete_element(this.id)
for(var t=0;t<this.children.length;t++)this.children[t].remove()
e(this.dom_element).remove()
for(var t=0;t<this.parent.children.length;t++)if(this.parent.children[t].id==this.id){this.parent.children.splice(t,1)
break}this.parent.update_empty()},get_child_position:function(){for(var e=0;e<this.parent.children.length;e++)if(this.parent.children[e].id==this.id)return e
return-1},add_css:function(e,t,n){var a=this.get_my_container()
a.css[window.azexo_baseurl+e]=!0,t||window.azexo_add_css(e,n)},add_js_list:function(e){for(var t=this.get_my_container(),n=0;n<e.paths.length;n++)t.js[window.azexo_baseurl+e.paths[n]]=!0
window.azexo_add_js_list(e)},add_js:function(e){var t=this.get_my_container()
t.js[window.azexo_baseurl+e.path]=!0,window.azexo_add_js(e)},add_external_js:function(e,t){var n=this.get_my_container()
n.js[e]=!0,window.azexo_add_external_js(e,t)},get_my_container:function(){return this instanceof wt?this:this.parent.get_my_container()},get_all_disallowed_elements:function(){if("parent"in this){var e=_.uniq(this.parent.get_all_disallowed_elements().concat(this.disallowed_elements))
return e}return this.disallowed_elements}},Z("az_unknown",!0,et),R(et.prototype,{has_content:!0,hidden:!0,show_controls:function(){},update_empty:function(){},render:function(e){if(this.dom_element=e('<div class = "az-element"></div>'),this.dom_content_element=this.dom_element,"content"in this.attrs){var t=/\[[^\]]*\]([^\[]*)\[\/[^\]]*\]/.exec(this.attrs.content)
t&&e(this.dom_element).append(t[1])}et.baseclass.prototype.render.apply(this,arguments)}}),!("azexo_baseurl"in window))if(e('script[src*="azexo_composer.js"]').length>0){var Wt=e('script[src*="azexo_composer.js"]').attr("src")
window.azexo_baseurl=Wt.slice(0,Wt.indexOf("azexo_composer.js"))}else if(e('script[src*="azexo_composer.min.js"]').length>0){var Wt=e('script[src*="azexo_composer.min.js"]').attr("src")
window.azexo_baseurl=Wt.slice(0,Wt.indexOf("azexo_composer.min.js"))}"azexo_online"in window||(window.azexo_online="http:"==window.location.protocol||"https:"==window.location.protocol),s=new G,"azexo_editor"in window||(window.azexo_editor=!1),nt(),at(function(){ot(),e.holdReady(!1)})
var Xt=!1
e.fn.azexo_composer=function(t){var n={init:function(t){e.extend({test:"test"},t)
return this.each(function(){var t=this,n=e(this).data("azexo_composer")
if(!n){var a=e("<div>"+e(t).val()+"</div>")[0]
e(a).find("> script").remove(),e(a).find("> link[href]").remove(),e(a).find("> .az-container > script").remove(),e(a).find("> .az-container > link[href]").remove(),e(t).css("display","none")
var i=null
e(a).find("> .az-container[data-az-type][data-az-name]").length>0?i=e(a).children().insertAfter(t):(i=e('<div class="az-element az-container" data-az-type="textarea" data-az-name="'+Math.random().toString(36).substr(2)+'"></div>').insertAfter(t),i.append(e(a).html())),window.azexo_title["Save container"]=p("Generate HTML and JS for all elements which placed in current container element.")
var n=it(i)
e(t).data("azexo_composer",n),n.save_container=function(){azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){_.defer(function(){if(n.id in s.elements_instances){var a=n.attrs.container.split("/")[1],i=n.get_container_html()
e(t).val(window.azexo_online?i:'<div class="az-element az-container" data-az-type="textarea" data-az-name="'+a+'">'+i+"</div>")}})}})},e(document).on("azexo_add_element",n.save_container),e(document).on("azexo_edited_element",n.save_container),e(document).on("azexo_update_element",n.save_container),e(document).on("azexo_delete_element",n.save_container),e(document).on("azexo_update_sorting",n.save_container)}})},show:function(){this.each(function(){})},hide:function(){this.each(function(){var t=e(this).data("azexo_composer")
if(t){s.delete_element(t.id)
for(var n=0;n<t.children.length;n++)t.children[n].remove()
e(t.dom_element).remove(),e(this).removeData("azexo_composer"),e(this).css("display","")}})}}
return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error(t):n.init.apply(this,arguments)}
var Vt={"":p("No animation"),js:p("JS animation"),bounce:p("bounce"),flash:p("flash"),pulse:p("pulse"),rubberBand:p("rubberBand"),shake:p("shake"),swing:p("swing"),tada:p("tada"),wobble:p("wobble"),bounceIn:p("bounceIn"),bounceInDown:p("bounceInDown"),bounceInLeft:p("bounceInLeft"),bounceInRight:p("bounceInRight"),bounceInUp:p("bounceInUp"),bounceOut:p("bounceOut"),bounceOutDown:p("bounceOutDown"),bounceOutLeft:p("bounceOutLeft"),bounceOutRight:p("bounceOutRight"),bounceOutUp:p("bounceOutUp"),fadeIn:p("fadeIn"),fadeInDown:p("fadeInDown"),fadeInDownBig:p("fadeInDownBig"),fadeInLeft:p("fadeInLeft"),fadeInLeftBig:p("fadeInLeftBig"),fadeInRight:p("fadeInRight"),fadeInRightBig:p("fadeInRightBig"),fadeInUp:p("fadeInUp"),fadeInUpBig:p("fadeInUpBig"),fadeOut:p("fadeOut"),fadeOutDown:p("fadeOutDown"),fadeOutDownBig:p("fadeOutDownBig"),fadeOutLeft:p("fadeOutLeft"),fadeOutLeftBig:p("fadeOutLeftBig"),fadeOutRight:p("fadeOutRight"),fadeOutRightBig:p("fadeOutRightBig"),fadeOutUp:p("fadeOutUp"),fadeOutUpBig:p("fadeOutUpBig"),flip:p("flip"),flipInX:p("flipInX"),flipInY:p("flipInY"),flipOutX:p("flipOutX"),flipOutY:p("flipOutY"),lightSpeedIn:p("lightSpeedIn"),lightSpeedOut:p("lightSpeedOut"),rotateIn:p("rotateIn"),rotateInDownLeft:p("rotateInDownLeft"),rotateInDownRight:p("rotateInDownRight"),rotateInUpLeft:p("rotateInUpLeft"),rotateInUpRight:p("rotateInUpRight"),rotateOut:p("rotateOut"),rotateOutDownLeft:p("rotateOutDownLeft"),rotateOutDownRight:p("rotateOutDownRight"),rotateOutUpLeft:p("rotateOutUpLeft"),rotateOutUpRight:p("rotateOutUpRight"),slideInDown:p("slideInDown"),slideInLeft:p("slideInLeft"),slideInRight:p("slideInRight"),slideOutLeft:p("slideOutLeft"),slideOutRight:p("slideOutRight"),slideOutUp:p("slideOutUp"),slideInUp:p("slideInUp"),slideOutDown:p("slideOutDown"),hinge:p("hinge"),rollIn:p("rollIn"),rollOut:p("rollOut"),zoomIn:p("zoomIn"),zoomInDown:p("zoomInDown"),zoomInLeft:p("zoomInLeft"),zoomInRight:p("zoomInRight"),zoomInUp:p("zoomInUp"),zoomOut:p("zoomOut"),zoomOutDown:p("zoomOutDown"),zoomOutLeft:p("zoomOutLeft"),zoomOutRight:p("zoomOutRight"),zoomOutUp:p("zoomOutUp")}
D(st,K),R(st.prototype,{params:[W({type:"dropdown",heading:p("Animation start"),param_name:"an_start",tab:p("Animation"),value:{"":p("No animation"),appear:p("On appear"),hover:p("On hover"),click:p("On click"),trigger:p("On trigger")}}),W({type:"dropdown",heading:p("Animation in"),param_name:"an_in",tab:p("Animation"),value:Vt,dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"dropdown",heading:p("JS animation in"),param_name:"an_js_in",tab:p("Animation"),value:{},dependency:{element:"an_in",value:["js"]}}),W({type:"dropdown",heading:p("Animation out"),param_name:"an_out",tab:p("Animation"),value:Vt,dependency:{element:"an_start",value:["hover","trigger"]}}),W({type:"dropdown",heading:p("JS animation out"),param_name:"an_js_out",tab:p("Animation"),value:{},dependency:{element:"an_out",value:["js"]}}),W({type:"checkbox",heading:p("Hidden"),param_name:"an_hidden",tab:p("Animation"),value:{before_in:p("Before in-animation"),after_in:p("After in-animation")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"checkbox",heading:p("Infinite?"),param_name:"an_infinite",tab:p("Animation"),value:{yes:p("Yes, please")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"dropdown",heading:p("By letters?"),param_name:"an_letters",tab:p("Animation"),value:{"":p("No"),sequence:p("Sequence"),reverse:p("Reverse"),sync:p("Sync"),shuffle:p("Shuffle")},dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"integer_slider",heading:p("Duration"),param_name:"an_duration",tab:p("Animation"),max:"3000",description:p("In milliseconds."),value:"1000",dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"integer_slider",heading:p("In-delay"),param_name:"an_in_delay",tab:p("Animation"),max:"10000",description:p("In milliseconds."),value:"0",dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"integer_slider",heading:p("Out-delay"),param_name:"an_out_delay",tab:p("Animation"),max:"10000",description:p("In milliseconds."),value:"0",dependency:{element:"an_start",value:["hover","trigger"]}}),W({type:"integer_slider",heading:p("Parent number"),param_name:"an_parent",tab:p("Animation"),max:"10",min:"0",description:p("Define the number of Parent Containers the animation should attempt to break away from."),value:"1",dependency:{element:"an_start",value:["hover","click"]}}),W({type:"dropdown",heading:p("Animation fill mode"),param_name:"an_fill_mode",tab:p("Animation"),value:{"":p("Default"),forwards:p("Forwards"),backwards:p("Backwards"),both:p("Both"),none:p("None")},description:p('"FORWARDS" - after the animation ends (determined by animation-iteration-count), the animation will apply the property values for the time the animation ended; "BACKWARDS" - The animation will apply the property values defined in the keyframe that will start the first iteration of the animation, during the period defined by animation-delay. These are either the values of the from keyframe (when animation-direction is "normal" or "alternate") or those of the to keyframe (when animation-direction is "reverse" or "alternate-reverse"); "BOTH" - the animation will follow the rules for both forwards and backwards. That is, it will extend the animation properties in both directions; "NONE" - The animation will not apply any styles to the target before or after it is executing.'),dependency:{element:"an_start",value:["appear","hover","click","trigger"]}}),W({type:"textfield",heading:p("Name for animations"),param_name:"an_name",hidden:!0}),W({type:"textfield",heading:p("Animation scenes"),param_name:"an_scenes",hidden:!0})].concat(st.prototype.params),set_in_timeout:function(){var t=this
t.in_timeout=setTimeout(function(){if(t.clear_animation(),""==t.attrs.an_letters)if("js"==t.attrs.an_in){e(t.dom_element).css("opacity","")
var n=t.attrs.an_js_in.split("-"),a=s.elements_instances_by_an_name[n[0]],i=a.an_scenes[parseInt(n[1])]
t.timeline_in=t.make_timeline(i,function(){t.end_animation()}),t.timeline_in.play(),t.animation_in=!0,t.animated=!0}else e(t.dom_element).css("opacity",""),e(t.dom_element).removeClass("animated"),e(t.dom_element).removeClass(t.attrs.an_in),e(t.dom_element).removeClass(t.attrs.an_out),t.animation_in=!1,t.animation_out=!1,e(t.dom_element).css("animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("-webkit-animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).addClass("animated"),t.animated=!0,"yes"==t.attrs.an_infinite&&e(t.dom_element).addClass("infinite"),e(t.dom_element).addClass(t.attrs.an_in),t.animation_in=!0
else{t.animation_letters(),e(t.dom_element).css("opacity","")
for(var o=0;o<t.textillate_elements.length;o++)e(t.textillate_elements[o]).textillate("in")
t.animation_in=!0,t.animated=!0}},Math.round(t.attrs.an_in_delay))},start_in_animation:function(){var t=this
0==e(t.dom_element).parents(".azexo-animations-disabled").length&&(""!=t.attrs.an_in||""!=t.attrs.an_js_in)&&(t.animated?t.animation_out?t.set_in_timeout():t.out_timeout>0&&(clearTimeout(t.out_timeout),t.hidden_after_in||t.set_in_timeout()):t.set_in_timeout())},set_out_timeout:function(){var t=this
t.out_timeout=setTimeout(function(){if(t.clear_animation(),""==t.attrs.an_letters)if("js"==t.attrs.an_out){e(t.dom_element).css("opacity","")
var n=t.attrs.an_js_out.split("-"),a=s.elements_instances_by_an_name[n[0]],i=a.an_scenes[parseInt(n[1])]
t.timeline_out=t.make_timeline(i,function(){t.end_animation()}),t.timeline_out.play(),t.animation_out=!0,t.animated=!0}else e(t.dom_element).css("opacity",""),e(t.dom_element).removeClass("animated"),e(t.dom_element).removeClass(t.attrs.an_in),e(t.dom_element).removeClass(t.attrs.an_out),t.animation_in=!1,t.animation_out=!1,e(t.dom_element).css("animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("-webkit-animation-duration",t.attrs.an_duration+"ms"),e(t.dom_element).css("animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).css("-webkit-animation-fill-mode",t.attrs.an_fill_mode),e(t.dom_element).addClass("animated"),t.animated=!0,"yes"==t.attrs.an_infinite&&e(t.dom_element).addClass("infinite"),e(t.dom_element).addClass(t.attrs.an_out),t.animation_out=!0
else{t.animation_letters(),e(t.dom_element).css("opacity","")
for(var o=0;o<t.textillate_elements.length;o++)e(t.textillate_elements[o]).textillate("out")
t.animation_out=!0,t.animated=!0}},Math.round(t.attrs.an_out_delay))},start_out_animation:function(){var t=this
0==e(t.dom_element).parents(".azexo-animations-disabled").length&&(""!=t.attrs.an_out||""!=t.attrs.an_js_out)&&(t.animated?t.animation_in?t.set_out_timeout():t.in_timeout>0&&(clearTimeout(t.in_timeout),t.hidden_before_in||t.set_out_timeout()):t.set_out_timeout())},clear_animation:function(){if(this.animation_in&&(this.hidden_before_in&&e(this.dom_element).css("opacity","1"),this.hidden_after_in&&e(this.dom_element).css("opacity","0")),this.animation_out&&(this.hidden_before_in&&e(this.dom_element).css("opacity","0"),this.hidden_after_in&&e(this.dom_element).css("opacity","1")),""==this.attrs.an_letters)e(this.dom_element).hasClass("animated")?(e(this.dom_element).css("animation-duration",""),e(this.dom_element).css("-webkit-animation-duration",""),e(this.dom_element).css("animation-fill-mode",""),e(this.dom_element).css("-webkit-animation-fill-mode",""),e(this.dom_element).removeClass("animated"),this.animated=!1,e(this.dom_element).removeClass("infinite"),""==this.attrs.an_fill_mode&&(e(this.dom_element).removeClass(this.attrs.an_in),e(this.dom_element).removeClass(this.attrs.an_out),this.animation_in=!1,this.animation_out=!1)):("timeline_in"in this&&(this.timeline_in.resume(),this.timeline_in.kill(),delete this.timeline_in),"timeline_out"in this&&(this.timeline_out.resume(),this.timeline_out.kill(),delete this.timeline_out),this.animation_in=!1,this.animation_out=!1,this.animated=!1)
else{if("textillate_elements"in this){for(var t=0;t<this.textillate_elements.length;t++){e(this.textillate_elements[t]).data("textillate",!1),e(this.textillate_elements[t]).find("> span").remove()
var n=e(this.textillate_elements[t]).find("> ul > li").text()
e(this.textillate_elements[t]).find("> ul").remove(),e(this.textillate_elements[t]).text(n)}this.textillate_elements=[]}this.animation_in=!1,this.animation_out=!1,this.animated=!1}},end_animation:function(){this.in_timeout=0,this.out_timeout=0,this.animation_in&&(this.clear_animation(),"hover"!=this.attrs.an_start||this.hover||(this.attrs.an_in!=this.attrs.an_out?this.start_out_animation():"js"==this.attrs.an_in&&this.attrs.an_js_in!=this.attrs.an_js_out&&this.start_out_animation())),this.animation_out&&(this.clear_animation(),"hover"==this.attrs.an_start&&this.hover&&(this.attrs.an_in!=this.attrs.an_out?this.start_in_animation():"js"==this.attrs.an_in&&this.attrs.an_js_in!=this.attrs.an_js_out&&this.start_in_animation()))},trigger_start_in_animation:function(){if("trigger"==this.attrs.an_start)this.start_in_animation()
else for(var e=0;e<this.children.length;e++)"trigger_start_in_animation"in this.children[e]&&this.children[e].trigger_start_in_animation()},trigger_start_out_animation:function(){if("trigger"==this.attrs.an_start)this.start_out_animation()
else for(var e=0;e<this.children.length;e++)"trigger_start_out_animation"in this.children[e]&&this.children[e].trigger_start_out_animation()},animation_letters:function(){var t=this
t.textillate_elements=[]
var n=0,a=0
e(t.dom_element).find(":not(:has(*)):not(.control)").each(function(){var i=e(this).text().trim()
if(""!=i){n++
var o=!1,s=!1,r=!1
switch(t.attrs.an_letters){case"sequence":break
case"reverse":r=!0
break
case"sync":o=!0
break
case"shuffle":s=!0}t.textillate_elements.push(this),e(this).textillate(),e(this).textillate({loop:!1,autoStart:!1,"in":{effect:t.attrs.an_in,delayScale:1.5,delay:parseInt(t.attrs.an_duration)/i.length,sync:o,shuffle:s,reverse:r,callback:function(){a++,n>=a&&t.end_animation()}},out:{effect:t.attrs.an_out,delayScale:1.5,delay:parseInt(t.attrs.an_duration)/i.length,sync:o,shuffle:s,reverse:r,callback:function(){a++,n>=a&&t.end_animation()}}}).on("inAnimationBegin.tlt outAnimationBegin.tlt",function(){a=0}),e(this).data("textillate").currentIndex=0}})},animation:function(){var t=this
t.hidden_before_in=_.indexOf(t.attrs.an_hidden.split(","),"before_in")>=0,t.hidden_after_in=_.indexOf(t.attrs.an_hidden.split(","),"after_in")>=0,t.hidden_before_in&&e(t.dom_element).css("opacity","0"),t.hidden_after_in&&e(t.dom_element).css("opacity","1")
var n=t.attrs.an_parent
""==n&&(n=1),n=Math.round(n)
for(var a=0,i=e(t.dom_element);n>a;)i=e(i).parent().closest("[data-az-id]"),a++
if(""!=t.attrs.an_start){t.in_timeout=0,t.out_timeout=0,t.animated=!1,t.animation_in=!1,t.animation_out=!1,""!=t.attrs.an_letters||(e(t.dom_element).off("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation"),e(t.dom_element).on("webkitAnimationEnd.az_animation mozAnimationEnd.az_animation MSAnimationEnd.az_animation oanimationend.az_animation animationend.az_animation",function(){t.end_animation()}))
var o=function(){switch(e(i).off("click.az_animation"),e(i).off("mouseenter.az_animation"),e(i).off("mouseleave.az_animation"),t.attrs.an_start){case"click":e(i).on("click.az_animation",function(){t.animated||t.start_in_animation()})
break
case"appear":t.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){t.animated||t.start_in_animation()},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})
break
case"hover":e(i).on("mouseenter.az_animation",function(){t.hover=!0,t.start_in_animation()}),e(i).on("mouseleave.az_animation",function(){t.hover=!1,t.start_out_animation()})
break
case"trigger":}}
t.add_css("animate.css/animate.min.css",!1,function(){""==t.attrs.an_letters?""!=t.attrs.an_js_in||""!=t.attrs.an_js_out?t.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js"],loaded:"TimelineMax"in window&&"TweenMax"in window,callback:o}):o():t.add_js_list({paths:["textillate/assets/jquery.lettering.js","js/textillate.js"],loaded:"textillate"in e.fn&&"lettering"in e.fn,callback:o})})}},update_js_animations_list:function(){var e={}
for(var t in s.elements_instances_by_an_name)for(var n=0;n<s.elements_instances_by_an_name[t].an_scenes.length;n++)"-1"==s.elements_instances_by_an_name[t].an_scenes[n].duration&&(e[t+"-"+n]=n+" "+p("scene in")+" "+t+" "+p("element"))
for(var n=0;n<this.params.length;n++)("an_js_in"==this.params[n].param_name||"an_js_out"==this.params[n].param_name)&&(this.params[n].value=e)},edit:function(){this.update_js_animations_list(),st.baseclass.prototype.edit.apply(this,arguments)},clone:function(){this.clear_animation(),st.baseclass.prototype.clone.apply(this,arguments)},show_controls:function(){var t=this
window.azexo_editor&&(st.baseclass.prototype.show_controls.apply(this,arguments),e('<button title="'+c("JS animation")+'" class="control js-animation '+n+"btn "+n+"btn-warning "+n+"glyphicon "+n+'glyphicon-sort"> </button>').appendTo(this.controls).click(function(){e("#az-js-animation-modal").remove()
var i='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+p("JS animation settings")+"</h4></div>",o='<div class="'+n+'modal-footer"><button type="button" class="'+n+"btn "+n+'btn-default" data-dismiss="modal">'+p("Close")+'</button><button type="button" class="save '+n+"btn "+n+'btn-primary">'+p("Save changes")+"</button></div>",r=e('<div id="az-js-animation-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+i+'<div class="'+n+'modal-body"></div>'+o+"</div></div></div>").prependTo("body"),l=e('<div id="az-js-animation-tabs"><ul class="'+n+"nav "+n+'nav-tabs"><li><a href="#script" data-toggle="tab">'+p("Script")+'</a></li><li><a href="#wizards" data-toggle="tab">'+p("Wizards")+'</a></li></ul><div class="'+n+'tab-content"><div id="script" class="'+n+'tab-pane"></div><div id="wizards" class="'+n+'tab-pane"></div></div></div>')
e(r).find("."+n+"modal-body").append(l)
var d=e('<div id="az-js-animation-form" class="'+n+'clearfix"><div class="tree '+n+'col-sm-5"></div><div class="options '+n+'col-sm-7"></div></div>')
return e(l).find("#script").append(d),e('#az-js-animation-tabs a[href="#script"]')[a+"tab"]("show"),azexo_add_css("jstree/dist/themes/default/style.min.css",function(){}),e(d).find(".tree").append('<div class="'+n+'form-group an-name"><label>'+p("Name")+'</label><div><input class="'+n+'form-control" name="an_name" type="text" value="'+t.an_name+'" required ></div><p class="'+n+'help-block">'+p("Name to identify this element in JS animations")+"</p></div>"),azexo_add_js({path:"jstree/dist/jstree.min.js",loaded:"jstree"in e.fn,callback:function(){function i(e){switch(e.duration){case"-1":return p("Real time library scene")
case"0":return p("Scroll real time scene")+":"+e.offset+"|"+e.triggerHook
default:return p("Scroll scene")+":"+e.duration+"|"+e.offset+"|"+e.triggerHook}}function o(e){return p("Tween")+":"+e.target+"|"+e.duration}function r(t){switch(e(d).find(".options").empty(),e(d).find(".options").append('<div class="'+n+'form-group"><label>'+p("Type")+'</label><div class="'+n+'radio"><label><input type="radio" name="type" value="library">'+p("Real time, store in library")+'</label></div><div class="'+n+'radio"><label><input type="radio" name="type" value="scroll">'+p("Scroll position as time line")+'</label></div><div class="'+n+'radio"><label><input type="radio" name="type" value="real">'+p("Real time fired by scroll position")+"</label></div></div>"),e(d).find('.options [name="type"]').on("change",function(){if(e(this).is(":checked"))switch(e(this).val()){case"library":e(d).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","block"),e(d).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","none"),b[t].duration="-1",k.jstree("edit",t,i(b[t]))
break
case"scroll":e(d).find(".options ."+n+"form-group.duration, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block"),e(d).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay").css("display","none"),e(d).find('.options [name="duration"]').val("1000"),b[t].duration=e(d).find('.options [name="duration"]').val(),k.jstree("edit",t,i(b[t]))
break
case"real":e(d).find(".options ."+n+"form-group.duration").css("display","none"),e(d).find(".options ."+n+"form-group.repeat, .options ."+n+"form-group.repeatdelay, .options ."+n+"form-group.offset, .options ."+n+"form-group.trigger, .options ."+n+"form-group.pin").css("display","block"),b[t].duration="0",k.jstree("edit",t,i(b[t]))}}),b[t].duration){case"-1":e(d).find('.options [name="type"][value="library"]').attr("checked","checked")
break
case"0":e(d).find('.options [name="type"][value="real"]').attr("checked","checked")
break
default:e(d).find('.options [name="type"][value="scroll"]').attr("checked","checked")}e(d).find(".options").append('<div class="'+n+'form-group duration"><label>'+p("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+b[t].duration+'"></div><p class="'+n+'help-block">'+p("The duration of the scene in pixels")+"</p></div>"),e(d).find('.options [name="duration"]').on("change",function(){b[t].duration=e(this).val(),k.jstree("edit",t,i(b[t]))}),e(d).find(".options").append('<div class="'+n+'form-group offset"><label>'+p("Offset")+'</label><div><input class="'+n+'form-control" name="offset" type="text" value="'+b[t].offset+'"></div><p class="'+n+'help-block">'+p("Offset Value (in pixels) for the Trigger Position.")+"</p></div>"),e(d).find('.options [name="offset"]').on("change",function(){b[t].offset=e(this).val(),k.jstree("edit",t,i(b[t]))}),e(d).find(".options").append('<div class="'+n+'form-group repeat"><label>'+p("Repeat")+'</label><div class="'+n+'checkbox"><label><input type="checkbox" name="indefinite"> '+p("repeat indefinitely")+'</label></div><div><input class="'+n+'form-control" name="repeat" type="text" value="'+b[t].repeat+'"></div><p class="'+n+'help-block">'+p("Number of times that the timeline should repeat after its first iteration")+"</p></div>"),e(d).find('.options [name="repeat"]').on("change",function(){b[t].repeat=e(this).val()}),e(d).find('.options [name="indefinite"]').on("change",function(){e(this).prop("checked")?(b[t].repeat="-1",e(d).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")):(b[t].repeat=e(d).find('.options [name="repeat"]').val(),b[t].repeat<0&&(e(d).find('.options [name="repeat"]').val("0"),b[t].repeat=0),e(d).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block"))}),"-1"==b[t].repeat?(e(d).find('.options [name="indefinite"]').attr("checked","checked"),e(d).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","none")):e(d).find(".options ."+n+"form-group.repeat ."+n+"form-control").css("display","block"),e(d).find(".options").append('<div class="'+n+'form-group repeatdelay"><label>'+p("Repeat delay")+'</label><div><input class="'+n+'form-control" name="repeatDelay" type="text" value="'+b[t].repeatDelay+'"></div><p class="'+n+'help-block">'+p("Amount of time in seconds between repeats.")+"</p></div>"),e(d).find('.options [name="repeatDelay"]').on("change",function(){b[t].repeatDelay=e(this).val()})
var a=["onEnter","onCenter","onLeave"]
a=_.object(a,a),e(d).find(".options").append('<div class="'+n+'form-group trigger"><label>'+p("Trigger hook")+"</label><div>"+$(a,"trigger-hook",b[t].triggerHook)+'</div><p class="'+n+'help-block">'+p("Trigger hook")+"</p></div>"),e(d).find('.options [name="trigger-hook"]').on("change",function(){b[t].triggerHook=e(this).val(),k.jstree("edit",t,i(b[t]))}),e(d).find(".options").append('<div class="'+n+'form-group pin"><label>'+p("Pin")+"</label><div>"+$(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"pin",b[t].pin)+'</div><p class="'+n+'help-block">'+p("Pin element")+"</p></div>"),e(d).find('.options [name="pin"]').on("change",function(){b[t].pin=e(this).val()}),e(d).find('.options [name="type"]').trigger("change")}function m(e){t.an_scenes.push({duration:""+e,offset:0,triggerHook:"onCenter",timeline:[],repeat:"0",repeatDelay:"0"})
var n=k.jstree("create_node","#",{type:"scene",text:i(t.an_scenes[t.an_scenes.length-1]),state:{opened:!0}},"last")
b[n]=t.an_scenes[t.an_scenes.length-1],w[n]="scene",u(n)}function h(){e(d).find(".options").empty()}function u(e){var t=k.jstree("get_children_dom",e).length,n=k.jstree("create_node",e,{type:"step",text:p("Step")+":"+t,state:{opened:!0}},"last")
b[e].timeline.push({tweens:[]}),b[n]=b[e].timeline[b[e].timeline.length-1],w[n]="step",x[n]=e,g(n)}function f(t){function a(t,a,i){function o(t,o,l){function d(){var t=e(h).find('[name="'+p+'"]').val()
""!=o&&o!=t&&delete a[i][o]
var n=e(h).find('[name="'+m+'"]').val()
""!=t&&(o=t,_.isObject(a[i])||(a[i]={}),a[i][t]=n)}var p="property"+s,m="property"+s+"value",h=e('<div class="row"><div class="select '+n+'col-xs-5">'+$(r,p,o)+'</div><div class="value '+n+'col-xs-5"><input class="'+n+'form-control" name="'+m+'" type="text" value="'+l+'"></div><div class="remove '+n+'col-xs-2"><button title="'+c("Remove")+'" type="button" class="control remove '+n+"btn "+n+"btn-danger "+n+"glyphicon "+n+'glyphicon-remove"> </button></div></div>').appendTo(t)
return e(h).find('[name="'+p+'"]').chosen({search_contains:!0}),e(h).find('[name="'+p+'"]').change(function(){d()}),e(h).find('[name="'+m+'"]').change(function(){d()}),e(h).find("button.remove").click(function(){var t=e(h).find('[name="'+p+'"]').val()
""!=t&&_.isObject(a[i])&&delete a[i][t],e(h).remove()}),s++,h}var s=0,r=_.keys(document.body.style)
r=_.object(r,r)
var l=e('<div><div class="'+n+'form-group properties"></div><div class="add-property"></div></div>').appendTo(t)
for(var d in a[i])var m=o(e(l).find(".properties"),d,a[i][d])
e('<button title="'+c("Add property")+'" class="add-property '+n+"btn "+n+'btn-default">'+p("Add property")+"</button>").appendTo(e(l).find(".add-property")).click(function(){o(e(l).find(".properties"),"","")})}var i=x[x[t]]
e(d).find(".options").empty(),"-1"!=b[i].duration&&(e(d).find(".options").append('<div class="'+n+'form-group"><label>'+p("Target")+"</label><div>"+$(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"target",b[t].target)+'</div><p class="'+n+'help-block">'+p("Target element")+"</p></div>"),e(d).find('.options [name="target"]').on("change",function(){b[t].target=e(this).val(),k.jstree("edit",t,o(b[t]))})),e(d).find(".options").append('<div class="'+n+'form-group duration"><label>'+p("Duration")+'</label><div><input class="'+n+'form-control" name="duration" type="text" value="'+b[t].duration+'"></div><p class="'+n+'help-block">'+p("Duration of the tween in seconds.")+"</p></div>"),e(d).find('.options [name="duration"]').on("change",function(){b[t].duration=e(this).val(),k.jstree("edit",t,o(b[t]))}),e(d).find(".options").append('<div class="'+n+'form-group"><label>'+p("From")+'</label><div class="from"></div><p class="'+n+'help-block">'+p("From")+"</p></div>"),a(e(d).find(".options .from"),b[t].from,"css"),e(d).find(".options").append('<div class="'+n+'form-group"><label>'+p("To")+'</label><div class="to"></div><p class="'+n+'help-block">'+p("To")+"</p></div>"),a(e(d).find(".options .to"),b[t].to,"css")
for(var r=["Linear","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","SlowMo","SteppedEase","Circ","Expo","Sine"],l=[],m=0;m<r.length;m++)l.push(r[m]+".easeNone"),l.push(r[m]+".easeIn"),l.push(r[m]+".easeOut"),l.push(r[m]+".easeInOut")
l=_.object(l,l),e(d).find(".options").append('<div class="'+n+'form-group"><label>'+p("Ease")+"</label><div>"+$(l,"ease",b[t].ease)+'</div><p class="'+n+'help-block">'+p("Ease")+"</p></div>"),e(d).find('.options [name="ease"]').on("change",function(){b[t].ease=e(this).val()}),e(d).find('.options [name="ease"]').chosen({search_contains:!0}),e(d).find(".options").append('<div class="'+n+'form-group delay"><label>'+p("Delay")+'</label><div><input class="'+n+'form-control" name="delay" type="text" value="'+b[t].delay+'"></div><p class="'+n+'help-block">'+p("Amount of delay in seconds before the tween should begin.")+"</p></div>"),e(d).find('.options [name="delay"]').on("change",function(){b[t].delay=e(this).val()}),"0"!=b[i].duration&&"-1"!=b[i].duration&&(e(d).find(".options ."+n+"form-group.duration").css("display","none"),e(d).find(".options ."+n+"form-group.delay").css("display","none"))}function g(e){b[e].tweens.push({target:"",duration:1,from:{},to:{},ease:"Linear.easeNone",delay:"0"})
var t=k.jstree("create_node",e,{type:"tween",text:o(b[e].tweens[b[e].tweens.length-1]),state:{opened:!0}},"last")
b[t]=b[e].tweens[b[e].tweens.length-1],w[t]="tween",x[t]=e}function v(e){switch(w[e]){case"scene":var n=t.an_scenes.indexOf(b[e])
if(n>-1)return[n]
break
case"step":var n=t.an_scenes.indexOf(b[x[e]])
if(n>-1){var a=t.an_scenes[n].timeline.indexOf(b[e])
if(a>-1)return[n,a]}break
case"tween":var n=t.an_scenes.indexOf(b[x[x[e]]])
if(n>-1){var a=t.an_scenes[n].timeline.indexOf(b[x[e]])
if(a>-1){var i=t.an_scenes[n].timeline[a].tweens.indexOf(b[e])
if(i>-1)return[n,a,i]}}}return!1}function y(){for(var e=0;e<t.an_scenes.length;e++){var n=k.jstree("create_node","#",{type:"scene",text:i(t.an_scenes[e]),state:{opened:!0}},"last")
b[n]=t.an_scenes[e],w[n]="scene"
for(var a=0;a<t.an_scenes[e].timeline.length;a++){var s=k.jstree("create_node",n,{type:"step",text:p("Step")+":"+a,state:{opened:!0}},"last")
b[s]=t.an_scenes[e].timeline[a],w[s]="step",x[s]=n
for(var r=0;r<t.an_scenes[e].timeline[a].tweens.length;r++){var l=k.jstree("create_node",s,{type:"tween",text:o(t.an_scenes[e].timeline[a].tweens[r]),state:{opened:!0}},"last")
b[l]=t.an_scenes[e].timeline[a].tweens[r],w[l]="tween",x[l]=s}}}}var b={},w={},x={},z=e('<div class="'+n+"btn-group "+n+'btn-group-xs"></div>').appendTo(e(d).find(".tree"))
e('<button title="'+c("Add scene")+'" class="add-scene '+n+"btn "+n+'btn-default">'+p("Add scene")+"</button>").appendTo(z).click(function(){m("-1")}),e('<button title="'+c("Add timeline step")+'" class="add-step '+n+"btn "+n+'btn-default" disabled>'+p("Add step")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
u(e[0])}),e('<button title="'+c("Add tween")+'" class="add-tween '+n+"btn "+n+'btn-default" disabled>'+p("Add tween")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
g(e[0])}),e('<button title="'+c("Delete")+'" class="delete '+n+"btn "+n+'btn-default">'+p("Delete")+"</button>").appendTo(z).click(function(){var e=k.jstree("get_selected")
e.length>0&&k.jstree("delete_node",e[0])})
var k=e('<div id="jstree"></div>').appendTo(e(d).find(".tree")).jstree({core:{check_callback:function(){return!0},multiple:!1,animation:0},types:{"#":{valid_children:["scene"]},scene:{icon:n+"glyphicon "+n+"glyphicon-play",valid_children:["step"]},step:{icon:n+"glyphicon "+n+"glyphicon-step-forward",valid_children:["tween"]},tween:{icon:n+"glyphicon "+n+"glyphicon-leaf",valid_children:[]}},plugins:["dnd","types"]}).on("changed.jstree",function(t,n){for(var a=0;a<n.selected.length;a++){var i=n.instance.get_node(n.selected[a]).id
switch(w[i]){case"scene":e(z).find(".add-step").removeAttr("disabled"),e(z).find(".add-tween").attr("disabled","disabled"),r(i)
break
case"step":e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").removeAttr("disabled"),h(i)
break
case"tween":e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").attr("disabled","disabled"),f(i)
break
default:e(z).find(".add-step").attr("disabled","disabled"),e(z).find(".add-tween").attr("disabled","disabled")}}}).on("delete_node.jstree",function(e,n){var a=(n.node.id,v(n.node.id))
switch(a.length){case 1:t.an_scenes.splice(a[0],1)
break
case 2:t.an_scenes[a[0]].timeline.splice(a[1],1)
break
case 3:t.an_scenes[a[0]].timeline[a[1]].tweens.splice(a[2],1)}}).on("move_node.jstree",function(e,n){var a=v(n.node.id)
if(n.parent==n.old_parent)switch(a.length){case 1:t.an_scenes.splice(n.position,0,t.an_scenes.splice(n.old_position,1)[0])
break
case 2:t.an_scenes[a[0]].timeline.splice(n.position,0,t.an_scenes[a[0]].timeline.splice(n.old_position,1)[0])
break
case 3:t.an_scenes[a[0]].timeline[a[1]].tweens.splice(n.position,0,t.an_scenes[a[0]].timeline[a[1]].tweens.splice(n.old_position,1)[0])}else{var i=v(n.parent),o=null
switch(a.length){case 1:o=t.an_scenes.splice(a[0],1)[0]
break
case 2:o=t.an_scenes[a[0]].timeline.splice(a[1],1)[0]
break
case 3:o=t.an_scenes[a[0]].timeline[a[1]].tweens.splice(a[2],1)[0]}switch(i.length){case 0:t.an_scenes.splice(n.position,0,o)
break
case 1:t.an_scenes[i[0]].timeline.splice(n.position,0,o)
break
case 2:t.an_scenes[i[0]].timeline[i[1]].tweens.splice(n.position,0,o)}}})
t.an_name="","an_name"in t.attrs&&(t.an_name=t.attrs.an_name,s.elements_instances_by_an_name[t.an_name]=t),t.an_scenes=[],"an_scenes"in t.attrs&&(t.an_scenes=e.parseJSON(decodeURIComponent(atob(t.attrs.an_scenes)))),y(),e('<div class="'+n+'form-group"><label>'+p("Choose a wizard")+"</label>"+$({vparalax:"Vertical paralax for child element"},"wizard","")+'</div><div id="wizard-form"></div>').appendTo(e(l).find("#wizards")),e(l).find('#wizards [name="wizard"]').change(function(){switch(e(l).find("#wizard-form").empty(),e(this).val()){case"vparalax":e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Target")+"</label><div>"+$(_.object(_.keys(s.elements_instances_by_an_name),_.keys(s.elements_instances_by_an_name)),"target","")+'</div><p class="'+n+'help-block">'+p("Target element")+"</p></div>"),e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Shift")+'</label><div><input class="'+n+'form-control" name="shift" type="text" value="1000"></div><p class="'+n+'help-block">'+p("Number of pixels before/after original position when animation start/stop.")+"</p></div>"),e(l).find("#wizard-form").append('<div class="'+n+'form-group"><label>'+p("Speed")+'</label><div><input class="'+n+'form-control" name="speed" type="text" value="1"></div><p class="'+n+'help-block">'+p("Speed ratio. Where 1 mean speed which is equal to viewport speed.")+"</p></div>"),e('<button title="'+c("Create script")+'" class="create-script '+n+"btn "+n+'btn-default">'+p("Create script")+"</button>").appendTo(e(l).find("#wizard-form")).click(function(){var n=parseInt(e(l).find('#wizard-form [name="shift"]').val()),i=parseFloat(e(l).find('#wizard-form [name="speed"]').val()),o=e(l).find('#wizard-form [name="target"]').val(),r=s.elements_instances_by_an_name[o]
if(e(t.dom_element).find(r.dom_element).length>0){var d={target:o,duration:1,from:{css:{transform:"translateY("+n*i+"px)"}},to:{css:{transform:"translateY("+-n*i+"px)"}},ease:"Linear.easeNone",delay:"0"},c={tweens:[d]},m=e(r.dom_element).offset().top-e(t.dom_element).offset().top,h={duration:2*n,offset:m-n,triggerHook:"onCenter",timeline:[c],repeat:"0",repeatDelay:"0"}
t.an_scenes.push(h)
var u=_.clone(t.an_scenes)
e("#jstree .jstree-node").each(function(){k.jstree("delete_node",e(this).attr("id"))}),t.an_scenes=u,y(),e('#az-js-animation-tabs a[href="#script"]')[a+"tab"]("show")}else e(l).find("#wizard-form").prepend(F(p("Animated target element must be child of the current element.")))})}})}}),e("#az-js-animation-modal").find(".save").click(function(){return e(d).find('.tree [name="an_name"]'),""==e(d).find('.tree [name="an_name"]').val()?(e(d).find(".tree .an-name").addClass("has-error"),!1):(azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){t.an_name=e(d).find('.tree [name="an_name"]').val(),""!=t.an_name&&(t.attrs.an_name=t.an_name,s.elements_instances_by_an_name[t.an_name]=t,e(t.dom_element).attr("data-an-name",t.an_name)),t.attrs.an_scenes=btoa(encodeURIComponent(JSON.stringify(t.an_scenes))),t.update_scroll_animation()}}),e("#az-js-animation-modal")[a+"modal"]("hide"),e(document).trigger("azexo_edited_element",t.id),!1)}),e("#az-js-animation-modal")[a+"modal"]("show"),!1}))},make_timeline:function(e,t){var n={};("0"==e.duration||"-1"==e.duration)&&(n={repeat:parseInt(e.repeat),repeatDelay:parseFloat(e.repeatDelay)}),null!=t&&(n.onComplete=t)
for(var a=new TimelineMax(n),i=0;i<e.timeline.length;i++){for(var o=[],s=0;s<e.timeline[i].tweens.length;s++){var r='[data-az-id="'+this.id+'"]'
""!=e.timeline[i].tweens[s].target&&(r='[data-an-name="'+e.timeline[i].tweens[s].target+'"]')
var l=_.keys(e.timeline[i].tweens[s].from),d=_.keys(e.timeline[i].tweens[s].to)
if(0==l.length&&d.length>0){var c=e.timeline[i].tweens[s].to
c.ease=e.timeline[i].tweens[s].ease,c.delay=parseFloat(e.timeline[i].tweens[s].delay),o.push(TweenMax.to(r,e.timeline[i].tweens[s].duration,c))}if(l.length>0&&0==d.length){var p=e.timeline[i].tweens[s].from
p.ease=e.timeline[i].tweens[s].ease,p.delay=parseFloat(e.timeline[i].tweens[s].delay),o.push(TweenMax.from(r,e.timeline[i].tweens[s].duration,p))}if(l.length>0&&d.length>0){var p=e.timeline[i].tweens[s].from
p.ease=e.timeline[i].tweens[s].ease,p.delay=e.timeline[i].tweens[s].delay
var c=e.timeline[i].tweens[s].to
c.ease=e.timeline[i].tweens[s].ease,c.delay=parseFloat(e.timeline[i].tweens[s].delay),o.push(TweenMax.fromTo(r,e.timeline[i].tweens[s].duration,p,c))}}a.add(o)}return a},update_scroll_animation:function(){var t=this
this.add_js_list({paths:["ScrollMagic/js/_dependent/greensock/TweenMax.min.js","ScrollMagic/js/_dependent/greensock/TimelineMax.min.js","ScrollMagic/js/jquery.scrollmagic.min.js"],loaded:"ScrollMagic"in window,callback:function(){if(null==r){var n={}
window.azexo_editor,r=new ScrollMagic(n)}if(e.isArray(t.scroll_magic_scenes))for(var a=0;a<t.scroll_magic_scenes.length;a++)"indicators"in t.scroll_magic_scenes[a]&&"remove"in t.scroll_magic_scenes[a].indicators&&t.scroll_magic_scenes[a].indicators.remove(),r.removeScene(t.scroll_magic_scenes[a])
if(t.scroll_magic_scenes=[],0==e(t.dom_element).parents(".azexo-animations-disabled").length)for(var a=0;a<t.an_scenes.length;a++)if("-1"!=t.an_scenes[a].duration){var n={triggerElement:'[data-az-id="'+t.id+'"]',duration:t.an_scenes[a].duration,offset:t.an_scenes[a].offset,triggerHook:t.an_scenes[a].triggerHook},i=new ScrollScene(n).addTo(r)
t.scroll_magic_scenes.push(i),window.azexo_editor&&!function(e){t.add_js({path:"ScrollMagic/js/jquery.scrollmagic.debug.js",callback:function(){e.addIndicators({suffix:t.an_name})}})}(i),"pin"in t.an_scenes[a]&&""!=t.an_scenes[a].pin&&i.setPin('[data-an-name="'+t.an_scenes[a].pin+'"]')
var o=t.make_timeline(t.an_scenes[a],null)
i.setTween(o)}}})},showed:function(e){st.baseclass.prototype.showed.apply(this,arguments),this.an_name="","an_name"in this.attrs&&""!=this.attrs.an_name&&(this.an_name=this.attrs.an_name,s.elements_instances_by_an_name[this.an_name]=this),this.an_scenes=[],"an_scenes"in this.attrs&&""!=this.attrs.an_scenes&&(this.an_scenes=e.parseJSON(decodeURIComponent(atob(this.attrs.an_scenes))),this.update_scroll_animation()),"an_start"in this.attrs&&""!=this.attrs.an_start&&"no"!=this.attrs.an_start&&this.animation()},render:function(e){"an_name"in this.attrs&&""!=this.attrs.an_name&&e(this.dom_element).attr("data-an-name",this.attrs.an_name),st.baseclass.prototype.render.apply(this,arguments)}}),rt("az_row",!0,lt),R(lt.prototype,{name:p("Row"),icon:"fa fa-table",description:p("One row to implement a table layout with responsive ability. You can choose number of columns and thier widths. Used by default."),category:p("Layout"),params:[W({type:"dropdown",heading:p("Device"),param_name:"device",value:{xs:p("Extra small devices Phones (<768px)"),sm:p("Small devices Tablets (≥768px)"),md:p("Medium devices Desktops (≥992px)"),lg:p("Large devices Desktops (≥1200px)")},description:p("Bootstrap responsive grid system")}),W({type:"dropdown",heading:p("Background Effect"),param_name:"effect",tab:p("Background Effects"),value:{"":p("Simple Image"),fixed:p("Fixed Image"),parallax:p("Parallax Image"),youtube:p("YouTube Video")},description:p("Select the effect you want to apply to the row background.")}),W({type:"integer_slider",heading:p("Parallax speed"),param_name:"parallax_speed",tab:p("Background Effects"),value:20,dependency:{element:"effect",value:["parallax"]}}),W({type:"checkbox",heading:p("Video Play Options"),param_name:"video_options",tab:p("Background Effects"),description:p("Select options for the video."),value:{loop:p("Loop"),mute:p("Muted")},dependency:{element:"effect",value:["youtube"]}}),W({type:"textfield",heading:p("YouTube Video URL"),param_name:"video_youtube",tab:p("Background Effects"),description:p("Enter the YouTube video URL."),dependency:{element:"effect",value:["youtube"]}}),W({type:"textfield",heading:p("Start Time in seconds"),param_name:"video_start",tab:p("Background Effects"),description:p("Enter time in seconds from where video start to play."),value:"0",dependency:{element:"effect",value:["youtube"]}}),W({type:"textfield",heading:p("Stop Time in seconds"),param_name:"video_stop",tab:p("Background Effects"),description:p("Enter time in seconds where video ends."),value:"0",dependency:{element:"effect",value:["youtube"]}})].concat(lt.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){lt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
for(var t=this,i=this.controls,o='<div class="row-layouts '+n+'clearfix">',s=["1/1","1/2 + 1/2","2/3 + 1/3","1/3 + 1/3 + 1/3","1/4 + 1/4 + 1/4 + 1/4","1/4 + 3/4","1/4 + 1/2 + 1/4","5/6 + 1/6","1/6 + 1/6 + 1/6 + 1/6 + 1/6 + 1/6","1/6 + 4/6 + 1/6","1/6 + 1/6 + 1/6 + 1/2"],r=0;r<s.length;r++)o+='<div title="'+c("Set "+s[r]+" colums")+'" class="control set-columns-layout l_'+s[r].replace(/ \+ /g,"_").replace(/\//g,"")+'" data-az-columns="'+s[r]+'"></div>'
o+="</div>"
var l=e('<button title="'+c("Set layout")+'" class="control set-columns '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-th"> </button>').appendTo(this.controls).click({object:this},this.click_set_columns)[a+"popover"]({animation:!1,placement:n+"right",html:"true",trigger:"manual",content:o}).hover(function(){e(this)[a+"popover"]("show"),e(i).find("."+n+"popover .set-columns-layout").each(function(){e(this).click({object:t},t.click_set_columns)}),e(i).find("."+n+"popover").mouseleave(function(){e(l)[a+"popover"]("hide"),e(l).css("display","")})})}},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"x",items:"> .az-column",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},update_sorting:function(){lt.baseclass.prototype.update_sorting.apply(this,arguments)
for(var t=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id")),n=0;n<t.children.length;n++)t.children[n].update_empty()},update_dom:function(){lt.baseclass.prototype.update_dom.apply(this,arguments)
for(var e=0;e<this.children.length;e++)this.children[e].update_dom()},click_set_columns:function(t){var n=e(this).attr("data-az-columns")
if(""==n||void 0==n){if(""==t.data.object.columns){n=[]
for(var a=0;a<t.data.object.children.length;a++)n.push(t.data.object.children[a].attrs.width)
t.data.object.columns=n.join(" + ")}n=window.prompt(p("Enter custom layout for your row:"),t.data.object.columns)}return""!=n&&null!=n&&t.data.object.set_columns(n),!1},set_columns:function(e){this.columns=e
var t=e.replace(" ","").split("+")
if(0==this.children.length)for(var n=0;n<t.length;n++){var a=new dt(this,!0)
a.update_dom(),a.update_width(t[n])}else if(this.children.length==t.length)for(var n=0;n<t.length;n++)this.children[n].update_width(t[n])
else if(this.children.length>t.length){for(var i=this.children[t.length-1],n=0;n<this.children.length;n++)if(n<t.length)this.children[n].update_width(t[n])
else{for(var o=this.children[n],s=0;s<o.children.length;s++)o.children[s].parent=i,i.children.push(o.children[s])
o.children=[]}i.update_dom()
for(var r=this.children.slice(t.length,this.children.length),n=0;n<r.length;n++)r[n].remove()}else for(var n=0;n<t.length;n++)if(n<this.children.length)this.children[n].update_width(t[n])
else{var a=new dt(this,!0)
a.update_dom(),a.update_width(t[n])}this.update_sortable()},showed:function(e){lt.baseclass.prototype.showed.apply(this,arguments)
var t=this
switch(this.attrs.effect){case"parallax":this.add_js_list({paths:["jquery.parallax/jquery.parallax.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"parallax"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){e(t.dom_element).css("background-attachment","fixed"),e(t.dom_element).css("background-position","50% 0"),e(t.dom_element).parallax("50%",t.attrs.parallax_speed/100)},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})
break
case"fixed":e(t.dom_element).css("background-attachment","fixed")
break
case"youtube":var n=_.indexOf(t.attrs.video_options.split(","),"loop")>=0,a=_.indexOf(t.attrs.video_options.split(","),"mute")>=0
this.add_css("jquery.mb.YTPlayer/css/YTPlayer.css","mb_YTPlayer"in e.fn,function(){}),this.add_js_list({paths:["jquery.mb.YTPlayer/inc/jquery.mb.YTPlayer.js","jquery-waypoints/waypoints.min.js"],loaded:"waypoint"in e.fn&&"mb_YTPlayer"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){e(t.dom_element).attr("data-property","{videoURL:'"+Y(t.attrs.video_youtube)+"',containment:'#"+t.id+"', showControls:false, autoPlay:true, loop:"+n+", mute:"+a+", startAt:"+t.attrs.video_start+", stopAt:"+t.attrs.video_stop+", opacity:1, addRaster:false, quality:'default'}"),e(t.dom_element).mb_YTPlayer(),e(t.dom_element).playYTP()},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})}},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-row '+t+"row "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,lt.baseclass.prototype.render.apply(this,arguments)}}),Z("az_column",!0,dt),R(dt.prototype,{name:p("Column"),params:[W({type:"textfield",heading:p("Column with"),param_name:"width",hidden:!0})].concat(dt.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this row and current column. You can choose columns layout by mouse over (or click) this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-th"></span></div></div>'},show_controls:function(){window.azexo_editor&&(dt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".clone").remove(),e(this.controls).find(".copy").remove(),e(this.controls).find(".remove").remove())},get_my_shortcode:function(){return this.get_children_shortcode()},update_width:function(t){e(this.dom_element).removeClass(L(this.attrs.width,this.parent.attrs.device)),this.attrs.width=t,e(this.dom_element).addClass(L(this.attrs.width,this.parent.attrs.device)),e(document).trigger("azexo_update_element",this.id)},render:function(e){this.dom_element=e('<div class="az-element az-ctnr az-column '+this.attrs.el_class+" "+L(this.attrs.width,this.parent.attrs.device)+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,dt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_grid",!0,ct),R(ct.prototype,{name:p("Grid"),icon:"fa fa-th-large",description:p("Grid with filter by tags. Every item of grid can contain any number of any types of elements."),category:p("Layout"),params:[W({type:"integer_slider",heading:p("Columns number"),param_name:"columns_number",min:"1",max:"20",value:"3"}),W({type:"checkbox",heading:p("Masonry grid?"),param_name:"masonry",value:{yes:p("Yes, please")}})].concat(ct.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},update_sortable:function(){function t(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.css("width",t.helper.css("width")),t.placeholder.css("height",t.helper.css("height")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}if(window.azexo_editor){var n=this
e(this.dom_element).find("> ul").sortable({items:"> .az-item",connectWith:".az-grid > ul",handle:"> .controls > .drag-and-drop",update:n.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,start:t,over:t})}},update_sorting:function(){ct.baseclass.prototype.update_sorting.apply(this,arguments)
for(var t=s.get_element(e(this).closest("[data-az-id]").attr("data-az-id")),n=0;n<t.children.length;n++)t.children[n].update_empty()},show_controls:function(){window.azexo_editor&&(ct.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e(this.controls).find(".clone").remove(),azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){}}))},click_add_item:function(e){return e.data.object.add_item(),!1},add_item:function(){var e=new pt(this,!0)
e.update_dom(),this.update_dom()},attach_events:function(){function t(t,a){var i=s.get_element(a)
if((a in n.linked_elements_index||i.parent.id in n.linked_elements_index)&&!("element_updating"in n)){n.element_updating=!0
var i=s.get_element(a),o=n.get_item(i)
n.add_control(i),t||i.synchronize(),e(i.parent.dom_content_element).hasClass("ui-sortable")&&i.id!=o.id&&e(i.parent.dom_content_element).sortable("option","containment",o.dom_content_element),delete n.element_updating}}if(window.azexo_editor){var n=this
e(document).on("azexo_add_element",function(t,a){var i=s.get_element(a.id),o=n.get_item(i)
null!=o&&(o.parent.linked_elements_index[i.id]=i),(i.parent.id in n.linked_elements_index||"az_item"==i.base)&&("element_adding"in n||(n.element_adding=!0,n.add_control(i),a.parse&&"az_column"!=i.base||i.synchronize(),e(i.parent.dom_content_element).hasClass("ui-sortable")&&i.id!=o.id&&e(i.parent.dom_content_element).sortable("option","containment",o.dom_content_element),delete n.element_adding))}),e(document).on("azexo_edited_element",function(e,n){t(!0,n)}),e(document).on("azexo_update_element",function(e,n){t(!1,n)}),e(document).on("azexo_delete_element",function(e,t){var a=s.get_element(t),i=n.get_item(a)
if(null!=i&&a.id in i.parent.linked_elements_index&&"az_item"!=a.base&&!("element_deleting"in n)){if(n.element_deleting=!0,!("item_removing"in n))for(var o=n.get_linked_elements(a,!0),r=0;r<o.length;r++)a.id!=o[r].id&&o[r].remove()
delete i.parent.linked_elements_index[a.id],delete n.element_deleting}}),e(document).on("azexo_update_sorting",function(t,a){var i=e(a.item).closest("[data-az-id]").attr("data-az-id")
if(i in n.linked_elements_index){var o=s.get_element(i),r=n.get_item(o)
if(null==r)delete n.linked_elements_index[i]
else if(o.id!=r.id)if(a.source.id==a.target.id)for(var l=n.get_linked_elements(o.parent,!1),d=(n.get_path(o.parent),0);d<l.length;d++){var c=l[d]
c.id!=o.parent.id&&(c.children.splice(a.to_pos,0,c.children.splice(a.from_pos,1)[0]),c.update_dom())}else for(var p=(n.get_path(a.source),n.get_linked_elements(a.source,!1)),m=(n.get_path(a.target),n.get_linked_elements(a.target,!1)),d=0;d<p.length;d++){var h=p[d],_=m[d]
if(h.id!=a.source.id&&_.id!=a.target.id){var u=h.children.splice(a.from_pos,1)[0]
h.update_dom(),_.children.splice(a.to_pos,0,u),_.update_dom()}}}})}},get_path:function(e){if("az_item"==e.base)return[]
if("parent"in e){var t=this.get_path(e.parent)
return null!=t?this.get_path(e.parent).concat([e.get_child_position()]):null}return null},get_item:function(e){return"az_item"==e.base?e:"parent"in e?this.get_item(e.parent):null},get_linked_elements:function(e,t){for(var n=[],a=this.get_path(e),i=0;i<this.children.length;i++){for(var o=this.children[i],s=0;s<a.length;s++){if(!(a[s]<o.children.length))return[]
o=o.children[a[s]]}if(e.base==o.base){if(t)for(var s=0;s<n.length;s++)if(n[s].parent.children.length!=o.parent.children.length)return[]
n.push(o)}}return n},add_control:function(t){var a=this
t.synchronize=function(){var e=a.get_linked_elements(this,!0)
if(e.length==a.children.length)for(var t=0;t<e.length;t++)e[t].edited(this.attrs)
else{var e=a.get_linked_elements(this.parent,!0)
if(e.length==a.children.length)for(var n=K.prototype.tags[this.base],i=this.get_child_position(),t=0;t<e.length;t++)if(e[t].id!=this.parent.id){var o=e[t],s=new n(o,!0)
o.children.splice(i,0,o.children.splice(o.children.length-1,1)[0]),s.update_dom(),o.update_dom(),a.linked_elements_index[s.id]=s,a.add_control(s)}}},_.defer(function(){var i=a.get_item(t)
null!=i&&null!=t.parent.dom_content_element&&t.id!=i.id&&e(t.parent.dom_content_element).hasClass("ui-sortable")&&e(t.parent.dom_content_element).sortable("option","containment",i.dom_content_element),null!=t.controls&&(e(t.controls).find(".copy").remove(),e(t.controls).find(".paste").remove(),e(t.controls).find(".save-template").remove(),"az_item"!=t.base&&e(t.controls).find(".clone").remove(),0==t.controls.find(".synchronize").length&&e('<button title="'+c("Synchronize this element settings through all grid items")+'" class="control synchronize '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-pushpin" > </button>').appendTo(t.controls).click({object:t},function(e){return e.data.object.synchronize(),!1}))})
for(var i=0;i<t.children.length;i++)a.add_control(t.children[i])},showed:function(e,t){ct.baseclass.prototype.showed.apply(this,arguments)
var n=this
this.add_js({path:"js/masonry.min.js",loaded:"masonry"in e.fn,callback:function(){for(var a=Math.floor(e(n.dom_element).parent().width()/parseInt(n.attrs.columns_number)),i=[],o=0;o<n.children.length;o++)if(e(n.children[o].dom_element).css("width",a),""!=n.children[o].attrs.tags){for(var s=n.children[o].attrs.tags.split(","),r=0;r<s.length;r++)s[r]=s[r].replace(/ /g,"")
i=i.concat(s)}if(i=e.unique(i),e(n.dom_element).find(".az-tags").remove(),i.length>0){var l=e('<div class="az-tags '+t+'btn-group"></div>').prependTo(n.dom_element)
e('<a class="az-tag '+t+"btn "+t+'btn-default">'+p("All")+"</a>").appendTo(l).click(function(){e(n.dom_content_element).find("> .az-item").css("display","block"),"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry("layout")})
for(var o=0;o<i.length;o++)!function(a){e('<a class="az-tag '+t+"btn "+t+'btn-default">'+i[a]+"</a>").appendTo(l).click(function(){e(n.dom_content_element).find('> .az-item[data-az-tags*="'+i[a]+'"]').css("display","block"),e(n.dom_content_element).find('> .az-item:not([data-az-tags*="'+i[a]+'"])').css("display","none"),"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry("layout")})}(o)}"yes"==n.attrs.masonry&&e(n.dom_element).find("ul").masonry({itemSelector:"li",columnWidth:a})}})},render:function(e){this.dom_element=e('<div class="az-element az-grid '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<ul></ul>").appendTo(this.dom_element),ct.baseclass.prototype.render.apply(this,arguments)}}),Z("az_item",!0,pt),R(pt.prototype,{name:p("Item"),params:[W({type:"textfield",heading:p("Item tags"),param_name:"tags",descritption:p("Separated by comma.")}),W({type:"textfield",heading:p("Item height"),param_name:"height",description:p("You can use px, em, %, etc. or enter just number and it will use pixels.")})].concat(pt.prototype.params),hidden:!0,is_container:!0,disallowed_elements:["az_grid","az_tabs","az_accordion","az_carousel","az_form"],show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this grid element and for current item element. You can add new item via clone current item by click on this button:")+'<span class="'+n+"glyphicon "+n+'glyphicon-repeat"></span></div><div class="bottom '+n+'well"><strong>'+p("1) Create one item as template. 2) Clone it as much as you want. 3) Customize every item.")+"</strong></div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},remove:function(){this.parent.item_removing=!0,pt.baseclass.prototype.remove.apply(this,arguments),delete this.parent.item_removing,this.parent.showed(e,n,a)},clone:function(){var t=pt.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))
for(var n=0;n<this.parent.children.length;n++)if(this.parent.children[n].id==this.id){this.parent.paste(n)
break}this.parent.update_dom()},show_controls:function(){window.azexo_editor&&(pt.baseclass.prototype.show_controls.apply(this,arguments),this.parent.add_control(this))},edited:function(){pt.baseclass.prototype.edited.apply(this,arguments),this.parent.showed(e,n,a)},showed:function(e){pt.baseclass.prototype.showed.apply(this,arguments)
var t=Math.floor(e(this.parent.parent.dom_content_element).width()/parseInt(this.parent.attrs.columns_number))
e(this.dom_element).css("width",t)},render:function(e){this.dom_element=e('<li class="az-element az-ctnr az-item '+this.attrs.el_class+'" style="'+this.attrs.style+'" data-az-tags="'+this.attrs.tags+'"></li>'),this.dom_content_element=this.dom_element,"height"in this.attrs&&e(this.dom_element).css("height",this.attrs.height),pt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_layers",!0,mt),R(mt.prototype,{name:p("Layers"),icon:"fa fa-archive",description:p("Box with fixed size. Every contained element have free position and free size in proportion with this element."),category:p("Layout"),params:[W({type:"textfield",heading:p("Width"),param_name:"width",description:p("You can use px, em, %, etc. or enter just number and it will use pixels."),value:"100%"}),W({type:"integer_slider",heading:p("Height"),param_name:"height",max:"10000",value:"500"})].concat(mt.prototype.params),show_settings_on_create:!0,is_container:!0,disallowed_elements:["az_layers"],get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well">'+p("Double click will add a new element. All elements are draggable and resizable. Middle mouse click will iterate via all elements placed in this container - it can help when elements overlapped.")+'</div><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this layers element.")+"</div></div>"},zindex_normalize:function(){for(var t=[],n=0;n<this.children.length;n++)isNaN(parseInt(this.children[n].attrs.pos_zindex))&&(this.children[n].attrs.pos_zindex=0),t.push(parseInt(this.children[n].attrs.pos_zindex))
t=_.sortBy(t,function(e){return e}),t=_.uniq(t)
for(var n=0;n<this.children.length;n++){var a=_.sortedIndex(t,parseInt(this.children[n].attrs.pos_zindex))
e(this.children[n].dom_element).css("z-index",a),this.children[n].attrs.pos_zindex=a}},update_sortable:function(){function t(t){var n=e(t).closest("[data-az-id]").attr("data-az-id"),o=s.get_element(n)
o.attrs.pos_left=parseInt(e(t).css("left"))/(e(i.dom_element).width()/100)+"%",o.attrs.pos_top=parseInt(e(t).css("top"))/(e(i.dom_element).height()/100)+"%",o.attrs.pos_width=parseInt(e(t).css("width"))/(e(i.dom_element).width()/100)+"%",o.attrs.pos_height=parseInt(e(t).css("height"))/(e(i.dom_element).height()/100)+"%",a(t),e(document).trigger("azexo_update_element",n)}function a(t){e(t).css("left",parseInt(e(t).css("left"))/(e(i.dom_element).width()/100)+"%"),e(t).css("top",parseInt(e(t).css("top"))/(e(i.dom_element).height()/100)+"%"),e(t).css("width",parseInt(e(t).css("width"))/(e(i.dom_element).width()/100)+"%"),e(t).css("height",parseInt(e(t).css("height"))/(e(i.dom_element).height()/100)+"%")}if(window.azexo_editor){var i=this
i.zindex_normalize(),e(this.dom_content_element).resizable({start:function(){for(var e=0;e<i.children.length;e++){var t=i.children[e].dom_element
a(t)}},stop:function(){i.attrs.width=parseInt(e(i.dom_content_element).css("width"))/(e(i.dom_element).width()/100)+"%",i.attrs.height=e(i.dom_content_element).height(),e(document).trigger("azexo_update_element",i.id)}})
for(var o=0;o<this.children.length;o++)e.isNumeric(e(this.children[o].dom_element).css("z-index"))||e(this.children[o].dom_element).css("z-index",0),null==this.children[o].controls&&this.children[o].show_controls(),null==this.children[o].attrs.pos_top&&(this.children[o].attrs.pos_top="50%"),null==this.children[o].attrs.pos_left&&(this.children[o].attrs.pos_left="50%"),null==this.children[o].attrs.pos_width&&(this.children[o].attrs.pos_width="50%"),null==this.children[o].attrs.pos_height&&(this.children[o].attrs.pos_height="50%"),0==this.children[o].controls.find(".width100").length&&e('<button title="'+c("100% width")+'" class="control width100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-horizontal" > </button>').appendTo(this.children[o].controls).click({object:this.children[o]},function(t){t.data.object.attrs.pos_left="0%",e(t.data.object.dom_element).css("left","0%"),t.data.object.attrs.pos_width="100%",e(t.data.object.dom_element).css("width","100%")}),0==this.children[o].controls.find(".heigth100").length&&e('<button title="'+c("100% heigth")+'" class="control heigth100 '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-vertical" > </button>').appendTo(this.children[o].controls).click({object:this.children[o]},function(t){t.data.object.attrs.pos_top="0%",e(t.data.object.dom_element).css("top","0%"),t.data.object.attrs.pos_height="100%",e(t.data.object.dom_element).css("height","100%")}),0==this.children[o].controls.find(".forward").length&&e('<button title="'+c("Bring forward")+'" class="control forward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-up" > </button>').appendTo(this.children[o].controls).click({object:this.children[o]},function(t){e.isNumeric(e(t.data.object.dom_element).css("z-index"))?(e(t.data.object.dom_element).css("z-index",Math.round(e(t.data.object.dom_element).css("z-index"))+1),t.data.object.attrs.pos_zindex=e(t.data.object.dom_element).css("z-index")):(e(t.data.object.dom_element).css("z-index",0),t.data.object.attrs.pos_zindex=0),i.zindex_normalize()}),0==this.children[o].controls.find(".backward").length&&e('<button title="'+c("Send backward")+'" class="control backward '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-arrow-down" > </button>').appendTo(this.children[o].controls).click({object:this.children[o]},function(t){e.isNumeric(e(t.data.object.dom_element).css("z-index"))?Math.round(e(t.data.object.dom_element).css("z-index"))>0&&(e(t.data.object.dom_element).css("z-index",Math.round(e(t.data.object.dom_element).css("z-index"))-1),t.data.object.attrs.pos_zindex=e(t.data.object.dom_element).css("z-index")):(e(t.data.object.dom_element).css("z-index",0),t.data.object.attrs.pos_zindex=0),i.zindex_normalize()}),e(this.children[o].dom_element).draggable({handle:"> .controls > .drag-and-drop",containment:"#"+this.id,scroll:!1,snap:"#"+this.id+", .az-element",stop:function(){t(this)}}),e(this.children[o].dom_element).resizable({containment:"#"+this.id,stop:function(){t(this)}})}},show_controls:function(){if(window.azexo_editor){mt.baseclass.prototype.show_controls.apply(this,arguments),this.update_sortable()
var t=this
e(this.dom_content_element).dblclick(function(e){1==e.which&&s.show(t,function(t){t.attrs.pos_top=""+e.offsetY+"px",t.attrs.pos_left=""+e.offsetX+"px"})})}},attach_children:function(){mt.baseclass.prototype.attach_children.apply(this,arguments),window.azexo_editor&&this.update_sortable()},render:function(e){this.dom_element=e('<div class="az-element az-layers '+this.attrs.el_class+'" style="'+this.attrs.style+'"><div id="'+this.id+'" class="az-ctnr"></div></div>'),this.dom_content_element=e(this.dom_element).find(".az-ctnr"),e(this.dom_content_element).css("width",this.attrs.width),e(this.dom_content_element).css("height",this.attrs.height),mt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_tabs",!0,ht),R(ht.prototype,{name:p("Tabs"),icon:"fa fa-folder-o",description:p("Bootstrap content tabs. Every tab can contain any number of any types of elements."),category:p("Layout"),params:[].concat(ht.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){window.azexo_editor&&(ht.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e('<button title="'+c("Add tab")+'" class="control add-tab '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_tab))},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"x",items:"> ul > li",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},update_sorting:function(t,n){var a=e(this).sortable("option"),i=s.get_element(e(this).attr("data-az-id")),o=[]
e(this).find(a.items).each(function(){var t=e(this).find('a[data-toggle="tab"]').attr("href").replace("#","")
o.push(s.get_element(t))}),i.children=o
for(var r=0;r<i.children.length;r++)i.children[r].parent=i
i.update_dom(),e(document).trigger("azexo_update_sorting",n)},click_add_tab:function(e){return e.data.object.add_tab(),!1},add_tab:function(){var t=new _t(this,!1)
t.update_dom(),this.update_dom(),e(this.dom_element).find('a[href="#'+t.id+'"]')[a+"tab"]("show")},showed:function(e,t,n){ht.baseclass.prototype.showed.apply(this,arguments),e(this.dom_element).find("ul."+t+"nav-tabs li:first a")[n+"tab"]("show")},render:function(e,t){this.dom_element=e('<div class="az-element az-tabs '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>')
for(var n='<ul class="'+t+"nav "+t+'nav-tabs" role="tablist">',a=0;a<this.children.length;a++)n+='<li><a href="#'+this.children[a].id+'" role="tab" data-toggle="tab">'+this.children[a].attrs.title+"</a></li>"
n+="</ul>",e(this.dom_element).append(n)
var i='<div id="'+this.id+'" class="'+t+'tab-content"></div>'
this.dom_content_element=e(i).appendTo(this.dom_element),ht.baseclass.prototype.render.apply(this,arguments)}}),Z("az_tab",!0,_t),R(_t.prototype,{name:p("Tab"),params:[W({type:"textfield",heading:p("Tab title"),param_name:"title",value:p("Title")})].concat(_t.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this tabs element and for current tab element. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new tab.")+" "+p("Tabs headers are draggable. You can enter tab title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},show_controls:function(){window.azexo_editor&&(_t.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(){_t.baseclass.prototype.edited.apply(this,arguments),this.parent.update_dom(),e('a[href="#'+this.id+'"]')[a+"tab"]("show")},clone:function(){var t=_t.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t))),this.parent.paste(this.parent.children.length),this.parent.update_dom()},remove:function(){_t.baseclass.prototype.remove.apply(this,arguments),this.parent.update_dom()},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-ctnr az-tab '+t+"tab-pane "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,_t.baseclass.prototype.render.apply(this,arguments)}}),rt("az_accordion",!0,ut),R(ut.prototype,{name:p("Accordion"),icon:"fa fa-bars",description:p("Bootstrap content accordion. Every toggle of this element can contain any number of any types of elements."),category:p("Layout"),params:[W({type:"dropdown",heading:p("Type"),param_name:"type",value:{"panel-default":p("Default"),"panel-primary":p("Primary"),"panel-success":p("Success"),"panel-info":p("Info"),"panel-warning":p("Warning"),"panel-danger":p("Danger")}}),W({type:"checkbox",heading:p("Collapsed?"),param_name:"collapsed",value:{yes:p("Yes, please")}})].concat(ut.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){window.azexo_editor&&(ut.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove(),e('<button title="'+c("Add toggle")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_toggle))},update_sortable:function(){window.azexo_editor&&e(this.dom_element).sortable({axis:"y",items:"> .az-toggle",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},click_add_toggle:function(e){return e.data.object.add_toggle(),!1},add_toggle:function(){var e=new ft(this,!1)
e.update_dom(),this.update_dom()},update_dom:function(){for(var e=0;e<this.children.length;e++)this.children[e].update_dom()
ut.baseclass.prototype.update_dom.apply(this,arguments)},showed:function(e,t,n){ut.baseclass.prototype.showed.apply(this,arguments),e(this.dom_element).find("> .az-toggle > ."+t+"in").removeClass(t+"in"),e(this.dom_element).find("> .az-toggle > ."+t+"collapse:not(:first)")[n+"collapse"]({toggle:!1,parent:"#"+this.id}),e(this.dom_element).find("> .az-toggle > ."+t+"collapse:first")[n+"collapse"]({toggle:"yes"!=this.attrs.collapsed,parent:"#"+this.id})},render:function(e,t){this.dom_element=e('<div id="'+this.id+'" class="az-element az-accordion '+t+"panel-group "+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,ut.baseclass.prototype.render.apply(this,arguments)}}),Z("az_toggle",!0,ft),R(ft.prototype,{name:p("Toggle"),params:[W({type:"textfield",heading:p("Toggle title"),param_name:"title",value:p("Title")})].concat(ft.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this accordion element and for current toggle. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new toggle. You can enter toggle title by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-pencil"></span></div></div>'},get_my_shortcode:function(){return this.get_children_shortcode()},clone:function(){var t=ft.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t))),this.parent.paste(this.parent.children.length)},render:function(e,t){var n=t+"panel-default"
""!=this.parent.attrs.type&&(n=this.parent.attrs.type),this.dom_element=e('<div class="az-element az-toggle '+t+"panel "+n+" "+this.attrs.el_class+'" style="'+this.attrs.style+'"><div class="'+t+'panel-heading"><h4 class="'+t+'panel-title"><a data-toggle="collapse" data-parent="#'+this.parent.id+'" href="#'+this.id+'">'+this.attrs.title+'</a></h4></div><div id="'+this.id+'" class="'+t+"panel-collapse "+t+'collapse"><div class="'+t+'panel-body az-ctnr"></div></div></div>'),this.dom_content_element=e(this.dom_element).find("."+t+"panel-body"),ft.baseclass.prototype.render.apply(this,arguments)}}),rt("az_carousel",!0,gt),R(gt.prototype,{name:p("Carousel"),icon:"fa fa-ellipsis-h",description:p("Content carousel. Every slide of this element can contain any number of any types of elements. It can be used for create classic content slider."),category:p("Layout"),params:[W({type:"integer_slider",heading:p("Number items"),param_name:"items",min:"1",max:"10",value:"1"}),W({type:"checkbox",heading:p("Options"),param_name:"options",value:{navigation:p("Navigation"),auto_play:p("Auto play"),mouse:p("Mouse drag"),touch:p("Touch drag")}}),W({type:"dropdown",heading:p("Transition style"),param_name:"transition",value:{"":p("Default"),fade:p("fade"),backSlide:p("backSlide"),goDown:p("goDown"),fadeUp:p("fadeUp")}})].concat(gt.prototype.params),is_container:!0,show_settings_on_create:!0,frontend_render:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){if(window.azexo_editor){gt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
e('<button title="'+c("Add slide")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_slide)}},update_sortable:function(){},click_add_slide:function(e){return e.data.object.add_slide(),!1},add_slide:function(){var e=new vt(this,!0)
e.update_dom(),this.update_dom()},showed:function(e){gt.baseclass.prototype.showed.apply(this,arguments),this.add_css("owl.carousel/owl-carousel/owl.carousel.css","owlCarousel"in e.fn,function(){}),this.add_css("owl.carousel/owl-carousel/owl.theme.css","owlCarousel"in e.fn,function(){}),this.add_css("owl.carousel/owl-carousel/owl.transitions.css","owlCarousel"in e.fn,function(){})
var t=this
this.add_js({path:"owl.carousel/owl-carousel/owl.carousel.js",loaded:"owlCarousel"in e.fn,callback:function(){var n=function(t){var n=null
n="userItems"in t?t.userItems:t.$userItems
var a=null
a="visibleItems"in t?t.visibleItems:t.$visibleItems
for(var i=0;i<n.length;i++)if(_.indexOf(a,i)<0){var o=n[i],r=e(o).attr("data-az-id"),l=s.get_element(r)
if(!_.isUndefined(l))for(var d=0;d<l.children.length;d++)"trigger_start_out_animation"in l.children[d]&&l.children[d].trigger_start_out_animation()}for(var i=0;i<a.length;i++)if(a[i]<n.length){var o=n[a[i]],r=e(o).attr("data-az-id"),l=s.get_element(r)
if(!_.isUndefined(l))for(var d=0;d<l.children.length;d++)"trigger_start_in_animation"in l.children[d]&&l.children[d].trigger_start_in_animation()}}
e(t.dom_content_element).owlCarousel({singleItem:"1"==t.attrs.items,items:t.attrs.items,navigation:_.indexOf(t.attrs.options.split(","),"navigation")>=0,autoPlay:_.indexOf(t.attrs.options.split(","),"auto_play")>=0,mouseDrag:_.indexOf(t.attrs.options.split(","),"mouse")>=0,touchDrag:_.indexOf(t.attrs.options.split(","),"touch")>=0,transitionStyle:""==t.attrs.transition?!1:t.attrs.transition,stopOnHover:!0,afterAction:function(){n(this.owl)},beforeMove:function(){},afterMove:function(){},startDragging:function(){}}),n(t.dom_content_element.data("owlCarousel"))}})},render:function(e){this.dom_element=e('<div id="'+this.id+'" class="az-element az-carousel '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=e("<div></div>").appendTo(this.dom_element),gt.baseclass.prototype.render.apply(this,arguments)}}),Z("az_slide",!0,vt),R(vt.prototype,{name:p("Slide"),params:[].concat(vt.prototype.params),hidden:!0,frontend_render:!0,is_container:!0,show_parent_controls:!0,get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("Settings for this carousel element and for current slide. ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new slide.")+"</div></div>"},show_controls:function(){window.azexo_editor&&(vt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".clone").remove(),e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},get_my_shortcode:function(){return this.get_children_shortcode()},edited:function(){vt.baseclass.prototype.edited.apply(this,arguments),this.parent.update_dom()},render:function(e){var t="panel-default"
""!=this.parent.attrs.type&&(t=this.parent.attrs.type),this.dom_element=e('<div class="az-element az-slide '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),this.dom_content_element=this.dom_element,vt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_presentation",!0,yt),R(yt.prototype,{name:p("Presentation"),icon:"fa fa-file-powerpoint-o",description:p("Content presentation. Every step of presentation can contain any number of any types of elements."),category:p("Layout"),params:[W({type:"integer_slider",heading:p("Height"),param_name:"height",min:"0",max:"2000",value:"900"}),W({type:"checkbox",heading:p("Options"),param_name:"options",value:{navigation:p("Navigation"),auto_play:p("Auto play")}}),W({type:"integer_slider",heading:p("Perspective"),param_name:"perspective",min:"0",max:"10000",value:"1000"}),W({type:"integer_slider",heading:p("Transition duration"),param_name:"duration",min:"0",max:"10000",value:"1000"})].concat(yt.prototype.params),is_container:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},show_controls:function(){function t(e,t){var n={x:0,y:0},a=d.config.rotation/180*Math.PI,i=Math.cos(a),o=Math.sin(a)
return n.x=(e*i-t*o)*d.config.visualScaling,n.y=(e*o+t*i)*d.config.visualScaling,n}function a(){var t=s.get_element(e(p.$node[0]).closest("[data-az-id]").attr("data-az-id"))
t.attrs.x=""+p.data.x,t.attrs.y=""+p.data.y,t.attrs.rotate_z=""+p.data.rotate,t.attrs.scale=""+p.data.scale,e(document).trigger("azexo_update_element",t.id)}function i(){p.data.x=parseFloat(p.$node[0].dataset.x)||m.x,p.data.y=parseFloat(p.$node[0].dataset.y)||m.y,p.data.scale=parseFloat(p.$node[0].dataset.scale)||m.scale,p.data.rotate=parseFloat(p.$node[0].dataset.rotate)||m.rotate,a()}function o(){clearTimeout(f),f=setTimeout(function(){p.$node[0].dataset.scale=p.data.scale,p.$node[0].dataset.rotate=p.data.rotate,p.$node[0].dataset.x=p.data.x,p.$node[0].dataset.y=p.data.y,d.impress.initStep(p.$node[0]),a(),l(p.$node)},20)}function r(e){e.preventDefault(),e.stopPropagation()
var t=e.pageX-h.prevX,n=e.pageY-h.prevY
return h.prevX=e.pageX,h.prevY=e.pageY,h.activeFunction&&(h.activeFunction(t,n),o()),!1}function l(t){if(e(d.dom_element).parents(".azexo-editor").length>0){var n,a,i=t.offset()
n=i.top>0?i.top+100/d.config.visualScaling:0,a=i.left>0?i.left+100/d.config.visualScaling:0,e(d.step_controls).show().offset({top:n,left:a})}else e(d.step_controls).hide()}if(window.azexo_editor){gt.baseclass.prototype.show_controls.apply(this,arguments),e(this.controls).find(".add").remove(),e(this.controls).find(".paste").remove()
var d=this
e('<button title="'+c("Add step")+'" class="control add-toggle '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign" > </button>').appendTo(this.controls).click({object:this},this.click_add_step)
var p={editing:!1,$node:!1,data:{x:0,y:0,rotate:0,scale:0}}
d.config={rotateStep:.1,scaleStep:.01,redrawFunction:!1,setTransformationCallback:!1}
var m={x:0,y:0,rotate:0,scale:1},h={prevX:!1,prevY:!1,activeFunction:!1},_={}
_.move=function(e,n){var a=t(e,n)
p.data.x=p.data.x?p.data.x+a.x:a.x,p.data.y=p.data.y?p.data.y+a.y:a.y},_.scale=function(e){p.data.scale-=-e*d.config.scaleStep*d.config.visualScaling/10},_.rotate=function(e){p.data.rotate-=-e*d.config.rotateStep}
var u=null,f=null
"step_controls"in d&&d.step_controls.remove(),d.step_controls=e('<div class="az-step-controls '+n+'btn-group-vertical"></div>').hide(),e('<span class="number '+n+"btn "+n+"btn-primary "+n+'glyphicon"></span>').prependTo(d.step_controls).click(function(){var t=parseInt(e(this).html())-1
return d.impress.goto(d.children[t].id),!1}),e('<button title="'+c("Move this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-move"> </button>').data("func","move").appendTo(d.step_controls),e('<button title="'+c("Scale this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-resize-full" > </button>').data("func","scale").appendTo(d.step_controls),e('<button title="'+c("Rotate this step")+'" class="control '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-refresh" > </button>').data("func","rotate").appendTo(d.step_controls)
var u
e(d.step_controls).appendTo(d.dom_element).on("click","button",function(){return!1}),e(d.step_controls).appendTo(d.dom_element).on("mousedown","button",function(t){return t.preventDefault(),h.activeFunction=_[e(this).data("func")],i(),h.prevX=t.pageX,h.prevY=t.pageY,e(document).on("mousemove.az_presentation",r),!1}).on("mouseenter",function(){clearTimeout(u)}),e(document).on("mouseup",function(){h.activeFunction=!1,e(document).off("mousemove.az_presentation")}),e(d.dom_element).on("mouseenter",".step",function(){var t=e(this)
u=setTimeout(function(){if(!h.activeFunction){var n=s.get_element(t.closest("[data-az-id]").attr("data-az-id")),a=n.get_child_position()+1
e(d.step_controls).find("span.number").html(a),p.$node=t,l(p.$node)}},500),t.data("showTimer",u)}).on("mouseleave",".step",function(){clearTimeout(e(this).data("showTimer"))})
var g=!1,v=0,y="0s",b="0s"
e(document).off("scroll.az_presentation"),e(document).on("scroll.az_presentation",function(e){return g&&window.scrollTo(0,v),e.preventDefault(),e.stopPropagation(),!1}),e(d.dom_element).on("mouseenter",function(){v=e(document).scrollTop(),y=e(d.dom_content_element).css("transition-duration"),e(d.dom_content_element).css("transition-duration","0s"),b=e(d.dom_content_element).css("transition-delay"),e(d.dom_content_element).css("transition-delay","0s"),g=!0}),e(d.dom_element).on("mouseleave",function(){e(d.dom_content_element).css("transition-duration",y),e(d.dom_content_element).css("transition-delay",b),g=!1}),e(d.dom_element).on("mousewheel",function(t){("0s"!=e(d.dom_content_element).css("transition-duration")||"0s"!=e(d.dom_content_element).css("transition-delay"))&&(y=e(d.dom_content_element).css("transition-duration"),e(d.dom_content_element).css("transition-duration","0s"),b=e(d.dom_content_element).css("transition-delay"),e(d.dom_content_element).css("transition-delay","0s"))
var n=.05,a=t.originalEvent.wheelDelta/120,i=e(d.dom_content_element).css("transform"),o=1+a*n
d.config.visualScaling=d.config.visualScaling/o,e(d.dom_content_element).css("transform",i+" scale("+o+")")})}},update_sortable:function(){if(window.azexo_editor);},click_add_step:function(e){return e.data.object.add_step(),!1},add_step:function(){var e=new bt(this,!0)
e.update_dom(),this.update_dom()},attach_children:function(){if("impress"in this&&e(this.dom_content_element).find("> div").length>0)for(var t=0;t<this.children.length;t++)e(this.dom_content_element).find("> div").append(this.children[t].dom_element)
else yt.baseclass.prototype.attach_children.apply(this,arguments)},edited:function(){yt.baseclass.prototype.edited.apply(this,arguments),this.update_dom()},showed:function(e,t){yt.baseclass.prototype.showed.apply(this,arguments)
var n=this
this.add_js({path:"js/impress.js",loaded:"impress"in window,callback:function(){"impress"in n||(n.impress=window.impress(n.id)),n.impress.init(),"config"in n||(n.config={}),n.impress.setTransformationCallback(function(e){n.config.visualScaling=e.scale,n.config.rotation=~~e.rotate.z}),n.children.length>0&&n.impress.goto(n.children[0].id),n.dom_element.get(0).addEventListener("impress:stepenter",function(t){var n=e(t.target).attr("data-az-id"),a=s.get_element(n)
if(!_.isUndefined(a))for(var i=0;i<a.children.length;i++)"trigger_start_out_animation"in a.children[i]&&a.children[i].trigger_start_in_animation()},!1),n.dom_element.get(0).addEventListener("impress:stepleave",function(t){var n=e(t.target).attr("data-az-id"),a=s.get_element(n)
if(!_.isUndefined(a))for(var i=0;i<a.children.length;i++)"trigger_start_in_animation"in a.children[i]&&a.children[i].trigger_start_out_animation()},!1),e(n.dom_element).find("> ."+t+"pagination > li > ."+t+"prev").click(function(){return n.impress.prev(),!1}),e(n.dom_element).find("> ."+t+"pagination > li > ."+t+"next").click(function(){return n.impress.next(),!1}),e(n.dom_element).find("> ."+t+"pagination > li > .goto").click(function(){return n.impress.goto(e(this).attr("data-step")),!1}),"auto_play"in n&&clearInterval(n.auto_play),_.indexOf(n.attrs.options.split(","),"auto_play")>=0&&(n.auto_play=setInterval(function(){n.impress.next()},5e3))}})},render:function(e,t){if(delete this.impress,this.dom_element=e('<div class="az-element az-presentation '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),e(this.dom_element).css("height",this.attrs.height+"px"),e(this.dom_element).css("overflow","hidden"),this.dom_content_element=e('<div id="'+this.id+'"></div>').appendTo(this.dom_element),e(this.dom_content_element).attr("data-perspective",this.attrs.perspective),e(this.dom_content_element).attr("data-transition-duration",this.attrs.duration),_.indexOf(this.attrs.options.split(","),"navigation")>=0){var n=e('<ul class="'+t+'pagination"></ul>').appendTo(this.dom_element)
e('<li><a href="#" class="'+t+'prev">&laquo;</a></li>').appendTo(n)
for(var a=1;a<=this.children.length;a++)e('<li><a href="#" class="goto" data-step="'+this.children[a-1].id+'">'+a+"</a></li>").appendTo(n)
e('<li><a href="#" class="'+t+'next">&raquo;</a></li>').appendTo(n)}yt.baseclass.prototype.render.apply(this,arguments)}}),Z("az_step",!0,bt),R(bt.prototype,{name:p("Step"),params:[W({type:"integer_slider",heading:p("Width"),param_name:"width",min:"1",max:"100000",value:"900"}),W({type:"integer_slider",heading:p("Height"),param_name:"height",min:"1",max:"100000",value:"700"}),W({type:"integer_slider",heading:p("X coordinate"),param_name:"x",min:"0",max:"100000",value:"0"}),W({type:"integer_slider",heading:p("Y coordinate"),param_name:"y",min:"0",max:"100000",value:"0"}),W({type:"integer_slider",heading:p("Z coordinate"),param_name:"z",min:"0",max:"10000",value:"0"}),W({type:"integer_slider",heading:p("X rotate"),param_name:"rotate_x",min:"-180",max:"180",value:"0"}),W({type:"integer_slider",heading:p("Y rotate"),param_name:"rotate_y",min:"-180",max:"180",value:"0"}),W({type:"integer_slider",heading:p("Z rotate"),param_name:"rotate_z",min:"-180",max:"180",value:"0"}),W({type:"integer_slider",heading:p("Scale"),param_name:"scale",min:"0",max:"1000",value:"1",step:"0.01"})].concat(bt.prototype.params),hidden:!0,is_container:!0,show_parent_controls:!0,disallowed_elements:["az_presentation"],get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p('Settings for this presentation element and for current step. Press on "Space" button to going through steps. ')+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span>'+p(" - add a new step.")+"</div></div>"},get_my_shortcode:function(){return this.get_children_shortcode()},show_controls:function(){bt.baseclass.prototype.show_controls.apply(this,arguments),window.azexo_editor&&(e(this.controls).find(".drag-and-drop").remove(),e('<span class="control '+n+"btn "+n+"btn-primary "+n+'glyphicon">'+this.name+"</span>").prependTo(this.controls))},update_sortable:function(){if(window.azexo_editor){var t=this
e(this.dom_element).resizable({stop:function(){t.attrs.width=e(t.dom_element).width(),t.attrs.height=e(t.dom_element).height(),e(document).trigger("azexo_update_element",t.id),"impress"in t.parent&&t.impress.initStep(t.dom_element.get(0))}})}},clone:function(){var t=bt.baseclass.prototype.get_my_shortcode.apply(this,arguments)
e("#azexo-clipboard").html(btoa(encodeURIComponent(t)))
for(var n=0;n<this.parent.children.length;n++)if(this.parent.children[n].id==this.id){this.parent.paste(n)
break}this.parent.update_dom()},edited:function(){bt.baseclass.prototype.edited.apply(this,arguments)
var e=this
"impress"in e.parent&&e.parent.impress.initStep(e.dom_element.get(0))},remove:function(){bt.baseclass.prototype.remove.apply(this,arguments),this.parent.update_dom()},render:function(e){this.dom_element=e('<div id="'+this.id+'" class="az-element az-step step '+this.attrs.el_class+'" style="'+this.attrs.style+'"></div>'),e(this.dom_element).css("width",this.attrs.width),e(this.dom_element).css("height",this.attrs.height),e(this.dom_element).attr("data-x",this.attrs.x),e(this.dom_element).attr("data-y",this.attrs.y),e(this.dom_element).attr("data-z",this.attrs.z),e(this.dom_element).attr("data-rotate-x",this.attrs.rotate_x),e(this.dom_element).attr("data-rotate-y",this.attrs.rotate_y),e(this.dom_element).attr("data-rotate",this.attrs.rotate_z),e(this.dom_element).attr("data-scale",this.attrs.scale),this.dom_content_element=this.dom_element,bt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_container",!0,wt),R(wt.prototype,{name:p("Container"),icon:"fa fa-archive",description:p("AJAX loaded content from server. Content can be edited and saved to server."),category:p("Layout"),params:[W({type:"container",heading:p("Container"),param_name:"container",description:p("Type and name used as identificator to save container on server."),value:"/"})].concat(wt.prototype.params),show_settings_on_create:!0,is_container:!0,hidden:!window.azexo_online,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><div>'+this.name+'</div><div class="'+n+"text-muted "+n+'small">'+this.description+"</div></div>"},get_empty:function(){return'<div class="az-empty"><div class="top '+n+'well"><strong>'+p("Click to put an element here.")+'</strong></div><div class="top-right '+n+'well"><h1>↗</h1><span class="'+n+"glyphicon "+n+'glyphicon-eye-open"></span>'+p(" - toggle editor helpers.")+' <span class="'+n+"glyphicon "+n+'glyphicon-play-circle"></span>'+p(" - toggle animation engine to not hinder editing.")+' <span class="'+n+"glyphicon "+n+'glyphicon-save"></span>'+p(" - save results of editing on server.")+"</div></div>"},show_controls:function(){if(window.azexo_editor){var t=this
wt.baseclass.prototype.show_controls.apply(this,arguments),null==this.parent&&(e('<button title="'+c("Toggle editor")+'" class="control toggle-editor '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-eye-open" > </button>').appendTo(this.controls).click(function(){return e(t.dom_element).toggleClass("azexo-editor"),!1}),e('<button title="'+c("Toggle animations")+'" class="control toggle-animations '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-play-circle" > </button>').appendTo(this.controls).click(function(){return e(t.dom_element).toggleClass("azexo-animations-disabled"),!1}),e(this.controls).removeClass(n+"btn-group-xs"),e(this.controls).find(".edit").remove(),e(this.controls).find(".copy").remove(),e(this.controls).find(".clone").remove(),e(this.controls).find(".remove").remove(),e(this.controls).find(".js-animation").remove(),e(this.controls).find(".drag-and-drop").attr("title",""),e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon"),e(this.controls).find(".drag-and-drop").removeClass(n+"glyphicon-move"),e(this.controls).find(".drag-and-drop").removeClass("drag-and-drop")),e('<button title="'+c("Save container")+'" class="control save-container '+n+"btn "+n+"btn-success "+n+"glyphicon "+n+'glyphicon-save" > </button>').appendTo(this.controls).click({object:this},this.click_save_container)}},get_my_shortcode:function(){return this.get_children_shortcode()},get_container_html:function(){function t(e,t,n){return n&&!e.hasOwnProperty(t)?"":t+": "+e[t]+",\n"}function i(e,t,n){return n&&!e.hasOwnProperty(t)?"":t+": "+JSON.stringify(e[t])+",\n"}function o(n,a){var o="{"
for(var s in n)(!a||n.hasOwnProperty(s))&&(o+=e.isFunction(n[s])?t(n,s,a):i(n,s,a))
return o+="}"}function s(e,t,n){return n&&!e.prototype.hasOwnProperty(t)?"":e.name+".prototype."+t+"="+e.prototype[t]+"\n"}function r(e){for(var t=[],n=0;n<e.prototype.params.length;n++){var a={}
a.param_name=e.prototype.params[n].param_name,a.value="","value"in e.prototype.params[n]&&_.isString(e.prototype.params[n].value)&&(a.value=e.prototype.params[n].value),a.safe=e.prototype.params[n].safe,t.push(a)}return e.name+".prototype.params="+JSON.stringify(t)+";\n"}function l(e,t){var n={}
n.base=e.base,"showed"in e&&(n.showed=e.showed),n.params=[]
for(var a=0;a<e.params.length;a++)if("value"in e.params[a]&&_.isString(e.params[a].value)){var i={}
i.param_name=e.params[a].param_name,i.value=e.params[a].value,n.params.push(i)}else{var i={}
i.param_name=e.params[a].param_name,i.value="",n.params.push(i)}return e.hasOwnProperty("is_container")&&(n.is_container=e.is_container),e.hasOwnProperty("has_content")&&(n.has_content=e.has_content),e.hasOwnProperty("frontend_render")&&(n.frontend_render=e.frontend_render,n.frontend_render&&(n.render=e.render,e.hasOwnProperty("recursive_render")&&(n.recursive_render=e.recursive_render))),o(n,t)}function d(t){var n={}
n[t.base]=!0
for(var a=0;a<t.children.length;a++){var i=d(t.children[a])
e.extend(n,i)}return n}function c(t){var n={}
"an_scenes"in t.attrs&&""!=t.attrs.an_scenes&&(n.an_scenes=!0),"an_start"in t.attrs&&""!=t.attrs.an_start&&(n.an_start=!0),"an_letters"in t.attrs&&""!=t.attrs.an_letters&&(n.an_letters=!0),"an_js_in"in t.attrs&&""!=t.attrs.an_js_in&&(n.an_js=!0),"an_js_out"in t.attrs&&""!=t.attrs.an_js_out&&(n.an_js=!0)
for(var a=0;a<t.children.length;a++)e.extend(n,c(t.children[a]))
return n}function h(e){if(e.constructor.prototype.hasOwnProperty("showed")){var t=!1
switch("is_cms_element"in e&&(t=!0),e.base){case"az_container":null==e.parent&&(t=!0)
break
case"az_image":"yes"!=e.attrs.img_link_large&&"none"==e.attrs.adipoli_start&&"none"==e.attrs.adipoli_hover&&"yes"!=e.attrs.splits&&(t=!0)
break
case"az_row":""==e.attrs.effect&&(t=!0)}if(!t)return!0}for(var n=0;n<e.children.length;n++)if(h(e.children[n]))return!0
return!1}function u(e){var t=""
""!=e.attrs.hover_style&&(t="<style>.hover-style-"+e.id+":hover { "+e.attrs.hover_style+" } </style>")
for(var n=0;n<e.children.length;n++)t+=u(e.children[n])
return t}function f(){var t="(function("+Dt+") {\n"
if(t+="if('azexo_backend' in window) return;\n",t+="var "+Rt+" = true;\n",t+="var "+At+" = '"+n+"';var "+Lt+" = '"+a+"';\n",t+=""+p+"\n",t+=""+m+"\n",t+=""+v+"\n",t+=""+D+"\n",t+=""+R+"\n",t+=""+A+"\n",t+=""+U+"\n",t+=Dt+".fn.closest_descendents = "+e.fn.closest_descendents+" \n",t+=""+H+"\n",t+=H.name+".prototype.safe = true;\n",t+=H.name+".prototype.param_types = {};\n",t+=""+W+"\n",t+="window.azexo_add_css="+window.azexo_add_css+"\n",t+="window.azexo_add_js="+window.azexo_add_js+"\n",t+="window.azexo_add_js_list="+window.azexo_add_js_list+"\n",t+="var "+Ut+" = {};\n",t+="var "+Et+" = {};\n",t+="window.azexo_add_external_js="+window.azexo_add_external_js+"\n",t+=""+G+"\n",t+=G.name+".prototype.elements_instances = {};\n",t+=G.name+".prototype.elements_instances_by_an_name = {};\n",t+=s(G,"get_element",!0),t+=s(G,"delete_element",!0),t+=s(G,"add_element",!0),t+=""+K+"\n",t+=K.name+".prototype.p = '"+n+"';\n",t+=K.name+".prototype.fp = '"+a+"';\n",t+=K.name+".prototype.elements = {};\n",t+=K.name+".prototype.tags = {};\n",t+=r(K),t+=s(K,"showed",!0),t+=s(K,"render",!0),t+=s(K,"recursive_render",!0),t+=s(K,"replace_render",!0),t+=s(K,"update_dom",!0),t+=s(K,"attach_children",!0),t+=s(K,"detach_children",!0),t+=s(K,"recursive_showed",!0),t+=s(K,"parse_attrs",!0),t+=s(K,"parse_html",!0),t+=s(K,"add_css",!0),t+=s(K,"add_js_list",!0),t+=s(K,"add_js",!0),t+=s(K,"add_external_js",!0),t+=s(K,"get_my_container",!0),t+=""+Z+"\n",t+=""+et+"\n",t+=Z.name+"('az_unknown', true, "+et.name+");\n",t+="window.azexo_baseurl = '"+window.azexo_baseurl+"';\n","ajaxurl"in window&&(t+="window.ajaxurl = '"+window.ajaxurl+"';\n"),"azexo_lang"in window&&(t+="window.azexo_lang = '"+window.azexo_lang+"';\n"),"recaptcha_publickey"in window&&(t+="window.recaptcha_publickey = '"+window.recaptcha_publickey+"';\n"),t+="window.azexo_online = (window.location.protocol == 'http:' || window.location.protocol == 'https:');\n",t+="var "+Mt+" = new "+G.name+"();\n",t+="var "+Bt+" = null;\n",t+="window.azexo_editor = false;\n",t+="var "+Nt+" = [];\n",t+="var "+qt+" = {};\n",t+=""+it+"\n",t+=Dt+"(document).ready(function(){"+it.name+"("+Dt+"('[data-az-type=\"'+window.azexo_type+'\"][data-az-name=\"'+window.azexo_name+'\"]'));});\n",t+=""+st+"\n",t+=D.name+"("+st.name+", "+K.name+");\n",t+=r(st),"an_start"in x&&(t+=s(st,"set_in_timeout",!0),t+=s(st,"start_in_animation",!0),t+=s(st,"set_out_timeout",!0),t+=s(st,"start_out_animation",!0),t+=s(st,"clear_animation",!0),t+=s(st,"end_animation",!0),t+=s(st,"trigger_start_in_animation",!0),t+=s(st,"trigger_start_out_animation",!0),t+=s(st,"animation",!0)),("an_scenes"in x||"an_js"in x)&&(t+=s(st,"make_timeline",!0)),"an_scenes"in x&&(t+=s(st,"update_scroll_animation",!0)),"an_letters"in x&&(t+=s(st,"animation_letters",!0)),("an_start"in x||"an_scenes"in x)&&(t+=s(st,"showed",!0)),t+=""+rt+"\n",t+=""+kt+"\n",t+=D.name+"("+kt.name+", "+st.name+");\n",t+=kt.name+".prototype.form_elements = {};\n",t+=""+jt+"\n",lt.prototype.base in w&&(t+=""+lt+"\n",t+=rt.name+"('"+lt.prototype.base+"', true, "+lt.name+");\n",t+=s(lt,"showed",!0),t+=lt.name+".prototype.set_columns = function(columns){};\n",t+=""+dt+"\n",t+=Z.name+"('"+dt.prototype.base+"', true, "+dt.name+");\n",t+=s(dt,"showed",!0)),ct.prototype.base in w&&(t+=""+ct+"\n",t+=rt.name+"('"+ct.prototype.base+"', true, "+ct.name+");\n",t+=r(ct),t+=ct.name+".prototype.attach_events = function(){};\n",t+=s(ct,"showed",!0),t+=s(ct,"render",!0),t+=""+pt+"\n",t+=Z.name+"('"+pt.prototype.base+"', true, "+pt.name+");\n",t+=r(pt),t+=s(pt,"showed",!0),t+=s(pt,"render",!0)),mt.prototype.base in w&&(t+=""+mt+"\n",t+=rt.name+"('"+mt.prototype.base+"', true, "+mt.name+");\n"),ht.prototype.base in w&&(t+=""+ht+"\n",t+=rt.name+"('"+ht.prototype.base+"', true, "+ht.name+");\n",t+=r(ht),t+=s(ht,"showed",!0),t+=s(ht,"render",!0),t+=""+_t+"\n",t+=Z.name+"('"+_t.prototype.base+"', true, "+_t.name+");\n",t+=r(_t),t+=s(_t,"render",!0)),ut.prototype.base in w&&(t+=""+ut+"\n",t+=rt.name+"('"+ut.prototype.base+"', true, "+ut.name+");\n",t+=r(ut),t+=s(ut,"showed",!0),t+=s(ut,"render",!0),t+=""+ft+"\n",t+=Z.name+"('"+ft.prototype.base+"', true, "+ft.name+");\n",t+=r(ft),t+=s(ft,"render",!0),t+=s(ft,"showed",!0)),gt.prototype.base in w&&(t+=""+gt+"\n",t+=rt.name+"('"+gt.prototype.base+"', true, "+gt.name+");\n",t+=r(gt),t+=gt.name+".prototype.frontend_render = true;\n",t+=s(gt,"showed",!0),t+=s(gt,"render",!0),t+=""+vt+"\n",t+=Z.name+"('"+vt.prototype.base+"', true, "+vt.name+");\n",t+=vt.name+".prototype.frontend_render = true;\n",t+=s(vt,"showed",!0),t+=s(vt,"render",!0)),yt.prototype.base in w&&(t+=""+yt+"\n",t+=rt.name+"('"+yt.prototype.base+"', true, "+yt.name+");\n",t+=r(yt),t+=yt.name+".prototype.frontend_render = true;\n",t+=s(yt,"showed",!0),t+=s(yt,"render",!0),t+=""+bt+"\n",t+=Z.name+"('"+bt.prototype.base+"', true, "+bt.name+");\n"),wt.prototype.base in w&&(t+=""+wt+"\n",t+=rt.name+"('"+wt.prototype.base+"', true, "+wt.name+");\n",t+=r(wt),t+=s(wt,"showed",!0),t+=s(wt,"load_container",!0),t+=s(wt,"update_dom",!0),t+=s(wt,"render",!0),t+=s(wt,"recursive_render",!0)),xt.prototype.base in w&&(t+=""+xt+"\n",t+=Z.name+"('"+xt.prototype.base+"', false, "+xt.name+");\n",t+=s(xt,"showed",!0)),zt.prototype.base in w&&(t+=""+O+"\n",t+=""+zt+"\n",t+=rt.name+"('"+zt.prototype.base+"', true, "+zt.name+");\n",t+=s(zt,"showed",!0),t+=""+S+"\n"),"azexo_elements"in window){t+="window.azexo_elements = [];\n"
for(var i=0;i<window.azexo_elements.length;i++)window.azexo_elements[i].base in w&&(t+="window.azexo_elements.push("+l(window.azexo_elements[i],!0)+");\n")}if("azexo_form_elements"in window){t+="window.azexo_form_elements = [];\n"
for(var i=0;i<window.azexo_form_elements.length;i++)window.azexo_form_elements[i].base in w&&(t+="window.azexo_form_elements.push("+l(window.azexo_form_elements[i],!0)+");\n")}if("azexo_extend"in window){t+="window.azexo_extend = [];\n"
for(var i=0;i<window.azexo_extend.length;i++)t+="window.azexo_extend.push("+o(window.azexo_extend[i],!0)+");\n"}return t+=""+Tt+"\n",t+=Tt.name+"();\n",t+=""+St+"\n",t+=St.name+"();\n",t+=""+Ot+"\n",t+=Ot.name+"();\n",t+="})(window.jQuery);\n"}function g(e){var t=""
for(var n in e.js)t+='<script src="'+n+'"></script>\n'
return t}function y(e){var t=""
for(var n in e.css)t+='<link rel="stylesheet" type="text/css" href="'+n+'">\n'
return t}var b=this,w=d(b),x=c(b)
this.recursive_update_data(),this.recursive_clear_animation()
var z=e("<div>"+e(this.dom_content_element).html()+"</div>")
e(z).find(".az-element > .controls").remove(),e(z).find("> .controls").remove(),e(z).find(".az-empty").remove(),e(z).find(".ui-resizable-e").remove(),e(z).find(".ui-resizable-s").remove(),e(z).find(".ui-resizable-se").remove(),e(z).find(".ui-draggable").removeClass("ui-draggable"),e(z).find(".ui-resizable").removeClass("ui-resizable"),e(z).find(".ui-sortable").removeClass("ui-sortable"),e(z).find(".az-element.az-container > .az-ctnr").empty()
var k=""
if(h(b)||"an_start"in x||"an_scenes"in x){var j=b.attrs.container.split("/")[0],T=b.attrs.container.split("/")[1],I='window.azexo_type="'+j+'";window.azexo_name="'+T+'";'
k='<script type="text/javascript">'+I+"\n//<![CDATA[\n"+f()+"//]]>\n</script>\n"}return y(b)+u(b)+g(b)+k+e(z).html()},click_save_container:function(e){return e.data.object.save_container(),!1},save_container:function(){var e=this
azexo_add_js({path:"js/json2.min.js",loaded:"JSON"in window,callback:function(){var t=e.get_container_html()
g(e.attrs.container.split("/")[0],e.attrs.container.split("/")[1],t)}})},load_container:function(){var n=this
""!=this.attrs.container&&v(this.attrs.container.split("/")[0],this.attrs.container.split("/")[1],function(a){var i=/^\s*\<[\s\S]*\>\s*$/.exec(a)
if(i){n.loaded_container=n.attrs.container,e(a).appendTo(n.dom_content_element),n.parse_html(n.dom_content_element),e(n.dom_element).attr("data-az-id",n.id),n.html_content=!0
for(var o=0;o<n.children.length;o++)n.children[o].recursive_render()
n.dom_content_element.empty(),window.azexo_editor&&(n.show_controls(),n.update_sortable()),n.attach_children()
for(var o=0;o<n.children.length;o++)n.children[o].recursive_showed()
e(document).trigger("scroll")}else if(!t){n.loaded_container=n.attrs.container,n.parse_shortcode(a),e(n.dom_element).attr("data-az-id",n.id),window.azexo_editor&&(n.show_controls(),n.update_sortable())
for(var o=0;o<n.children.length;o++)n.children[o].recursive_render()
n.attach_children(),null!=n.parent&&n.parent.update_dom()
for(var o=0;o<n.children.length;o++)n.children[o].recursive_showed()
e(document).trigger("scroll")}})},clone:function(){wt.baseclass.prototype.clone.apply(this,arguments),this.rendered=!0},recursive_render:function(){t?(this.render(e,n,a),this.children=[]):wt.baseclass.prototype.recursive_render.apply(this,arguments),window.azexo_editor&&(this.show_controls(),this.update_sortable())},update_dom:function(){this.loaded_container!=this.attrs.container&&(this.children=[],e(this.dom_content_element).empty(),this.rendered=!1,null!=this.parent&&wt.baseclass.prototype.update_dom.apply(this,arguments))},showed:function(e){wt.baseclass.prototype.showed.apply(this,arguments)
var t=this
this.add_js({path:"jquery-waypoints/waypoints.min.js",loaded:"waypoint"in e.fn,callback:function(){e(t.dom_element).waypoint(function(){t.rendered||(t.rendered=!0,t.load_container())},{offset:"100%",triggerOnce:!0}),e(document).trigger("scroll")}})},render:function(e){this.dom_element=e('<div class="az-element az-container"><div class="az-ctnr"></div></div>'),this.dom_content_element=e(this.dom_element).find(".az-ctnr"),wt.baseclass.prototype.render.apply(this,arguments)}}),lt.prototype.params.push(W({type:"textfield",heading:p("Menu item title"),param_name:"menu_item_title",description:p("Title which will be used in scroll menu."),tab:p("Menu")})),Z("az_scroll_menu",!1,xt),R(xt.prototype,{name:p("Scroll Menu"),icon:"fa fa-sitemap",description:p("One page scroll menu"),params:[W({type:"image",heading:p("Logo"),param_name:"logo",description:p("Select image from media library.")}),W({type:"link",heading:p("Logo link"),param_name:"logo_link"})].concat(xt.prototype.params),showed:function(e,t,n){this.navbar_height=e(this.dom_element).find("."+t+"navbar").height(),xt.baseclass.prototype.showed.apply(this,arguments)
var a=this
this.add_js({path:"scrollTo/jquery.scrollTo.min.js",loaded:"scrollTo"in e.fn,callback:function(){e("#"+a.id+" ul li a").unbind("click"),e("#"+a.id+" ul li a").bind("click",function(t){return t.preventDefault(),t.stopPropagation(),e.scrollTo(this.hash,1e3),!1})}}),null!=a.dom_element&&(e("body")[n+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height}),e(a.dom_element).find("."+t+"navbar")[n+"affix"]({offset:{top:e(a.dom_element).find("."+t+"navbar").offset().top,bottom:0}}).on("affix."+n+"bs.affix resize",function(){e(a.dom_element).height(e(a.dom_element).find("."+t+"navbar").height()),e("body")[n+"scrollspy"]({target:"#"+a.id+".navbar-collapse",offset:a.navbar_height})}))},render:function(e,t){function n(t,n,a){e.isNumeric(n)&&(n+="px"),e.isNumeric(a)&&(a+="px")
var i=e('<img src="'+t+'" alt="">')
return n.length>0&&e(i).attr("width",n),a.length>0&&e(i).attr("height",a),i}this.dom_element=e('<div class="az-element az-scroll-menu"><nav  class="'+t+"navbar "+t+"navbar-default "+this.attrs.el_class+'" role="navigation" style="'+this.attrs.style+'"><div class="'+t+'container-fluid"></div></nav></div>')
var a=e('<div class="'+t+'navbar-header"><button type="button" class="'+t+'navbar-toggle" data-toggle="collapse" data-target="#'+this.id+'"><span class="'+t+'sr-only">'+p("Toggle navigation")+'</span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span><span class="'+t+'icon-bar"></span></button><a class="'+t+'navbar-brand" href="'+this.attrs.logo_link+'"></a></div>'),i=n(this.attrs.logo,"100%","")
e(a).find("a."+t+"navbar-brand").append(i)
var o=e('<div class="'+t+"collapse "+t+'navbar-collapse" id="'+this.id+'"></div>'),s='<ul class="'+t+"nav "+t+'navbar-nav">'
for(var r in this.menu_items)s+='<li><a href="#'+r+'">'+this.menu_items[r]+"</a></li>"
s+="</ul>",e(o).append(s),e(this.dom_element).find("."+t+"container-fluid").append(a).append(o),xt.baseclass.prototype.render.apply(this,arguments)}}),rt("az_form",!0,zt),R(zt.prototype,{name:p("Form"),icon:"fa fa-envelope-o",description:p("Form container. Can contain form elements for user input and any number of any other elements types."),category:p("Layout"),params:[W({type:"textfield",heading:p("Name"),param_name:"name",description:p("Required."),required:!0}),W({type:"textfield",heading:p("Submit button title"),param_name:"submit_title",value:p("Submit")}),W({type:"textfield",heading:p("Submited message"),param_name:"submited_message",value:p("Submited")})].concat(zt.prototype.params),is_container:!0,hidden:!window.azexo_online,show_settings_on_create:!0,get_button:function(){return'<div class="'+n+"well "+n+"text-center "+n+'text-overflow" data-az-element="'+this.base+'" style="width:100%;"><i class="'+n+"text-primary "+this.icon+'"></i><p>'+this.name+'</p><p class="'+n+"text-muted "+n+'small">'+this.description+"</p></div>"},get_empty:function(){return'<div class="az-empty"><div class="top-left '+n+'well"><h1>↖</h1>'+p("You can add form element by mouse over this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-plus-sign"></span> '+p("You can see all submissions by click on this button: ")+'<span class="'+n+"glyphicon "+n+'glyphicon-list-alt"></span></div></div>'},show_controls:function(){if(window.azexo_editor){zt.baseclass.prototype.show_controls.apply(this,arguments)
var t=this
e('<button title="'+c("Show submissions")+'" class="control show-submissions '+n+"btn "+n+"btn-default "+n+"glyphicon "+n+'glyphicon-list-alt" > </button>').appendTo(this.controls).click({object:this},this.click_show_submissions)
var i='<div class="form-fields '+n+"btn-group "+n+'btn-group-sm">'
for(var o in kt.prototype.form_elements){var s=kt.prototype.form_elements[o].prototype
i+='<button title="'+c("Add")+" "+s.name+'" class="control '+n+"btn "+n+"btn-default "+s.icon+'" data-az-element="'+o+'"></button>'}i+="</div>"
var r=e('<button title="'+c("Add form field")+'" class="control set-columns '+n+"btn "+n+"btn-primary "+n+"glyphicon "+n+'glyphicon-plus-sign"> </button>').appendTo(this.controls)[a+"popover"]({animation:!1,placement:n+"right",html:"true",trigger:"manual",content:i}).hover(function(){e(this)[a+"popover"]("show"),e(t.controls).find("."+n+"popover .control").each(function(){e(this).click(function(){var n=e(this).attr("data-az-element"),a=K.prototype.elements[n],i=new a(t,!1)
return i.update_dom(),t.update_dom(),t.update_empty(),i.show_settings_on_create&&i.edit(),!1})}),e(t.dom_element).mouseleave(function(){e(r)[a+"popover"]("hide"),e(r).css("display","")})})}},update_sortable:function(){window.azexo_editor&&e(this.dom_content_element).sortable({items:"> .az-element",connectWith:".az-form .az-ctnr",handle:"> .controls > .drag-and-drop",update:this.update_sorting,placeholder:"az-sortable-placeholder",forcePlaceholderSize:!0,over:function(e,t){t.placeholder.attr("class",t.helper.attr("class")),t.placeholder.removeClass("ui-sortable-helper"),t.placeholder.addClass("az-sortable-placeholder")}})},click_show_submissions:function(e){return e.data.object.show_submissions(),!1},show_submissions:function(){var t=this,i=t.get_my_container()
I(i.attrs.container.split("/")[0],i.attrs.container.split("/")[1],t.attrs.name,function(i){e("#az-form-modal").remove()
var o='<div class="'+n+'modal-header"><button type="button" class="'+n+'close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="'+n+'modal-title">'+t.attrs.name+" "+p(" submissions")+"</h4></div>",s='<div class="'+n+'modal-footer"></div>',r=e('<div id="az-form-modal" class="'+n+'modal azexo"><div class="'+n+"modal-dialog "+n+'modal-lg"><div class="'+n+'modal-content">'+o+'<div class="'+n+'modal-body"></div>'+s+"</div></div></div>").prependTo("body"),l={}
for(var d in i){var c=e.parseJSON(i[d])
for(var m in c)m in l||(l[m]=!0)}var h=[]
for(var d in i){var c=e.parseJSON(i[d]),_={}
for(var m in l)_[m]=m in c?c[m]:""
h.push(_)}var u=e("<table></table>"),f=e("<thead><tr></tr></thead>").appendTo(u)
for(var g in l)e(f).find("tr").append("<th>"+g+"</th>")
for(var v=e("<tbody></tbody>").appendTo(u),y=0;y<h.length;y++){var _=e("<tr></tr>").appendTo(v)
for(var g in l)e("<td>"+h[y][g]+"</td>").appendTo(_)}azexo_add_css("DataTables/media/css/jquery.dataTables.min.css",function(){}),azexo_add_js({path:"DataTables/media/js/jquery.dataTables.min.js",callback:function(){e(u).dataTable()}}),e(r).find("."+n+"modal-body").append(u),e("#az-form-modal")[a+"modal"]("show")})},showed:function(e){zt.baseclass.prototype.showed.apply(this,arguments)
var t=this
this.add_external_js("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){"recaptcha_publickey"in window?Recaptcha.create(window.recaptcha_publickey,"captcha_"+t.id,{theme:"clean"}):S(function(e){Recaptcha.create(e,"captcha_"+t.id,{theme:"clean"})})}),e(t.dom_element).submit(function(){var n=t.get_my_container()
return O(n.attrs.container.split("/")[0],n.attrs.container.split("/")[1],t.attrs.name,e(t.dom_element).serialize(),function(e){e&&t.dom_element.prepend(F(t.attrs.submited_message))}),!1})},render:function(e,t){this.dom_element=e('<form class="az-element az-form '+this.attrs.el_class+'" style="'+this.attrs.style+'" role="form" enctype="multipart/form-data"></form>'),this.dom_content_element=e('<div class="az-ctnr"></div>').appendTo(this.dom_element),e('<div class="'+t+'form-group"><div id="captcha_'+this.id+'"></div></div>').appendTo(this.dom_element),e('<div class="'+t+'form-group"><button class="'+t+"btn "+t+"btn-lg "+t+'btn-primary" type="submit">'+this.attrs.submit_title+"</button></div>").appendTo(this.dom_element),zt.baseclass.prototype.render.apply(this,arguments)}}),D(kt,st),R(kt.prototype,{form_elements:{},show_parent_controls:!0,params:[W({type:"textfield",heading:p("Name"),param_name:"name",description:p("Required."),required:!0}),W({type:"checkbox",heading:p("Field is required?"),param_name:"required",value:{yes:p("Yes, please")}})].concat(kt.prototype.params)}),Tt(),St(),Ot(),It(),Ct()}(window.jQuery,!1,"","",{},{},{},null,[],{})